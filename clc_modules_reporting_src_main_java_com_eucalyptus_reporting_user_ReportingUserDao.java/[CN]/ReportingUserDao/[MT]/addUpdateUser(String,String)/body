{
  loadIfNeededFromDb();
  if (users.containsKey(id) && users.get(id).equals(name)) {
    return;
  }
 else   if (users.containsKey(id)) {
    users.put(id,name);
    updateInDb(id,name);
  }
 else {
    try {
      addToDb(id,name);
      users.put(id,name);
    }
 catch (    RuntimeException e) {
      LOG.trace(e,e);
    }
  }
}
