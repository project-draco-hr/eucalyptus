{
  Cluster cluster=Clusters.getInstance().lookup(clusterName);
  NioClient nioClient=null;
  NioClientPipeline cp=null;
  if (!(event instanceof QueuedLogEvent)) {
    cp=new ClusterClientPipeline(new NioResponseHandler());
    nioClient=new NioClient(cluster.getHostName(),cluster.getPort(),cluster.getServicePath(),cp);
  }
 else {
    cp=new LogClientPipeline(new NioResponseHandler());
    nioClient=new NioClient(cluster.getHostName(),cluster.getPort(),cluster.getServicePath(),cp);
  }
  event.trigger(nioClient);
}
