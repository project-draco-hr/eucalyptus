{
  this.client=client;
  final VerticalPanel verticalPanel=new VerticalPanel();
  verticalPanel.add(searchWidget);
  verticalPanel.add(errorLabel);
  verticalPanel.add(statusWidget);
  verticalPanel.add(imageSectionsPanelContainer);
  imageSectionsPanelContainer.setWidget(imageSectionsPanel);
  imageSectionsPanelContainer.setStyleName("istore-sections-panel");
  initWidget(verticalPanel);
  setStyleName("istore-image-store-widget");
  errorLabel.setStyleName("istore-global-error-message");
  reloadTimer.scheduleRepeating(5000);
  client.getDashboard(responseHandler);
  searchWidget.addSearchHandler(new SearchHandler<SearchWidget>(){
    public void onSearch(    SearchEvent<SearchWidget> searchEvent){
      String searchText=searchEvent.getSearchText();
      if (searchText.length() == 0) {
        ImageStoreWidget.this.client.getDashboard(searchResponseHandler);
      }
 else {
        ImageStoreWidget.this.client.search(searchText,searchResponseHandler);
      }
    }
  }
);
  statusWidget.addClearErrorHandler(runActionClearErrorHandler);
}
