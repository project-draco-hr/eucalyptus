{
  for (  Bootstrapper bootstrap : BootstrapperDiscovery.getBootstrappers()) {
    for (    Resource r : Resource.values()) {
      if (r.providedBy(bootstrap.getClass()) || Resource.Final.equals(r)) {
        Provides provides=bootstrap.getClass().getAnnotation(Provides.class);
        if (provides == null) {
          LOG.info("-X Skipping bootstrapper " + bootstrap.getClass().getSimpleName() + " since Provides is not specified.");
        }
 else {
          Component component=provides.component();
          if (component != null && !component.isEnabled()) {
            LOG.info("-X Skipping bootstrapper " + bootstrap.getClass().getSimpleName() + " since Provides.component="+ component.toString()+ " is disabled.");
            break;
          }
          if (checkDepends(bootstrap)) {
            try {
              r.add(bootstrap);
            }
 catch (            Throwable e) {
              LOG.fatal(e,e);
              System.exit(1);
            }
            LOG.info("-> Associated bootstrapper " + bootstrap.getClass().getSimpleName() + " with resource "+ r.toString()+ ".");
            break;
          }
        }
      }
    }
  }
}
