{
  this.msgMap=Multimaps.newHashMultimap();
  this.vmAllocInfo=vmAllocInfo;
  this.pendingEvents=new ConcurrentLinkedQueue<QueuedEvent>();
  this.cluster=Clusters.getInstance().lookup(vmToken.getCluster());
  this.state=State.START;
  this.rollback=new AtomicBoolean(false);
  List<NetworkToken> tokens=Lists.newArrayList();
  for (  NetworkToken networkToken : vmToken.getNetworkTokens())   this.setupNetworkMessages(networkToken);
  this.setupVmMessages(vmToken);
}
