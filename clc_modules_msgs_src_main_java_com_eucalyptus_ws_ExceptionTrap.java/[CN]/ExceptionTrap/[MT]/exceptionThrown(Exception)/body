{
  String errMsg="";
  boolean baseEx=false;
  for (Throwable t=e; t.getCause() != null; t=t.getCause()) {
    errMsg+=t.getMessage() + " ";
    baseEx|=t instanceof BaseException;
  }
  try {
    Context ctx=Contexts.lookup();
    BaseMessage request=ctx.getRequest();
    BaseMessage reply=new EucalyptusErrorMessageType(ctx.getServiceName(),errMsg).regardingUserRequest(request);
    Channels.write(ctx.getChannel(),reply);
  }
 catch (  NoSuchContextException e1) {
    super.exceptionThrown(e);
  }
}
