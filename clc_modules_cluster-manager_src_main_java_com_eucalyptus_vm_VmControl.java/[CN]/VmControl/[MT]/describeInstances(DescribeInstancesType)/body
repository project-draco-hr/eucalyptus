{
  DescribeInstancesResponseType reply=(DescribeInstancesResponseType)msg.getReply();
  try {
    Context ctx=Contexts.lookup();
    reply.setReservationSet(SystemState.handle(ctx.getUserFullName(),msg.getInstancesSet(),ctx.hasAdministrativePrivileges()));
  }
 catch (  Exception e) {
    LOG.error(e);
    LOG.debug(e,e);
    throw new EucalyptusCloudException(e.getMessage());
  }
  return reply;
}
