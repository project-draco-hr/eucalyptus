{
  DescribeInstancesResponseType reply=(DescribeInstancesResponseType)msg.getReply();
  try {
    reply.setReservationSet(SystemState.handle(msg.getUserErn(),msg.getInstancesSet(),msg.isAdministrator()));
  }
 catch (  Exception e) {
    LOG.error(e);
    LOG.debug(e,e);
    throw new EucalyptusCloudException(e.getMessage());
  }
  return reply;
}
