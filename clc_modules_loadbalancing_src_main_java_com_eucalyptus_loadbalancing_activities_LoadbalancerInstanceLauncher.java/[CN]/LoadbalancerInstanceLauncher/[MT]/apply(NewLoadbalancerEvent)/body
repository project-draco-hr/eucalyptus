{
  final Collection<String> zones=evt.getZones();
  for (  String zoneToLaunch : zones) {
    InstanceUserDataBuilder userDataBuilder=null;
    try {
      userDataBuilder=new InstanceUserDataWithCredential(evt.getContext().getUserFullName(),zoneToLaunch);
    }
 catch (    Exception ex) {
      throw new EventHandlerException("failed to create service parameters",ex);
    }
    List<String> instanceIds=null;
    try {
      instanceIds=EucalyptusActivityTasks.getInstance().launchInstances(zoneToLaunch,LOADBALANCER_EMI,LOADBALANCER_INSTANCE_TYPE,this.numInstancesToLaunch,userDataBuilder.build());
      StringBuilder sb=new StringBuilder();
      for (      String id : instanceIds)       sb.append(id + " ");
      LOG.info("new servo instance launched: " + sb.toString());
    }
 catch (    Exception ex) {
      throw new EventHandlerException("failed to launch the servo instance",ex);
    }
    launchedInstances.addAll(instanceIds);
  }
}
