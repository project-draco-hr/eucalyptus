{
  boolean revoked=LdapConstants.EUCA_REVOKED_CERTIFICATE.equals(attr.getID());
  try {
    NamingEnumeration values=attr.getAll();
    while (values.hasMore()) {
      String value=(String)values.next();
      if (value != null) {
        X509Cert cert=toX509Cert(value,revoked);
        if (cert != null) {
          certs.add(cert);
        }
 else {
          LOG.debug("Parsing LDAP eucaCertificate/eucaRevokedCertificate attr failed: " + value);
        }
      }
    }
  }
 catch (  NamingException e) {
    LOG.error(e,e);
  }
}
