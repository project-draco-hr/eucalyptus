{
  String cloudHost=null;
  try {
    cloudHost=SystemConfiguration.getSystemConfiguration().getCloudHost();
    if (cloudHost == null) {
      for (      WalrusConfiguration w : ServiceConfigurations.getConfigurations(WalrusConfiguration.class)) {
        if (NetworkUtil.testLocal(w.getHostName())) {
          cloudHost=w.getHostName();
          break;
        }
      }
    }
  }
 catch (  PersistenceException e) {
  }
  if (cloudHost == null) {
    try {
      cloudHost=NetworkUtil.getAllAddresses().get(0);
    }
 catch (    SocketException e) {
    }
  }
  return cloudHost;
}
