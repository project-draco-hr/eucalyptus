{
  PutInstanceImportTaskStatusResponseType reply=request.getReply();
  LOG.debug(request);
  ImportTaskState status;
  try {
    status=ImportTaskState.fromString(request.getStatus());
  }
 catch (  IllegalArgumentException ex) {
    LOG.debug("Invalid conversions status");
    reply.setStatusMessage("Invalid status");
    reply.set_return(false);
    return reply;
  }
  ImagingTask task=ImportManager.getConversionTask(request.getImportTaskId());
  if (task == null) {
    LOG.debug("Invalid conversions task id");
    reply.setStatusMessage("Invalid task id");
    reply.set_return(false);
    return reply;
  }
  if (task != null) {
    if ((status == ImportTaskState.CONVERTING || status == ImportTaskState.CONVERTED) && request.getBytesConverted() > 0) {
      ImportManager.putConversionTask(request.getImportTaskId(),new ImagingTask(task.getTask(),status,request.getBytesConverted()));
    }
 else {
      ImportManager.putConversionTask(request.getImportTaskId(),new ImagingTask(task.getTask(),status,task.getBytesProcessed()));
    }
  }
  return reply;
}
