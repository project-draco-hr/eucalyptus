{
  EntityTransaction db=Entities.get(PartEntity.class);
  try {
    Criteria search=Entities.createCriteria(PartEntity.class);
    PartEntity searchExample=new PartEntity(bucket.getBucketName(),objectKey,uploadId,null);
    searchExample.setUuid(null);
    List<PartEntity> results=search.add(Example.create(searchExample)).add(ObjectEntity.QueryHelpers.getNotPendingRestriction()).list();
    db.commit();
    return results;
  }
  finally {
    if (db != null && db.isActive()) {
      db.rollback();
    }
  }
}
