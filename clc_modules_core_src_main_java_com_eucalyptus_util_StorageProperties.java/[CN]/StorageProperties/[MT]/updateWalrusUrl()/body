{
  List<ServiceConfiguration> walrusConfigs;
  try {
    walrusConfigs=ServiceConfigurations.list(Walrus.class);
    if (walrusConfigs.size() > 0) {
      ServiceConfiguration walrusConfig=walrusConfigs.get(0);
      WALRUS_URL=ServiceUris.remote(walrusConfig).toASCIIString();
      StorageProperties.enableSnapshots=true;
      LOG.info("Setting WALRUS_URL to: " + WALRUS_URL);
    }
 else {
      LOG.warn("Could not obtain walrus information. Snapshot functionality may be unavailable. Have you registered Walrus?");
      StorageProperties.enableSnapshots=false;
    }
  }
 catch (  PersistenceException e) {
    LOG.warn("Could not obtain walrus information. Snapshot functionality may be unavailable. Have you registered Walrus?");
    StorageProperties.enableSnapshots=false;
  }
}
