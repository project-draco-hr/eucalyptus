{
  OutboundEndpoint endpoint=ServiceContext.getContext().getRegistry().lookupEndpointFactory().getOutboundEndpoint("vm://RequestQueue");
  if (!endpoint.getConnector().isStarted()) {
    endpoint.getConnector().start();
  }
  MuleMessage muleMsg=new DefaultMuleMessage(msg);
  MuleSession muleSession=new DefaultMuleSession(muleMsg,((AbstractConnector)endpoint.getConnector()).getSessionHandler(),ServiceContext.getContext());
  MuleEvent muleEvent=new DefaultMuleEvent(muleMsg,endpoint,muleSession,false);
  dispatcherFactory.create(endpoint).dispatch(muleEvent);
}
