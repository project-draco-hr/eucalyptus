{
  LOG.debug(this.getClass().getSimpleName() + "[incoming]: " + e);
  if (e instanceof MessageEvent) {
    this.startTime=System.currentTimeMillis();
    final MessageEvent event=(MessageEvent)e;
    if (event.getMessage() instanceof MappingHttpMessage) {
      MappingHttpMessage request=(MappingHttpMessage)event.getMessage();
      User user=request.getUser();
      if (user != null) {
        EucalyptusMessage msg=(EucalyptusMessage)request.getMessage();
        msg.setUserId(user.getUserName());
        msg.setEffectiveUserId(user.getIsAdministrator() ? "eucalyptus" : user.getUserName());
      }
      requestLocal.set(ctx.getChannel(),request);
      EucalyptusMessage msg=(EucalyptusMessage)request.getMessage();
      LOG.info(EventRecord.create(this.getClass().getSimpleName(),msg.getUserId(),msg.getCorrelationId(),EventType.MSG_RECEIVED,msg.getClass().getSimpleName()));
      ReplyQueue.addReplyListener(msg.getCorrelationId(),ctx);
      Messaging.dispatch("vm://RequestQueue",msg);
    }
  }
}
