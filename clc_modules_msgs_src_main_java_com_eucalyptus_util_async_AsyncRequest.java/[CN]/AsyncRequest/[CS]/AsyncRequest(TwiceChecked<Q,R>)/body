{
  super();
  this.response=Futures.newAsyncMessageFuture();
  this.handler=new AsyncRequestHandler<Q,R>(this.response);
  this.callbackSequence=new CallbackListenerSequence<R>();
  this.callback=new TwiceChecked<Q,R>(){
    @Override public void fireException(    Throwable t){
      try {
        cb.fireException(t);
      }
 catch (      Throwable ex) {
        LOG.error(ex,ex);
      }
      try {
        AsyncRequest.this.callbackSequence.fireException(t);
      }
 catch (      Exception ex) {
        LOG.error(ex,ex);
      }
    }
    @Override public void fire(    R r){
      try {
        cb.fire(r);
        try {
          AsyncRequest.this.callbackSequence.fire(r);
        }
 catch (        Throwable ex) {
          LOG.error(ex,ex);
        }
      }
 catch (      Exception ex) {
        AsyncRequest.this.callbackSequence.fireException(ex);
      }
    }
    @Override public void initialize(    Q request) throws Exception {
    }
  }
;
  Futures.addListenerHandler(response,this.callback);
}
