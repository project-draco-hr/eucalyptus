{
  EntityWrapper<EquallogicVolumeInfo> db=StorageController.getEntityWrapper();
  int size=-1;
  try {
    EquallogicVolumeInfo volumeInfo=db.getUnique(new EquallogicVolumeInfo(volumeId));
    size=volumeInfo.getSize();
  }
 catch (  EucalyptusCloudException ex) {
    LOG.error("Unable to find volume: " + volumeId);
  }
 finally {
    db.commit();
  }
  String iqn=connectionManager.createSnapshot(volumeId,snapshotId);
  if (iqn != null) {
    EquallogicVolumeInfo snapInfo=new EquallogicVolumeInfo(snapshotId,iqn,size);
    snapInfo.setSnapshotOf(volumeId);
    db=StorageController.getEntityWrapper();
    db.add(snapInfo);
    db.commit();
  }
  return Lists.newArrayList();
}
