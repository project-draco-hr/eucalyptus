{
  try {
    for (int i=0; i < vgNames.size(); ++i) {
      boolean removeVg=false;
      if (i == (vgNames.size() - 1))       removeVg=true;
      String snapId=snapshotIdsToDelete.get(i);
      storageManager.deleteSnapshot(bucketName,snapId,vgNames.get(i),lvNames.get(i),snapshotSet,removeVg);
      String snapIdToRemove=null;
      for (      String snapsetId : snapshotSet) {
        if (snapsetId.equals(snapId)) {
          snapIdToRemove=snapsetId;
          break;
        }
      }
      if (snapIdToRemove != null)       snapshotSet.remove(snapIdToRemove);
    }
  }
 catch (  EucalyptusCloudException ex) {
    LOG.error(ex,ex);
  }
}
