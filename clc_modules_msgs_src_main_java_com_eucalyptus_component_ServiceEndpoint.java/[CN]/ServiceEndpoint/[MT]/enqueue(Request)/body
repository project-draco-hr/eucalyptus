{
  if (this.finished.get()) {
    throw new RuntimeException("Endpoint is currently not operational.");
  }
 else {
    QueuedRequest event=new QueuedRequest(request);
    EventRecord.caller(ServiceEndpoint.class,EventType.MSG_PENDING,this.parent.getName(),event.getCallback().getClass().getSimpleName()).info();
    if (!this.filter(event)) {
      try {
        while (!this.msgQueue.offer(event,this.offerInterval,TimeUnit.MILLISECONDS))         ;
      }
 catch (      final InterruptedException e) {
        LOG.debug(e,e);
        Thread.currentThread().interrupted();
      }
    }
  }
}
