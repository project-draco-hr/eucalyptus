{
  while (true) {
    try {
      Thread.sleep(10000);
      try {
        List<WalrusConfiguration> walrusConfigs=Configuration.getWalrusConfigurations();
        for (        ComponentConfiguration w : walrusConfigs) {
          try {
            if (NetworkUtil.testLocal(w.getHostName()))             continue;
          }
 catch (          Exception e) {
          }
          String configuration=this.getConfigurationBuffer(w);
          ChannelBuffer buffer=ChannelBuffers.copiedBuffer(configuration.getBytes());
          this.sendConfiguration(w,buffer);
        }
      }
 catch (      Exception e1) {
        LOG.warn("Error configuring remote walrus.");
        LOG.error(e1,e1);
      }
      try {
        List<StorageControllerConfiguration> scConfigs=Configuration.getStorageControllerConfigurations();
        for (        ComponentConfiguration sc : scConfigs) {
          try {
            if (NetworkUtil.testLocal(sc.getHostName()))             continue;
          }
 catch (          Exception e) {
          }
          String configuration=this.getConfigurationBuffer(sc);
          ChannelBuffer buffer=ChannelBuffers.copiedBuffer(configuration.getBytes());
          this.sendConfiguration(sc,buffer);
        }
      }
 catch (      Exception e1) {
        LOG.warn("Error configuring remote storage controller.");
        LOG.error(e1,e1);
      }
    }
 catch (    InterruptedException e) {
    }
  }
}
