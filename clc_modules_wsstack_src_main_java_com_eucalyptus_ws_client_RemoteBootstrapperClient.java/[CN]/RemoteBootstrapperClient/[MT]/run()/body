{
  while (true) {
    try {
      List<WalrusConfiguration> walrusConfigs=Configuration.getWalrusConfigurations();
      for (      WalrusConfiguration w : walrusConfigs) {
        LOG.info("Sending configuration info to walrus at: " + w.getHostName());
        HeartbeatClient hb=new HeartbeatClient(w.getHostName(),19191,"/services/Heartbeat");
        String properties="euca.db.host=192.168.7.7\n" + "euca.db.password=\n" + "euca.db.port=9001\n";
        ChannelBuffer buffer=ChannelBuffers.copiedBuffer(properties.getBytes());
        HttpRequest httpRequest=new DefaultHttpRequest(HttpVersion.HTTP_1_1,HttpMethod.POST,"/services/Heartbeat");
        httpRequest.addHeader(HttpHeaders.Names.CONTENT_LENGTH,String.valueOf(buffer.readableBytes()));
        httpRequest.setContent(buffer);
        try {
          hb.write(httpRequest);
        }
 catch (        Exception e) {
          LOG.error(e);
        }
      }
    }
 catch (    EucalyptusCloudException e1) {
      LOG.error(e1,e1);
    }
    try {
      Thread.sleep(5000);
    }
 catch (    InterruptedException e) {
    }
  }
}
