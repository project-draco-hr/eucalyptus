{
  final int sortField=range.getSortField();
  final boolean ascending=range.isAscending();
  Collections.sort(results,new Comparator<SearchResultRow>(){
    @Override public int compare(    SearchResultRow r1,    SearchResultRow r2){
      if (r1 == r2) {
        return 0;
      }
      int diff=-1;
      if (r1 != null) {
        diff=(r2 != null) ? r1.getField(sortField).compareTo(r2.getField(sortField)) : 1;
      }
      return ascending ? diff : -diff;
    }
  }
);
  int resultLength=Math.min(range.getLength(),results.size() - range.getStart());
  return results.subList(range.getStart(),range.getStart() + resultLength);
}
