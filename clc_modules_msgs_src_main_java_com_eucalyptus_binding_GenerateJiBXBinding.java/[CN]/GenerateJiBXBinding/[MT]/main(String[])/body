{
  List<String> moduleList=Lists.newArrayList(new File("modules").list());
  for (  String module : moduleList) {
    List<String> pathList=Lists.newArrayList(new File(module + "/build/edu/ucsb/eucalyptus/msgs/").list());
    List<Class> classList=Lists.newArrayList();
    for (    String className : pathList) {
      if (className.startsWith("JiBX_") || className.endsWith("Category"))       continue;
      classList.add(ClassLoader.getSystemClassLoader().loadClass("edu.ucsb.eucalyptus.msgs." + className.replaceAll(".class","")));
    }
    GenerateJiBXBinding.binding("http://msgs.eucalyptus.com",classList);
  }
  File out=new File("modules/msgs/src/main/resources/msgs-binding.xml");
  out.delete();
  PrintWriter os=new PrintWriter(out);
  os.write(bindingFile);
  os.flush();
  os.close();
}
