def main(self, **args):
    if (self.args.get('source') and self.args.get('instance')):
        raise ValueError('error: argument -i/--instance: not allowed with --source')
    if ((not self.args.get('source')) and (not self.args.get('instance'))):
        raise ValueError('error: one of the arguments -i/--instance --source is required')
    if self.args.get('dest'):
        if self.args.get('exclude_dest'):
            raise ValueError('error: argument --dest: not allowed with --exclude-dest')
        self.request_params['AllowHosts'] = 'true'
        for (i, host) in enumerate(self.args['dest'], 1):
            self.request_params['DestinationHost.{0}'.format(i)] = host
    elif self.args.get('exclude_dest'):
        self.request_params['AllowHosts'] = 'false'
        for (i, host) in enumerate(self.args['exclude_dest'], 1):
            self.request_params['DestinationHost.{0}'.format(i)] = host
    if self.args['stop_source']:
        source = self.args.get('source')
        if (source is None):
            raise ValueError('error: argument --stop-source: only valid with --source, not -i/--instance')
        obj = ModifyService(debug=self.args.get('debug'))
        obj.main(name=self.args['source'], state='STOP')
    return self.send(**args)
