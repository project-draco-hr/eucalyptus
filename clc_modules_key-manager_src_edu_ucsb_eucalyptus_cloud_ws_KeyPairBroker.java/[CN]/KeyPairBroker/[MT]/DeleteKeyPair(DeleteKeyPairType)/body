{
  boolean foundKey=false;
  EntityWrapper<UserInfo> db=new EntityWrapper<UserInfo>();
  try {
    UserInfo user=db.getUnique(new UserInfo(request.getUserId()));
    foundKey=user.getKeyPairs().remove(new SSHKeyPair(request.getKeyName()));
  }
 catch (  EucalyptusCloudException e) {
    LOG.error(e);
  }
 finally {
    db.commit();
  }
  DeleteKeyPairResponseType reply=(DeleteKeyPairResponseType)request.getReply();
  reply.set_return(foundKey);
  return reply;
}
