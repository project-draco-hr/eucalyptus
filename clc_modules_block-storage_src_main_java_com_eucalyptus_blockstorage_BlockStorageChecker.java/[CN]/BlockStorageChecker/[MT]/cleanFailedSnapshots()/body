{
  EntityWrapper<SnapshotInfo> db=StorageProperties.getEntityWrapper();
  SnapshotInfo snapshotInfo=new SnapshotInfo();
  snapshotInfo.setStatus(StorageProperties.Status.failed.toString());
  List<SnapshotInfo> snapshotInfos=db.query(snapshotInfo);
  for (  SnapshotInfo snapInfo : snapshotInfos) {
    cleanSnapshot(snapInfo);
    db.delete(snapInfo);
  }
  db.commit();
}
