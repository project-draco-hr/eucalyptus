{
  if (event.getMessage() instanceof MappingHttpResponse && ((MappingHttpResponse)event.getMessage()).getMessage() instanceof ErrorResponseType) {
    MappingHttpResponse httpResponse=(MappingHttpResponse)event.getMessage();
    ErrorResponseType errorResponse=(ErrorResponseType)httpResponse.getMessage();
    super.outgoingMessage(ctx,event);
    httpResponse.setStatus(new HttpResponseStatus(errorResponse.getCode(),errorResponse.getReason()));
  }
 else {
    super.outgoingMessage(ctx,event);
  }
}
