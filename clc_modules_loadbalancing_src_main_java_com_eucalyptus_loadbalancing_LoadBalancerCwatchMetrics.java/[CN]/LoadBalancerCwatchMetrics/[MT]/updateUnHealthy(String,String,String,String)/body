{
  final ElbDimension dim=new ElbDimension(userId,loadbalancer,zone);
synchronized (lock) {
    if (!this.instanceToDimensionMap.containsKey(instanceId))     this.instanceToDimensionMap.put(instanceId,dim);
    this.instanceHealthMap.put(instanceId,Boolean.FALSE);
    if (!metricsMap.containsKey(dim))     metricsMap.put(dim,new ElbAggregate(loadbalancer,zone));
  }
}
