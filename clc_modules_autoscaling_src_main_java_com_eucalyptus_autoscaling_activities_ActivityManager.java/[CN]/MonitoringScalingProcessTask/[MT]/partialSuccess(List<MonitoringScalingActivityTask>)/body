{
  final Set<String> transitionToHealthy=Sets.newHashSet(pendingInstanceIds);
  final Set<String> healthyInstanceIds=Sets.newHashSet();
  for (  final MonitoringScalingActivityTask task : tasks) {
    healthyInstanceIds.addAll(task.getHealthyInstanceIds());
  }
  transitionToHealthy.retainAll(healthyInstanceIds);
  if (scalingProcessEnabled(ScalingProcessType.HealthCheck,getGroup()))   try {
    autoScalingInstances.markMissingInstancesUnhealthy(getGroup(),healthyInstanceIds);
  }
 catch (  AutoScalingMetadataException e) {
    logger.error(e,e);
  }
  if (!transitionToHealthy.isEmpty())   try {
    autoScalingInstances.transitionState(getGroup(),LifecycleState.Pending,LifecycleState.InService,transitionToHealthy);
  }
 catch (  AutoScalingMetadataException e) {
    logger.error(e,e);
  }
}
