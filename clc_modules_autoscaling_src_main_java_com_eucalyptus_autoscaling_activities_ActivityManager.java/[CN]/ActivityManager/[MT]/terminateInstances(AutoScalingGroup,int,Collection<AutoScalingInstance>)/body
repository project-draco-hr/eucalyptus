{
  final List<String> instancesToTerminate=Lists.newArrayList();
  if (currentInstances.size() == terminateCount) {
    Iterables.addAll(instancesToTerminate,Iterables.transform(currentInstances,AutoScalingInstances.instanceId()));
  }
 else {
    final List<AutoScalingInstance> remainingInstances=Lists.newArrayList(currentInstances);
    for (int i=0; i < terminateCount && remainingInstances.size() >= 1; i++) {
      final AutoScalingInstance instanceForTermination=TerminationPolicyType.selectForTermination(group.getTerminationPolicies(),remainingInstances);
      remainingInstances.remove(instanceForTermination);
      instancesToTerminate.add(instanceForTermination.getInstanceId());
    }
  }
  final TerminateInstancesType terminateInstances=new TerminateInstancesType();
  terminateInstances.getInstancesSet().addAll(instancesToTerminate);
  return terminateInstances;
}
