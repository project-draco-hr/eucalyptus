{
  final List<AutoScalingInstance> instances=autoScalingInstances.listByGroup(getGroup());
  final Set<String> zonesToUse=Sets.newHashSet(getGroup().getAvailabilityZones());
  zonesToUse.removeAll(zoneMonitor.getUnavailableZones(zoneFailureThreshold));
  final Map<String,Integer> zoneCounts=buildAvailabilityZoneInstanceCounts(instances,zonesToUse);
  final int attemptToLaunch=Math.min(maxLaunchIncrement,launchCount);
  final List<LaunchInstanceScalingActivityTask> activities=Lists.newArrayList();
  for (int i=0; i < attemptToLaunch; i++) {
    final Map.Entry<String,Integer> entry=selectEntry(zoneCounts,Ordering.natural());
    if (entry != null) {
      entry.setValue(entry.getValue() + 1);
      activities.add(new LaunchInstanceScalingActivityTask(newActivity(),entry.getKey()));
    }
  }
  return activities;
}
