{
  final List<RemoveFromLoadBalancerScalingActivityTask> activities=Lists.newArrayList();
  try {
    autoScalingInstances.transitionState(getGroup(),LifecycleState.InService,LifecycleState.Terminating,instanceIds);
    for (    final String loadBalancerName : getGroup().getLoadBalancerNames()) {
      activities.add(new RemoveFromLoadBalancerScalingActivityTask(newActivity(),loadBalancerName,instanceIds));
    }
  }
 catch (  Exception e) {
    logger.error(e,e);
  }
  return activities;
}
