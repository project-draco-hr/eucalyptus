{
  FileReader fileReader=null;
  try {
    fileReader=new FileReader(SubDirectory.SCRIPTS + File.separator + fileName+ (fileName.endsWith(".groovy") ? "" : ".groovy"));
    return getGroovyEngine().eval(fileReader);
  }
 catch (  Throwable e) {
    LOG.debug(e,e);
    throw new ScriptExecutionFailedException("Executing the requested script failed: " + fileName,e);
  }
 finally {
    if (fileReader != null)     try {
      fileReader.close();
    }
 catch (    IOException e) {
      LOG.error(e);
    }
  }
}
