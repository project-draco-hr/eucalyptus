{
  MachineImageInfo ret=EntityWrapper.get(MachineImageInfo.class).lookupAndClose(Images.exampleMachineWithImageId(identifier));
  if (!ImageMetadata.State.available.equals(ret.getState())) {
    throw new NoSuchElementException("Unable to start instance with deregistered image : " + ret);
  }
 else {
    return ret;
  }
}
