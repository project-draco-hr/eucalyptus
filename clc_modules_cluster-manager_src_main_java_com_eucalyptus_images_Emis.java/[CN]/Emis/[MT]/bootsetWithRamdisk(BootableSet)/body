{
  String ramdiskId=determineRamdiskId(bootSet);
  if (ramdiskId == null) {
    return bootSet;
  }
 else {
    try {
      ImageInfo ramdisk=Lookups.doPrivileged(ramdiskId,lookupImg);
      return new TrifectaBootableSet(bootSet.getMachine(),bootSet.getKernel(),ramdisk);
    }
 catch (    AuthException ex) {
      LOG.error(ex,ex);
      throw new EucalyptusCloudException(ex);
    }
catch (    IllegalContextAccessException ex) {
      LOG.error(ex,ex);
      throw new EucalyptusCloudException(ex);
    }
catch (    NoSuchElementException ex) {
      LOG.error(ex,ex);
      throw new EucalyptusCloudException(ex);
    }
catch (    PersistenceException ex) {
      LOG.error(ex,ex);
      throw new EucalyptusCloudException(ex);
    }
  }
}
