{
  String ramdiskId=determineRamdiskId(bootSet);
  LOG.debug("Determined the appropriate ramdiskId to be " + ramdiskId + " for "+ bootSet.toString());
  if (ramdiskId == null) {
    return bootSet;
  }
 else {
    try {
      RamdiskImageInfo ramdisk=RestrictedTypes.doPrivileged(ramdiskId,LookupRamdisk.INSTANCE);
      return new TrifectaBootableSet(bootSet.getMachine(),bootSet.getKernel(),ramdisk);
    }
 catch (    Exception ex) {
      throw new NoSuchMetadataException("Failed to lookup ramdisk image information: " + ramdiskId + " because of: "+ ex.getMessage(),ex);
    }
  }
}
