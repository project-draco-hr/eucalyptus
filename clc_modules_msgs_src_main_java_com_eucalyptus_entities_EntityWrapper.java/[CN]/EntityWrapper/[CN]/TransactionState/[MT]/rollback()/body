{
  this.eventLog(TxStep.BEGIN,TxEvent.ROLLBACK);
  try {
    if ((this.transaction != null) && this.transaction.isActive()) {
      this.transaction.rollback();
    }
    this.eventLog(TxStep.END,TxEvent.ROLLBACK);
  }
 catch (  final Throwable e) {
    this.eventLog(TxStep.FAIL,TxEvent.ROLLBACK);
    PersistenceExceptions.throwFiltered(e);
  }
 finally {
    this.cleanup();
  }
}
