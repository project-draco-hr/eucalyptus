{
  for (Class c=type; c != Object.class; c=c.getSuperclass()) {
    if (c.isAnnotationPresent(PersistenceContext.class)) {
      return c;
    }
  }
  return type;
}
