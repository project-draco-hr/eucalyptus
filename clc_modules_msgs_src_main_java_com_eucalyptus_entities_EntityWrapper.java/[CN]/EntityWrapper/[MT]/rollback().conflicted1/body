{
  this.eventLog(TxState.BEGIN,TxEvent.ROLLBACK);
  this.guard.apply(TxUnroll.ROLLBACK);
  try {
    if ((this.transaction != null) && this.transaction.isActive()) {
      this.transaction.rollback();
    }
    this.eventLog(TxState.END,TxEvent.ROLLBACK);
  }
 catch (  final Throwable e) {
    this.eventLog(TxState.FAIL,TxEvent.ROLLBACK);
    PersistenceExceptions.throwFiltered(e);
  }
 finally {
    this.cleanup();
  }
}
