{
  try {
    this.runnable.run();
  }
 catch (  final Exception ex) {
    LOG.error(ex,ex);
  }
  try {
    if ((this.session != null) && (this.session.get() != null)) {
      this.session.clear();
    }
    this.transaction=null;
    if (this.em != null) {
      this.em.close();
    }
    this.em=null;
  }
  finally {
    outstanding.remove(this.txUuid);
  }
}
