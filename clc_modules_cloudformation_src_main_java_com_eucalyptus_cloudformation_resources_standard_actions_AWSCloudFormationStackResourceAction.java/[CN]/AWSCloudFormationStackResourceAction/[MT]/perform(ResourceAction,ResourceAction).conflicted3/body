{
  AWSCloudFormationStackResourceAction newAction=(AWSCloudFormationStackResourceAction)newResourceAction;
  AWSCloudFormationStackResourceAction oldAction=(AWSCloudFormationStackResourceAction)oldResourceAction;
  String outerStackArn=StackResourceEntityManager.findOuterStackArnIfExists(newAction.getStackEntity().getStackId(),newAction.getStackEntity().getAccountId());
  if (outerStackArn == null) {
    throw new ValidationErrorException("Unable to find outer stack for stack " + newAction.getStackEntity().getStackId());
  }
  StackUpdateWorkflowSignalEntityManager.addSignal(newAction.getStackEntity().getStackId(),newAction.getStackEntity().getAccountId(),outerStackArn,StackUpdateWorkflowSignalEntity.Signal.ROLLBACK);
  return newAction;
}
