{
  ClassLoader old=Thread.currentThread().getContextClassLoader();
  ClassLoader cl=this.getUrlClassLoader();
  try {
    BindingGenerator.MSG_TYPE=cl.loadClass("edu.ucsb.eucalyptus.msgs.BaseMessage");
    BindingGenerator.DATA_TYPE=cl.loadClass("edu.ucsb.eucalyptus.msgs.EucalyptusData");
    Map<String,Class> classes=new TreeMap<String,Class>(){
{
        put(BindingGenerator.MSG_TYPE.getName(),BindingGenerator.MSG_TYPE);
        put(BindingGenerator.DATA_TYPE.getName(),BindingGenerator.DATA_TYPE);
      }
    }
;
    for (    FileSet fs : this.classFileSets) {
      for (      String classFileName : fs.getDirectoryScanner(getProject()).getIncludedFiles()) {
        try {
          if (!classFileName.endsWith("class"))           continue;
          Class c=cl.loadClass(classFileName.replaceFirst("[^/]*/[^/]*/","").replaceAll("/",".").replaceAll("\\.class.{0,1}",""));
          System.out.println("Loaded class: " + c);
          classes.put(c.getName(),c);
        }
 catch (        ClassNotFoundException e) {
          e.printStackTrace();
        }
      }
    }
    Compile compiler=new Compile(true,true,false,false,false,false);
    compiler.setSkipValidate(true);
    compiler.compile(this.pathStrings(),bindings());
  }
 catch (  Throwable e) {
    e.printStackTrace();
  }
 finally {
    Thread.currentThread().setContextClassLoader(old);
  }
}
