def main(self):
    path = os.path.join(self.config['EUCALYPTUS'], 'var/lib/eucalyptus/services')
    if os.path.exists(path):
        fp = open(path)
        s = fp.read()
        fp.close()
        current = s.split()
    else:
        current = []
    if self.enable:
        if (self.service not in current):
            current.append(self.service)
    elif (self.service in current):
        current.remove(self.service)
    current.sort()
    fp = open(path, 'w')
    fp.write('\n'.join(current))
    fp.close()
