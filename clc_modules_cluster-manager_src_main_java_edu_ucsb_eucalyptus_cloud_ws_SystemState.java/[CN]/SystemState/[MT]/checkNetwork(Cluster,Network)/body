{
  try {
    for (    String clusterName : Clusters.getInstance().listKeys()) {
      if (net.hasToken(clusterName) && net.getClusterToken(clusterName).getIndexes().isEmpty()) {
        try {
          net.removeToken(cluster.getName());
        }
 catch (        NoSuchElementException e1) {
          LOG.debug(e1,e1);
        }
      }
    }
  }
 catch (  NoSuchElementException e2) {
  }
  if (!net.hasTokens()) {
    Clusters.dispatchClusterEvent(cluster,new StopNetworkCallback(new NetworkToken(cluster.getName(),net.getUserName(),net.getNetworkName(),net.getVlan())));
  }
}
