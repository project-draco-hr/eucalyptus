{
  System.out.println(" ----> TESTING FALSE DATA");
  InstanceUsageLog usageLog=InstanceUsageLog.getInstanceUsageLog();
  Map<String,InstanceUsageSummary> summary=usageLog.scanSummarize(new Period(START_TIME,MAX_MS),GroupByCriterion.USER);
  for (  String key : summary.keySet()) {
    System.out.println(key + summary.get(key));
  }
  Map<String,TestResult> testResults=new HashMap<String,TestResult>();
  long sliceMs=(MAX_MS - START_TIME) / 10;
  for (long l=START_TIME; l < MAX_MS; l+=sliceMs) {
    System.out.printf(" Period:%d-%d\n",l,l + sliceMs - 1);
    summary=usageLog.scanSummarize(new Period(l,l + sliceMs - 1),GroupByCriterion.USER);
    for (    String key : summary.keySet()) {
      InstanceUsageSummary ius=summary.get(key);
      System.out.println("  " + key + ius);
      if (!testResults.containsKey(key)) {
        testResults.put(key,new TestResult());
      }
      TestResult testResult=testResults.get(key);
      testResult.totalDiskUsage+=ius.getDiskIoMegs();
      testResult.totalNetUsage+=ius.getNetworkIoMegs();
      testResult.m1SmallTimeSecs+=ius.getM1SmallTimeSecs();
      testResult.c1MediumTimeSecs+=ius.getC1MediumTimeSecs();
      testResult.m1LargeTimeSecs+=ius.getM1LargeTimeSecs();
      testResult.m1XLargeTimeSecs+=ius.getM1XLargeTimeSecs();
      testResult.c1XLargeTimeSecs+=ius.getC1XLargeTimeSecs();
    }
  }
  System.out.println("Totals:");
  for (  String key : testResults.keySet()) {
    TestResult testResult=testResults.get(key);
    System.out.printf(" %8s:(disk:%d,net:%d) error:(disk:%5.3f,net:%5.3f) isWithin:(disk:%s,net:%s)" + " instance:(m1s:%d,c1m:%d,m1l:%d,m1xl:%d,c1xl:%d) isWithin:(%s,%s,%s,%s,%s)\n",key,testResult.totalDiskUsage,testResult.totalNetUsage,((double)testResult.totalDiskUsage / (double)CORRECT_DISK_USAGE),((double)testResult.totalNetUsage / (double)CORRECT_NET_USAGE),isWithinError(testResult.totalDiskUsage,CORRECT_DISK_USAGE,ERROR_FACTOR),isWithinError(testResult.totalNetUsage,CORRECT_NET_USAGE,ERROR_FACTOR),testResult.m1SmallTimeSecs,testResult.c1MediumTimeSecs,testResult.m1LargeTimeSecs,testResult.m1XLargeTimeSecs,testResult.c1XLargeTimeSecs,isWithinError(testResult.m1SmallTimeSecs,CORRECT_INSTANCE_USAGE,INSTANCE_ERROR_FACTOR),isWithinError(testResult.c1MediumTimeSecs,CORRECT_INSTANCE_USAGE,INSTANCE_ERROR_FACTOR),isWithinError(testResult.m1LargeTimeSecs,CORRECT_INSTANCE_USAGE,INSTANCE_ERROR_FACTOR),isWithinError(testResult.m1XLargeTimeSecs,CORRECT_INSTANCE_USAGE,INSTANCE_ERROR_FACTOR),isWithinError(testResult.c1XLargeTimeSecs,CORRECT_INSTANCE_USAGE,INSTANCE_ERROR_FACTOR));
    if (!isWithinError(testResult.totalDiskUsage,CORRECT_DISK_USAGE,ERROR_FACTOR) || !isWithinError(testResult.totalNetUsage,CORRECT_NET_USAGE,ERROR_FACTOR)) {
      throw new RuntimeException("Incorrect result for user:" + key);
    }
  }
  System.out.println("Test passed");
}
