{
  if (info.getPhysicalResourceId() == null)   return;
  ServiceConfiguration configuration=Topology.lookup(Compute.class);
  if (!"default".equals(properties.getDhcpOptionsId())) {
    DescribeDhcpOptionsType describeDhcpOptionsType=new DescribeDhcpOptionsType();
    describeDhcpOptionsType.setEffectiveUserId(info.getEffectiveUserId());
    setDhcpOptionsId(describeDhcpOptionsType,properties.getDhcpOptionsId());
    DescribeDhcpOptionsResponseType describeDhcpOptionsResponseType=AsyncRequests.<DescribeDhcpOptionsType,DescribeDhcpOptionsResponseType>sendSync(configuration,describeDhcpOptionsType);
    if (describeDhcpOptionsResponseType.getDhcpOptionsSet() == null || describeDhcpOptionsResponseType.getDhcpOptionsSet().getItem() == null || describeDhcpOptionsResponseType.getDhcpOptionsSet().getItem().isEmpty()) {
      return;
    }
  }
  DescribeVpcsType describeVpcsType=new DescribeVpcsType();
  describeVpcsType.setEffectiveUserId(info.getEffectiveUserId());
  setVpcId(describeVpcsType,properties.getVpcId());
  DescribeVpcsResponseType describeVpcsResponseType=AsyncRequests.<DescribeVpcsType,DescribeVpcsResponseType>sendSync(configuration,describeVpcsType);
  if (describeVpcsResponseType.getVpcSet() == null || describeVpcsResponseType.getVpcSet().getItem() == null || describeVpcsResponseType.getVpcSet().getItem().isEmpty()) {
    return;
  }
  AssociateDhcpOptionsType associateDhcpOptionsType=new AssociateDhcpOptionsType();
  associateDhcpOptionsType.setEffectiveUserId(info.getEffectiveUserId());
  associateDhcpOptionsType.setDhcpOptionsId("default");
  associateDhcpOptionsType.setVpcId(properties.getVpcId());
  AsyncRequests.<AssociateDhcpOptionsType,AssociateDhcpOptionsResponseType>sendSync(configuration,associateDhcpOptionsType);
}
