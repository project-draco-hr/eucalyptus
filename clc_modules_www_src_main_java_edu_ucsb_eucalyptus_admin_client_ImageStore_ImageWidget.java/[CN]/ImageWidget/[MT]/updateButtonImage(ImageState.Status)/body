{
  final Image buttonImage=createButtonImage(status);
  if (buttonImage == null) {
    GWT.log("ERROR: Couldn't find an appropriate button for the given status.",null);
    commandPanel.setVisible(false);
  }
 else {
    commandPanel.setVisible(true);
    if (status == ImageState.Status.UNINSTALLED) {
      buttonImage.addClickHandler(new ClickHandler(){
        public void onClick(        ClickEvent event){
          setInProgress(true);
          ImageWidget.this.fireEvent(new InstallEvent<ImageWidget>(ImageWidget.this));
        }
      }
);
      buttonImage.setStyleName("istore-install-button");
    }
    buttonPanel.setWidget(buttonImage);
  }
}
