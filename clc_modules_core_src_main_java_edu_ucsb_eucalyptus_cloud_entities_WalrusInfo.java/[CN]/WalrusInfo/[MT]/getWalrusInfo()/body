{
  EntityWrapper<WalrusInfo> db=new EntityWrapper<WalrusInfo>(WalrusProperties.DB_NAME);
  WalrusInfo walrusInfo;
  try {
    walrusInfo=db.getUnique(new WalrusInfo());
  }
 catch (  EucalyptusCloudException ex) {
    walrusInfo=new WalrusInfo(WalrusProperties.NAME,WalrusProperties.bucketRootDirectory,WalrusProperties.MAX_BUCKETS_PER_USER,(int)(WalrusProperties.MAX_BUCKET_SIZE / WalrusProperties.M),(int)(WalrusProperties.IMAGE_CACHE_SIZE / WalrusProperties.M),WalrusProperties.MAX_TOTAL_SNAPSHOT_SIZE);
    db.add(walrusInfo);
  }
 finally {
    db.commit();
  }
  return walrusInfo;
}
