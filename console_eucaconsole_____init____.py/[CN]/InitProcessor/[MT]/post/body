@staticmethod
def post(web_req):
    language = config.get('locale', 'language')
    support_url = config.get('locale', 'support.url')
    port = '8443'
    try:
        port = config.get('server', 'clcwebport')
    except Exception as err:
        pass
    aws_enabled = False
    aws_client_id = ''
    try:
        aws_enabled = config.get('aws', 'enableAWS')
        aws_client_id = config.get('aws', 'client.id')
    except Exception as err:
        pass
    admin_url = ('https://' + config.get('server', 'clchost'))
    if (port != '443'):
        admin_url += (':' + port)
    url_rewrite = config.get('server', 'url.rewrite')
    if (web_req.get_argument('host', False) and (url_rewrite in ['true', '1', 'True'])):
        try:
            host = web_req.get_argument('host')
            ip_list = socket.getaddrinfo(host, 0, 0, 0, socket.SOL_TCP)
            for addr in ip_list:
                ip_str = addr[4][0]
                ip = ip_str.split('.')
                if (len(ip) == 4):
                    return InitResponse(language, support_url, ip_str, host, aws_enabled=aws_enabled, aws_client_id=aws_client_id)
            raise Exception
        except:
            return InitResponse(language, support_url, admin_url, aws_enabled=aws_enabled, aws_client_id=aws_client_id)
    else:
        return InitResponse(language, support_url, admin_url, aws_enabled=aws_enabled, aws_client_id=aws_client_id)
