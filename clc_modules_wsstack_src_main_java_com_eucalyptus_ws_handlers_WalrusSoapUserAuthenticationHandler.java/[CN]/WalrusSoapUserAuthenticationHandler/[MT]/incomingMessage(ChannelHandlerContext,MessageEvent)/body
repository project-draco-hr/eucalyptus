{
  if (event.getMessage() instanceof MappingHttpRequest) {
    MappingHttpRequest httpRequest=(MappingHttpRequest)event.getMessage();
    SOAPEnvelope envelope=httpRequest.getSoapEnvelope();
    SOAPBody body=envelope.getBody();
    final StAXOMBuilder doomBuilder=new StAXOMBuilder(DOOMAbstractFactory.getOMFactory(),body.getXMLStreamReader());
    final OMElement elem=doomBuilder.getDocumentElement();
    elem.build();
    final Document doc=((Element)elem).getOwnerDocument();
    handle(httpRequest,doc);
  }
}
