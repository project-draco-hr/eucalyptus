{
  Account requestAccount=ctx.getAccount();
  if (delegateAccount != null) {
    if (Account.SYSTEM_ACCOUNT.equals(requestAccount.getName())) {
      try {
        return Accounts.lookupAccountByName(delegateAccount);
      }
 catch (      AuthException e) {
        throw new EuareException(HttpResponseStatus.FORBIDDEN,EuareException.NOT_AUTHORIZED,"Can not find delegation account " + delegateAccount);
      }
    }
 else {
      throw new EuareException(HttpResponseStatus.FORBIDDEN,EuareException.NOT_AUTHORIZED,"Non-sysadmin can not have delegation access to " + delegateAccount);
    }
  }
  return requestAccount;
}
