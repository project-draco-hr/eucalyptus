{
  Object o=null;
  if (e instanceof MessageEvent && first.compareAndSet(true,false) && (o=((MessageEvent)e).getMessage()) instanceof ChannelBuffer&& !HttpUtils.maybeSsl((ChannelBuffer)o)) {
    ctx.getPipeline().removeFirst();
    ctx.sendUpstream(e);
  }
 else {
    super.handleUpstream(ctx,e);
  }
}
