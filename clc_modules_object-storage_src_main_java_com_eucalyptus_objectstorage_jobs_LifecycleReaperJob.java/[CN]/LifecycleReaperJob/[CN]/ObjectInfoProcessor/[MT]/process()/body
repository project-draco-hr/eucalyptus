{
  if (objectKeys != null && objectKeys.size() > 0) {
    for (    String objectKey : objectKeys) {
      try (TransactionResource tran=Entities.transactionFor(ObjectEntity.class)){
        ObjectEntity objectInfo=new ObjectEntity();
        objectInfo.withBucket(bucket);
        objectInfo.setObjectKey(objectKey);
        List<ObjectEntity> results=Entities.query(objectInfo);
        if (results == null || results.size() < 1) {
          LOG.debug("failed to process object " + objectKey + " in bucket "+ bucket.getBucketName()+ " because it was not found in the database");
        }
 else {
          for (          ObjectEntity obj : results) {
            handle(obj);
          }
        }
        tran.commit();
      }
 catch (      Exception ex) {
        LOG.error("failed to process object " + objectKey + " in bucket "+ bucket.getBucketName()+ " because an exception occurred with message "+ ex.getMessage());
      }
    }
  }
}
