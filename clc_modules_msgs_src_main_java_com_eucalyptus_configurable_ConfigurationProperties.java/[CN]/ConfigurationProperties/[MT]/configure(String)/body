{
  File propsFile=getPropertyFile(entrySetName);
  if (!propsFile.exists()) {
    ConfigurationProperties.store(entrySetName);
  }
  Properties props=new Properties();
  try {
    props.load(new FileReader(propsFile));
  }
 catch (  FileNotFoundException e) {
    LOG.debug(e,e);
  }
catch (  IOException e) {
    LOG.debug(e,e);
  }
  List<ConfigurableProperty> prefixProps=PropertyDirectory.getPropertyEntrySet(entrySetName);
  Map<String,String> properties=Maps.fromProperties(props);
  props.clear();
  for (  final ConfigurableProperty p : prefixProps) {
    if (p instanceof StaticPropertyEntry) {
      boolean hasProp=Iterables.any(properties.keySet(),new Predicate<String>(){
        @Override public boolean apply(        String arg0){
          return p.getFieldName().equals(arg0.toLowerCase());
        }
      }
);
      if (hasProp) {
        p.setValue(properties.get(p.getFieldName()));
      }
 else {
        properties.put(p.getFieldName(),p.getValue());
      }
    }
  }
  if (!properties.isEmpty()) {
    props.putAll(properties);
    try {
      props.save(new FileOutputStream(propsFile),PropertyDirectory.getEntrySetDescription(entrySetName));
    }
 catch (    FileNotFoundException e) {
      LOG.warn("Failed to save property set: " + entrySetName,e);
    }
  }
}
