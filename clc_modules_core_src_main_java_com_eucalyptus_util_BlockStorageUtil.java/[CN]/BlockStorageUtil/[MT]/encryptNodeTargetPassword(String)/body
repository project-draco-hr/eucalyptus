{
  EntityWrapper<ClusterCredentials> credDb=EntityWrapper.get(ClusterCredentials.class);
  try {
    ClusterCredentials credentials=credDb.getUnique(new ClusterCredentials(StorageProperties.NAME));
    PublicKey ncPublicKey=X509CertHelper.toCertificate(credentials.getNodeCertificate()).getPublicKey();
    credDb.commit();
    Cipher cipher=Cipher.getInstance("RSA/ECB/PKCS1Padding");
    cipher.init(Cipher.ENCRYPT_MODE,ncPublicKey);
    return new String(Base64.encode(cipher.doFinal(password.getBytes())));
  }
 catch (  Exception e) {
    LOG.error("Unable to encrypt storage target password",e);
    credDb.rollback();
    throw new EucalyptusCloudException(e.getMessage(),e);
  }
}
