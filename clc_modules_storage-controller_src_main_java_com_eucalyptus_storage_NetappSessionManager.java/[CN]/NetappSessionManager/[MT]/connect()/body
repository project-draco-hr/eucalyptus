{
  try {
    SANInfo sanInfo=SANInfo.getStorageInfo();
    connection=new NaServer(sanInfo.getSanHost(),NetappProvider.API_MAJOR_VERSION,NetappProvider.API_MINOR_VERSION);
    connection.setStyle(NaServer.STYLE_LOGIN_PASSWORD);
    connection.setKeepAliveEnabled(true);
    connection.setAdminUser(sanInfo.getSanUser(),sanInfo.getSanPassword());
    NaElement request=new NaElement("system-get-version");
    NaElement reply;
    try {
      reply=connection.invokeElem(request);
      LOG.info("Version: " + reply.getChildContent("version"));
    }
 catch (    NaAuthenticationException e) {
      LOG.error(e);
      throw new EucalyptusCloudException(e);
    }
catch (    NaAPIFailedException e) {
      LOG.error(e);
      throw new EucalyptusCloudException(e);
    }
catch (    NaProtocolException e) {
      LOG.error(e);
      throw new EucalyptusCloudException(e);
    }
catch (    IOException e) {
      LOG.error(e);
      throw new EucalyptusCloudException(e);
    }
  }
 catch (  UnknownHostException ex) {
    throw new EucalyptusCloudException(ex);
  }
}
