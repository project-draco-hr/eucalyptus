{
  final Address addr=this.allocateSystemAddresses(vm.getClusterName(),1).get(0);
  Callbacks.newRequest(addr.assign(vm).getCallback()).then(new Callback.Success<BaseMessage>(){
    public void fire(    BaseMessage response){
      vm.updatePublicAddress(addr.getName());
    }
  }
).dispatch(addr.getCluster());
}
