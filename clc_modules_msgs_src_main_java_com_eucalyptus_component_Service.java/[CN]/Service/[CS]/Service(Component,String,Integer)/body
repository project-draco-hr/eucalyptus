{
  this.parent=parent;
  Boolean local=false;
  URI uri=null;
  if (NetworkUtil.testLocal(host)) {
    local=false;
    this.name=parent.getName() + "@" + host;
    uri=this.parent.getConfiguration().makeUri(host,port);
  }
 else {
    local=true;
    this.name=parent.getName() + LOCAL_HOSTNAME;
    uri=this.parent.getConfiguration().getLocalUri();
  }
  this.endpoint=new ServiceEndpoint(this,local,uri);
  this.keys=new Credentials(this);
  this.dispatcher=DispatcherFactory.build(parent,this);
}
