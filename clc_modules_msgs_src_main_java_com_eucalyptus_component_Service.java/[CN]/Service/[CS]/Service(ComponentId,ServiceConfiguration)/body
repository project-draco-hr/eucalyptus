{
  this.id=id;
  this.serviceConfiguration=serviceConfig;
  this.name=serviceConfig.getFullName().toString();
  URI remoteUri;
  if (this.serviceConfiguration.isLocal()) {
    remoteUri=this.id.makeRemoteUri("127.0.0.1",this.id.getPort());
  }
 else {
    remoteUri=this.id.makeRemoteUri(this.serviceConfiguration.getHostName(),this.serviceConfiguration.getPort());
  }
  this.endpoint=new ServiceEndpoint(this,true,serviceConfig.isLocal() ? this.id.getLocalEndpointUri() : remoteUri);
  this.localDispatcher=ServiceDispatcher.makeLocal(this.serviceConfiguration);
  this.remoteDispatcher=ServiceDispatcher.makeRemote(this.serviceConfiguration);
}
