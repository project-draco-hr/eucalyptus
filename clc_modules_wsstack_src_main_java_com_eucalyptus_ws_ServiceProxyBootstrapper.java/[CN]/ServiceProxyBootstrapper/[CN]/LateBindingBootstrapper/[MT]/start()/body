{
  if (Component.walrus.isLocal()) {
    registerLocalComponent(Component.walrus);
  }
 else {
    List<WalrusConfiguration> walri=Configuration.getWalrusConfigurations();
    for (    WalrusConfiguration w : walri) {
      try {
        if (NetworkUtil.testLocal(w.getHostName()))         continue;
        registerComponent(Component.walrus,w);
      }
 catch (      Exception e) {
        LOG.error("Failed to create walrus service proxy: " + e);
      }
    }
  }
  List<StorageControllerConfiguration> scs=Configuration.getStorageControllerConfigurations();
  for (  StorageControllerConfiguration sc : scs) {
    try {
      if (NetworkUtil.testLocal(sc.getHostName()))       registerLocalComponent(Component.storage);
 else       registerComponent(Component.storage,sc);
    }
 catch (    Exception e) {
      LOG.error("Failed to create storage controller " + sc.getName() + " service proxy: "+ e);
    }
  }
  if (Component.dns.isLocal()) {
    registerLocalComponent(Component.dns);
  }
  if (Component.clusters.isLocal()) {
    registerLocalComponent(Component.clusters);
  }
  if (Component.jetty.isLocal()) {
    registerLocalComponent(Component.jetty);
  }
  return true;
}
