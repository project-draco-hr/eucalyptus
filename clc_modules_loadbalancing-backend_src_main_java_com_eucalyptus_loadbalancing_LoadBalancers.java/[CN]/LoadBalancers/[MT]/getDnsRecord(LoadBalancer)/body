{
  try (final TransactionResource db=Entities.transactionFor(LoadBalancerDnsRecord.class)){
    try {
      return Entities.uniqueResult(LoadBalancerDnsRecord.named(lb));
    }
 catch (    NoSuchElementException ex) {
      final LoadBalancerDnsRecord newRec=LoadBalancerDnsRecord.named(lb);
      Entities.persist(newRec);
      db.commit();
      return newRec;
    }
  }
 catch (  Exception ex) {
    throw new LoadBalancingException("failed to query dns record",ex);
  }
}
