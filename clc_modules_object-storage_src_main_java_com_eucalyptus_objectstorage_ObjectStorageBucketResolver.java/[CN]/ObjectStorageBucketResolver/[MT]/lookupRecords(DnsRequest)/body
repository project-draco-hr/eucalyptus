{
  final Record query=request.getQuery();
  final Name name=query.getName();
  if (!DomainNames.isSystemSubdomain(query.getName()))   throw new NoSuchElementException("Failed to lookup name: " + name);
  try {
    final List<InetAddress> osgIps=ObjectStorageAddresses.getObjectStorageAddress();
    final List<Record> records=Lists.newArrayList();
    for (    final InetAddress osgIp : osgIps) {
      records.add(DomainNameRecords.addressRecord(name,osgIp));
    }
    return DnsResponse.forName(query.getName()).answer(RequestType.A.apply(query) ? records : null);
  }
 catch (  final Exception ex) {
    return DnsResponse.forName(query.getName()).nxdomain();
  }
}
