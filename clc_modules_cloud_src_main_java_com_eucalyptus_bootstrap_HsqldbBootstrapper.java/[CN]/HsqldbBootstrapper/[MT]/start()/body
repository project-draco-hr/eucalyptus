{
  while (this.db.getState() != 1) {
    Throwable t=this.db.getServerError();
    if (t != null) {
      LOG.error(t,t);
      throw new RuntimeException(t);
    }
    LOG.info("Waiting for database to start...");
  }
  try {
    GroovyUtil.evaluateScript("startup.groovy");
  }
 catch (  Exception e) {
    LOG.fatal(e,e);
    System.exit(1);
  }
  return true;
}
