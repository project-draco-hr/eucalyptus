{
  String paramString="";
  Set<String> sortedKeys=new TreeSet<String>(String.CASE_INSENSITIVE_ORDER);
  sortedKeys.addAll(parameters.keySet());
  sortedKeys.remove(SecurityParameter.Signature.parameter());
  for (  final String key : sortedKeys) {
    if (parameters.get(key).isEmpty()) {
      paramString=paramString.concat(key).replaceAll("\\+"," ");
    }
 else     for (    final String value : Ordering.natural().sortedCopy(parameters.get(key))) {
      paramString=paramString.concat(key).concat(Strings.nullToEmpty(value).replaceAll("\\+"," "));
    }
  }
  try {
    return new String(URLCodec.decodeUrl(paramString.getBytes()));
  }
 catch (  DecoderException e) {
    return paramString;
  }
}
