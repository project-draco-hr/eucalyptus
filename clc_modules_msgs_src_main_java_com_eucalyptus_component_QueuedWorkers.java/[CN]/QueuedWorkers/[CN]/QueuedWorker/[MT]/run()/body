{
  while (!this.msgQueue.isEmpty() || this.running.get()) {
    Runnable event;
    try {
      if ((event=this.msgQueue.poll(2000,TimeUnit.MILLISECONDS)) != null) {
        event.run();
      }
    }
 catch (    final InterruptedException e1) {
      Thread.currentThread().interrupt();
      return;
    }
catch (    final Throwable e) {
      LOG.error(e,e);
    }
  }
  LOG.debug("Shutting down worker: " + this.owner.getSimpleName() + " in thread "+ Thread.currentThread().getName());
}
