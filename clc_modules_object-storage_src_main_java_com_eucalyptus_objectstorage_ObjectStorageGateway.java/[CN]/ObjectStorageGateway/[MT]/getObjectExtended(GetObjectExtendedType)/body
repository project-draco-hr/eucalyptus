{
  ObjectEntity objectEntity=getObjectEntityAndCheckPermissions(request,null);
  request.setKey(objectEntity.getObjectUuid());
  request.setBucket(objectEntity.getBucket().getBucketUuid());
  try {
    request.setBucket(objectEntity.getBucket().getBucketUuid());
    request.setKey(objectEntity.getObjectUuid());
    GetObjectExtendedResponseType response=ospClient.getObjectExtended(request);
    response.setVersionId(objectEntity.getVersionId());
    response.setLastModified(objectEntity.getObjectModifiedTimestamp());
    return response;
  }
 catch (  Exception e) {
    LOG.warn("CorrelationId: " + Contexts.lookup().getCorrelationId() + " Responding to client with 500 InternalError because of:",e);
    throw new InternalErrorException(request.getBucket() + "/" + request.getKey(),e);
  }
}
