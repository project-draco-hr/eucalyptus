{
synchronized (ObjectStorageGateway.class) {
    ConfigurationCache.getConfiguration(ObjectStorageGlobalConfiguration.class);
    if (ospClient == null) {
      try {
        ospClient=ObjectStorageProviders.getInstance();
      }
 catch (      Exception ex) {
        LOG.error("Error getting the configured providerclient for ObjectStorageGateway. Cannot continue",ex);
        throw new EucalyptusCloudException(ex);
      }
    }
  }
  try {
    ospClient.initialize();
  }
 catch (  S3Exception ex) {
    LOG.error("Error initializing Object Storage Gateway",ex);
    SystemUtil.shutdownWithError(ex.getMessage());
  }
  try {
    if (ospClient != null) {
      ospClient.start();
    }
  }
 catch (  S3Exception ex) {
    LOG.error("Error starting storage backend: " + ex);
  }
}
