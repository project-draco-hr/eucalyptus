{
  LOG.debug("Checking ObjectStorageGateway preconditions");
  ospClient.stop();
synchronized (ObjectStorageGateway.class) {
    ospClient=null;
  }
  Tracker.die();
  ObjectStorageProperties.shouldEnforceUsageLimits=true;
  ObjectStorageProperties.enableVirtualHosting=true;
  try {
    List<Runnable> r=REAPER_EXECUTOR.shutdownNow();
    LOG.info("Object reaper shutdown. Found " + r.size() + " pending tasks");
  }
 catch (  final Throwable f) {
    LOG.error("Error shutting down object-reaper.",f);
  }
  try {
    ObjectManagers.getInstance().stop();
  }
 catch (  Exception e) {
    LOG.error("Error stopping object manager",e);
  }
  try {
    BucketManagers.getInstance().stop();
  }
 catch (  Exception e) {
    LOG.error("Error stopping bucket manager",e);
  }
  LOG.debug("Checking ObjectStorageGateway preconditions");
}
