{
  ObjectEntity objectEntity=getObjectEntityAndCheckPermissions(request,request.getVersionId());
  if (objectEntity.getIsDeleteMarker()) {
    throw new NoSuchKeyException(request.getKey());
  }
  HeadObjectResponseType reply=request.getReply();
  reply.setLastModified(objectEntity.getObjectModifiedTimestamp());
  reply.setSize(objectEntity.getSize());
  reply.setVersionId(objectEntity.getVersionId());
  reply.setEtag(objectEntity.geteTag());
  reply.setVersionId(objectEntity.getVersionId());
  return reply;
}
