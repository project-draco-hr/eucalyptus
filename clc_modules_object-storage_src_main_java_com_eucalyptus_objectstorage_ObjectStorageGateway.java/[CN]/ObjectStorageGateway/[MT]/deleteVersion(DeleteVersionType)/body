{
  ObjectEntity objectEntity=getObjectEntityAndCheckPermissions(request,request.getVersionId());
  ObjectEntity responseEntity=OsgObjectFactory.getFactory().logicallyDeleteVersion(ospClient,objectEntity,Contexts.lookup().getUser());
  DeleteVersionResponseType reply=request.getReply();
  reply.setStatus(HttpResponseStatus.NO_CONTENT);
  reply.setKey(request.getKey());
  if (responseEntity != null) {
    reply.setVersionId(responseEntity.getVersionId());
    if (responseEntity.getIsDeleteMarker() != null && responseEntity.getIsDeleteMarker())     reply.setIsDeleteMarker(Boolean.TRUE);
  }
  return reply;
}
