{
  if (this.getInstancesSet().isEmpty())   return;
  Map<String,RebootInstancesType> rebootMap=new HashMap<String,RebootInstancesType>();
  for (  String vmId : this.getInstancesSet()) {
    VmInstance vm=null;
    try {
      vm=VmInstances.getInstance().lookup(vmId);
      if (vm.getOwnerId().equals(this.getUserId()) || this.isAdmin) {
        if (rebootMap.get(vm.getPlacement()) == null) {
          RebootInstancesType request=new RebootInstancesType();
          request.setUserId(this.isAdmin ? Component.eucalyptus.name() : this.getUserId());
          rebootMap.put(vm.getPlacement(),request);
        }
        rebootMap.get(vm.getPlacement()).getInstancesSet().add(vm.getInstanceId());
      }
 else {
        this.result=false;
        return;
      }
    }
 catch (    NoSuchElementException e) {
      this.result=false;
      return;
    }
  }
  this.result=true;
  return;
}
