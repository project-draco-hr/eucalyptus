{
  if ((dest.startsWith("vm://") && !endpointToService.containsKey(dest)) || dest == null) {
    throw new EucalyptusCloudException("Failed to find destination: " + dest,new IllegalArgumentException("No such endpoint: " + dest + " in endpoints="+ endpointToService.entrySet()));
  }
  if (dest.startsWith("vm://")) {
    dest=endpointToService.get(dest);
  }
  return dest;
}
