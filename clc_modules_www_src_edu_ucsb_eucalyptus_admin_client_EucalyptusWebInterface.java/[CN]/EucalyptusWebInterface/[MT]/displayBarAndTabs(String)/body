{
  HorizontalPanel top_bar=new HorizontalPanel();
  top_bar.setStyleName("euca-top-bar");
  top_bar.setSize("100%","20");
  HorizontalPanel name_panel=new HorizontalPanel();
  name_panel.setSpacing(5);
  Label welcome=new Label(cloud_name);
  if (textless_logo != null) {
    name_panel.add(textless_logo);
  }
  name_panel.add(welcome);
  name_panel.setCellVerticalAlignment(welcome,HorizontalPanel.ALIGN_MIDDLE);
  top_bar.add(name_panel);
  top_bar.setCellHorizontalAlignment(name_panel,HorizontalPanel.ALIGN_LEFT);
  top_bar.setCellVerticalAlignment(name_panel,HorizontalPanel.ALIGN_MIDDLE);
  HorizontalPanel upanel=new HorizontalPanel();
  Label user_name=new HTML("Logged in as <b>" + loggedInUser.getUserName() + "</b>&nbsp;&nbsp;|&nbsp;&nbsp;");
  Hyperlink logout_button=new Hyperlink("Logout","logout");
  logout_button.addClickListener(LogoutButtonListener);
  upanel.add(user_name);
  upanel.add(logout_button);
  top_bar.add(upanel);
  top_bar.setCellHorizontalAlignment(upanel,HorizontalPanel.ALIGN_RIGHT);
  top_bar.setCellVerticalAlignment(upanel,HorizontalPanel.ALIGN_MIDDLE);
  final VerticalPanel wrapper=new VerticalPanel();
  wrapper.setSize("100%","80%");
  wrapper.setHorizontalAlignment(HasHorizontalAlignment.ALIGN_CENTER);
  wrapper.setVerticalAlignment(HasVerticalAlignment.ALIGN_MIDDLE);
  int nTabs=0;
  allTabs=new TabBar();
  allTabs.addTab("Credentials");
  credsTabIndex=nTabs++;
  allTabs.addTab("Images");
  imgTabIndex=nTabs++;
  if (loggedInUser.isAdministrator().booleanValue()) {
    allTabs.addTab("Users");
    usrTabIndex=nTabs++;
    allTabs.addTab("Configuration");
    confTabIndex=nTabs++;
  }
  allTabs.addTabListener(new TabListener(){
    public void onTabSelected(    SourcesTabEvents sender,    int tabIndex){
      String error="This tab is not implemented yet, sorry!";
      wrapper.clear();
      currentTabIndex=tabIndex;
      if (tabIndex == credsTabIndex) {
        displayCredentialsTab(wrapper);
      }
 else       if (tabIndex == imgTabIndex) {
        displayImagesTab(wrapper);
      }
 else       if (tabIndex == usrTabIndex) {
        displayUsersTab(wrapper);
      }
 else       if (tabIndex == confTabIndex) {
        displayConfTab(wrapper);
      }
 else {
        displayErrorPage("Invalid tab!");
      }
    }
    public boolean onBeforeTabSelected(    SourcesTabEvents sender,    int tabIndex){
      return true;
    }
  }
);
  allTabs.selectTab(currentTabIndex);
  RootPanel.get().clear();
  RootPanel.get().add(top_bar);
  RootPanel.get().add(allTabs);
  RootPanel.get().add(wrapper);
}
