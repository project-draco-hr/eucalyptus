{
  String sanVolumeId=null;
  try (TransactionResource tran=Entities.transactionFor(SANVolumeInfo.class)){
    SANVolumeInfo volumeInfo=Entities.uniqueResult(new SANVolumeInfo(volumeId));
    if (volumeInfo == null || StringUtils.isBlank(volumeInfo.getSanVolumeId())) {
      throw new EucalyptusCloudException(volumeId + ": Backend ID not found");
    }
    sanVolumeId=volumeInfo.getSanVolumeId();
  }
 catch (  NoSuchElementException|TransactionException|EucalyptusCloudException ex) {
    LOG.debug(volumeId + ": Volume not found",ex);
    return;
  }
  LOG.info("Deleting backend volume " + sanVolumeId + " mapping to "+ volumeId);
  if (connectionManager.deleteVolume(sanVolumeId)) {
    try (TransactionResource tran=Entities.transactionFor(SANVolumeInfo.class)){
      SANVolumeInfo volumeInfo=Entities.uniqueResult(new SANVolumeInfo(volumeId).withSanVolumeId(sanVolumeId));
      Entities.delete(volumeInfo);
      tran.commit();
    }
 catch (    NoSuchElementException|TransactionException ex) {
      LOG.error("Unable to clean failed volume: " + volumeId);
      return;
    }
  }
}
