{
  ServiceConfiguration configuration=Topology.lookup(Compute.class);
switch (stepNum) {
case 0:
    checkNetworkAclExists(configuration);
  checkSubnetExists(configuration);
String associationId=getAssociationId(configuration);
if (associationId == null) {
throw new ValidationErrorException("Unable to find current network acl association id for subnet with id " + properties.getSubnetId());
}
String newAssociationId=replaceAssociation(configuration,associationId,properties.getNetworkAclId());
info.setPhysicalResourceId(newAssociationId);
info.setReferenceValueJson(JsonHelper.getStringFromJsonNode(new TextNode(info.getPhysicalResourceId())));
break;
default :
throw new IllegalStateException("Invalid step " + stepNum);
}
}
