{
  ObjectStorageException osge=null;
  try {
    WalrusClient c=getEnabledWalrusClient(request.getEffectiveUserId());
    WalReq walrusRequest=MessageMapper.INSTANCE.proxyWalrusRequest(walrusRequestClass,request);
    WalResp walrusResponse=c.sendSyncA(walrusRequest);
    ObjResp reply=MessageMapper.INSTANCE.proxyWalrusResponse(request,walrusResponse);
    return reply;
  }
 catch (  ServiceDispatchException e) {
    Throwable rootCause=e.getRootCause();
    if (rootCause != null) {
      if (rootCause instanceof WalrusException) {
        osge=MessageMapper.INSTANCE.proxyWalrusException((WalrusException)rootCause);
      }
 else {
        throw new EucalyptusCloudException(rootCause);
      }
    }
  }
catch (  Exception e) {
    throw new EucalyptusCloudException(e);
  }
  if (osge != null) {
    throw osge;
  }
  throw new EucalyptusCloudException("Unable to obtain reply from dispatcher.");
}
