{
  if (componentToString != null) {
    return componentToString;
  }
 else {
synchronized (Components.class) {
      return new Function<Component,String>(){
        @Override public String apply(        Component comp){
          final StringBuilder buf=new StringBuilder();
          buf.append(LogUtil.header(comp.toString())).append("\n");
          for (          Bootstrapper b : comp.getBootstrapper().getBootstrappers()) {
            buf.append("-> " + b.toString()).append("\n");
          }
          buf.append(LogUtil.subheader(comp.getName() + " services")).append("\n");
          for (          Service s : comp.getServices()) {
            try {
              buf.append("->  Service:          ").append(s.getFullName()).append(" ").append(s.getServiceConfiguration().getUri()).append("\n");
              buf.append("|-> Service config:   ").append(s.getServiceConfiguration()).append("\n");
            }
 catch (            Exception ex) {
              LOG.error(ex,ex);
            }
          }
          return buf.toString();
        }
      }
;
    }
  }
}
