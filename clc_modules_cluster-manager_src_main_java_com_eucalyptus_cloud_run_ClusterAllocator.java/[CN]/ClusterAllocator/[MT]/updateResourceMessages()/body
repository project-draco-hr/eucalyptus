{
  Set<Cluster> clustersToUpdate=Sets.newHashSet();
  for (  final ResourceToken token : allocInfo.getAllocationTokens()) {
    if (token.isUnorderedType()) {
      clustersToUpdate.add(token.getCluster());
    }
  }
  for (  final Cluster cluster : clustersToUpdate) {
    ResourceStateCallback cb=new ResourceStateCallback();
    cb.setSubject(cluster);
    Request<DescribeResourcesType,DescribeResourcesResponseType> request=AsyncRequests.newRequest(cb);
    try {
      final BaseMessage originMsg=MessageContexts.lookup(this.allocInfo.getReservationId(),edu.ucsb.eucalyptus.msgs.RunInstancesType.class);
      request.getRequest().regardingRequest(originMsg);
    }
 catch (    final Exception ex) {
      ;
    }
    this.messages.addRequest(State.UPDATE_RESOURCES,request);
  }
}
