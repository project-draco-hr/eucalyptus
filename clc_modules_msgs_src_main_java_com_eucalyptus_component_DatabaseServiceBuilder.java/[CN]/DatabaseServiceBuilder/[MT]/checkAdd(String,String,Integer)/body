{
  try {
    if (!NetworkUtil.testGoodAddress(host)) {
      throw new EucalyptusCloudException("Components cannot be registered using local, link-local, or multicast addresses.");
    }
 else     if (NetworkUtil.testLocal(host) && !this.getComponent().isLocal()) {
      throw new EucalyptusCloudException("You do not have a local " + this.newInstance().getClass().getSimpleName().replaceAll("Configuration","") + " enabled (or it is not installed).");
    }
  }
 catch (  EucalyptusCloudException e) {
    throw new ServiceRegistrationException(e.getMessage(),e);
  }
catch (  Exception e) {
    throw new ServiceRegistrationException("Service registration failed: " + e.getMessage(),e);
  }
  try {
    ServiceConfiguration existingName=this.lookupByHost(name);
    throw new EucalyptusCloudException("Component with name=" + name + " already exists at host="+ existingName.getHostName());
  }
 catch (  EucalyptusCloudException e) {
    throw new ServiceRegistrationException(e);
  }
catch (  Exception e1) {
    try {
      ServiceConfiguration existingHost=this.lookupByHost(host);
      throw new EucalyptusCloudException("Component with host=" + name + " already exists with name="+ existingHost.getHostName());
    }
 catch (    EucalyptusCloudException e) {
      throw new ServiceRegistrationException(e);
    }
catch (    Exception e) {
    }
  }
  return true;
}
