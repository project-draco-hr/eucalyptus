{
  for (  Reservation r : Reservations.getInstance().listValues()) {
    if (r.isEmpty())     continue;
    if (this.isAdmin || r.getOwnerId().equals(this.getUserId()))     if (this.getInstancesSet().isEmpty())     this.reservations.add(r.getAsReservationInfoType());
 else     if (!this.getInstancesSet().isEmpty()) {
      ReservationInfoType rsvInfo=r.getAsReservationInfoType();
      ArrayList<RunningInstancesItemType> instList=new ArrayList<RunningInstancesItemType>();
      for (      RunningInstancesItemType runInst : rsvInfo.getInstancesSet()) {
        if (this.getInstancesSet().contains(runInst.getInstanceId()))         instList.add(runInst);
      }
      if (instList.isEmpty())       continue;
      rsvInfo.setInstancesSet(instList);
      this.reservations.add(rsvInfo);
    }
  }
}
