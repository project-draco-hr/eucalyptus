{
  ChannelPipeline pipeline=pipeline();
  pipeline.addLast("decoder",new NioHttpDecoder());
  pipeline.addLast("encoder",new HttpResponseEncoder());
  pipeline.addLast("chunkedWriter",new ChunkedWriteHandler());
  pipeline.addLast("deserialize",new SoapMarshallingHandler());
  try {
    pipeline.addLast("ws-security",new InternalWsSecHandler());
  }
 catch (  GeneralSecurityException e) {
    LOG.error(e,e);
  }
  pipeline.addLast("ws-addressing",new AddressingHandler());
  pipeline.addLast("build-soap-envelope",new SoapHandler());
  pipeline.addLast("binding",new BindingHandler(BindingManager.getBinding("msgs_eucalyptus_com")));
  pipeline.addLast("handler",new HeartbeatHandler(this.channel));
  return pipeline;
}
