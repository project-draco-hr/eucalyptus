{
  EntityWrapper<WalrusSnapshotInfo> dbSnap=null;
  try {
    dbSnap=EntityWrapper.get(WalrusSnapshotInfo.class);
    WalrusSnapshotInfo walrusSnapInfo=new WalrusSnapshotInfo();
    walrusSnapInfo.setSnapshotBucket(bucketName);
    Criteria snapCount=dbSnap.createCriteria(WalrusSnapshotInfo.class).add(Example.create(walrusSnapInfo)).setProjection(Projections.rowCount());
    snapCount.setReadOnly(true);
    Long rowCount=(Long)snapCount.uniqueResult();
    dbSnap.rollback();
    if (rowCount != null && rowCount.longValue() > 0) {
      return true;
    }
    return false;
  }
 catch (  Exception e) {
    if (dbSnap != null) {
      dbSnap.rollback();
    }
    throw e;
  }
}
