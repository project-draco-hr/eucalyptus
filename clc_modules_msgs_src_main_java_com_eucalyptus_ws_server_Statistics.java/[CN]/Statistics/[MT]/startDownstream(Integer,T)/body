{
  if (!StackConfiguration.STATISTICS) {
    return;
  }
 else   if (requestStatistics.containsKey(correlationId)) {
    RequestRecord record=requestStatistics.get(correlationId);
    if (record.last != null) {
      record.last.endTime=System.currentTimeMillis();
      record.last=null;
    }
    record.handlerDownstreamStats.put(handler.getClass(),record.last=new HandlerRecord(handler.getClass()));
  }
}
