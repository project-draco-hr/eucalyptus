{
  this.controller=controller;
  this.days=days;
  this.startDate=new DatePickerPanel("From",controller.getStartTime(),new ValueChangeHandler<Date>(){
    public void onValueChange(    ValueChangeEvent<Date> event){
      Long newValue=DateRange.this.controller.changeStartMillis(event.getValue().getTime());
      DateRange.this.startDate.setValue(new Date(newValue));
    }
  }
);
  this.endDate=new DatePickerPanel("To",controller.getEndTime(),new ValueChangeHandler<Date>(){
    public void onValueChange(    ValueChangeEvent<Date> event){
      Long newValue=DateRange.this.controller.changeEndMillis(event.getValue().getTime());
      DateRange.this.endDate.setValue(new Date(newValue));
    }
  }
);
}
