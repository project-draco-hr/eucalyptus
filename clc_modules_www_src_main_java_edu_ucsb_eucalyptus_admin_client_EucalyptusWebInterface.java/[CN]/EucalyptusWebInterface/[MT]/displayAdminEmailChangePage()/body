{
  label_box.setText("One more thing!");
  label_box.setStyleName("euca-greeting-error");
  final Grid g1=new Grid(2,3);
  g1.getColumnFormatter().setWidth(0,"180");
  g1.getColumnFormatter().setWidth(1,"180");
  g1.getColumnFormatter().setWidth(2,"180");
  int i=0;
  g1.setWidget(i,0,new Label("Email address:"));
  g1.getCellFormatter().setHorizontalAlignment(i,0,HasHorizontalAlignment.ALIGN_RIGHT);
  final TextBox emailAddress1_box=new TextBox();
  emailAddress1_box.setWidth("180");
  g1.setWidget(i++,1,emailAddress1_box);
  g1.setWidget(i,0,new Label("The address, again:"));
  g1.getCellFormatter().setHorizontalAlignment(i,0,HasHorizontalAlignment.ALIGN_RIGHT);
  final TextBox emailAddress2_box=new TextBox();
  emailAddress2_box.setWidth("180");
  g1.setWidget(i++,1,emailAddress2_box);
  ClickListener ChangeButtonListener=new ClickListener(){
    public void onClick(    Widget sender){
      boolean formOk=true;
      for (int j=0; j < 2; j++) {
        g1.clearCell(j,2);
      }
      if (emailAddress1_box.getText().length() < 3) {
        Label l=new Label("Invalid address!");
        l.setStyleName("euca-error-hint");
        g1.setWidget(0,2,l);
        formOk=false;
      }
      if (!emailAddress1_box.getText().equals(emailAddress2_box.getText())) {
        Label l=new Label("Addresses do not match!");
        l.setStyleName("euca-error-hint");
        g1.setWidget(1,2,l);
        formOk=false;
      }
      if (formOk) {
        loggedInUser.setEmail(emailAddress1_box.getText());
        label_box.setText("Checking with the server...");
        label_box.setStyleName("euca-greeting-pending");
        EucalyptusWebBackend.App.getInstance().updateUserRecord(sessionId,loggedInUser,new AsyncCallback(){
          public void onSuccess(          final Object result){
            displayWalrusURLChangePage();
          }
          public void onFailure(          Throwable caught){
            loggedInUser.setEmail("");
            displayLoginErrorPage(caught.getMessage());
          }
        }
);
      }
 else {
        label_box.setText("Please, fix the errors and try again:");
        label_box.setStyleName("euca-greeting-warning");
      }
    }
  }
;
  Button change_button=new Button("Change address",ChangeButtonListener);
  HTML message=new HTML(admin_email_change_text);
  message.setWidth("460");
  VerticalPanel vpanel=new VerticalPanel();
  vpanel.setSpacing(15);
  if (logo != null) {
    vpanel.add(logo);
  }
  vpanel.add(label_box);
  vpanel.add(message);
  vpanel.add(g1);
  vpanel.add(change_button);
  VerticalPanel wrapper=new VerticalPanel();
  wrapper.add(vpanel);
  wrapper.setSize("100%","100%");
  wrapper.setCellVerticalAlignment(vpanel,VerticalPanel.ALIGN_MIDDLE);
  RootPanel.get().clear();
  RootPanel.get().add(wrapper);
}
