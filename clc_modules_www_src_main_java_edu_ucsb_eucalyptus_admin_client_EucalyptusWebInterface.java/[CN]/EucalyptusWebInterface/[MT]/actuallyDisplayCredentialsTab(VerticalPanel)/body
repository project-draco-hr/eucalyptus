{
  History.newItem("credentials");
  VerticalPanel ppanel=new VerticalPanel();
  ppanel.add(new HTML("<h3>User account Information</h3>"));
  Grid userGrid=new Grid(3,2);
  userGrid.setText(0,0,"Login:");
  userGrid.setHTML(0,1,"<b>" + loggedInUser.getUserName() + "</b>");
  userGrid.setText(1,0,"Name:");
  userGrid.setHTML(1,1,"<b>" + loggedInUser.getRealName() + "</b>");
  userGrid.setText(2,0,"Email:");
  userGrid.setHTML(2,1,"<b>" + loggedInUser.getEmail() + "</b>");
  ppanel.add(userGrid);
  ppanel.add(new HTML("<p>" + user_account_text + "</p>"));
  ppanel.setStyleName("euca-text");
  ppanel.addStyleName("content");
  Button passwordButton=new Button("Change Password",new ClickListener(){
    public void onClick(    Widget sender){
      displayPasswordChangePage(false);
    }
  }
);
  Button editButton=new Button("Edit Account Information",new ClickListener(){
    public void onClick(    Widget sender){
      displayUserRecordPage(RootPanel.get(),loggedInUser);
    }
  }
);
  ppanel.setSpacing(5);
  ppanel.add(editButton);
  ppanel.add(passwordButton);
  VerticalPanel cpanel=new VerticalPanel();
  cpanel.add(new HTML(certificate_download_text));
  cpanel.setStyleName("euca-text");
  cpanel.addStyleName("content");
  Button certButton=new Button("Download Certificate",new ClickListener(){
    public void onClick(    Widget sender){
      Window.open(GWT.getModuleBaseURL() + "getX509?user=" + loggedInUser.getUserName()+ "&keyValue="+ loggedInUser.getUserName()+ "&code="+ loggedInUser.getCertificateCode(),"_self","");
    }
  }
);
  VerticalPanel rpanel=new VerticalPanel();
  rpanel.setSpacing(5);
  HTML credentials_html=new HTML(rest_credentials_text);
  credentials_html.setStyleName("content");
  rpanel.add(credentials_html);
  Grid g0=new Grid(2,2);
  g0.setText(0,0,"Query ID:");
  final HTML queryId=new HTML("<b>" + loggedInUser.getQueryId() + "</b>");
  queryId.setVisible(false);
  g0.setWidget(0,1,queryId);
  g0.setText(1,0,"Secret key:");
  final HTML secretKey=new HTML("<b>" + loggedInUser.getSecretKey() + "</b>");
  secretKey.setVisible(false);
  g0.setWidget(1,1,secretKey);
  rpanel.add(g0);
  rpanel.setStyleName("euca-text");
  final Button secretButton=new Button("Show keys");
  secretButton.addClickListener(new ClickListener(){
    public void onClick(    Widget sender){
      if (secretKey.isVisible()) {
        secretKey.setVisible(false);
        queryId.setVisible(false);
        secretButton.setText("Show keys");
      }
 else {
        secretKey.setVisible(true);
        queryId.setVisible(true);
        secretButton.setText("Hide keys");
      }
    }
  }
);
  int gridRows=3;
  if (loggedInUser.isAdministrator() && show_cloud_registration) {
    gridRows++;
  }
  parent.add(ppanel);
  parent.add(cpanel);
  parent.add(certButton);
  parent.add(rpanel);
  parent.add(secretButton);
  if (loggedInUser.isAdministrator() && show_cloud_registration) {
    VerticalPanel cloud_panel=new VerticalPanel();
    cloud_panel.setSpacing(5);
    cloud_panel.add(new HTML(cloud_registration_text));
    Grid g1=new Grid(2,2);
    g1.setWidget(0,0,new HTML("<b><font size=\"2\">Cloud URL:</font></b>"));
    final HTML cloudUrl=new HTML("<font color=#666666 size=\"1\">http://" + cloudInfo.getInternalHostPort() + cloudInfo.getServicePath()+ "</font>");
    g1.setWidget(0,1,cloudUrl);
    g1.setWidget(1,0,new HTML("<b><font size=\"2\">Cloud ID:</font></b>"));
    final HTML cloudId=new HTML("<font color=#666666 size=\"1\">" + cloudInfo.getCloudId() + "</font>");
    g1.setWidget(1,1,cloudId);
    cloud_panel.add(g1);
    cloud_panel.setStyleName("euca-text");
    final Button cloudButton=new Button("Register");
    cloudButton.addClickListener(new ClickListener(){
      public void onClick(      Widget sender){
        new RightscaleDialog().center();
      }
    }
);
    parent.add(cloud_panel);
    VerticalPanel vp=new VerticalPanel();
    vp.setSpacing(3);
    HorizontalPanel hp=new HorizontalPanel();
    hp.setSpacing(3);
    hp.add(cloudButton);
    hp.add(new HTML("with"));
    vp.add(hp);
    vp.add(new Image("themes/share/rightscale-logo-blue.gif"));
    parent.add(vp);
  }
}
