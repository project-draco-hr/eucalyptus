{
  final String partitionName=config.getPartition();
  EntityWrapper<Partition> db=EntityWrapper.get(Partition.class);
  Partition p=null;
  try {
    p=db.getUnique(new Partition(){
{
        setName(partitionName);
      }
    }
);
    db.commit();
  }
 catch (  EucalyptusCloudException ex1) {
    db.rollback();
    LOG.warn("Failed to lookup partition for " + config + ".  Generating new partition configuration.");
    p=Partitions.generatePartition(config);
  }
  return p;
}
