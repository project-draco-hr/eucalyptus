{
  try {
    if ((this.session != null) && (this.session.get() != null)) {
      this.session.clear();
    }
    this.delegate=null;
    if (this.em != null) {
      this.em.close();
    }
    this.em=null;
  }
  finally {
    try {
      this.runnable.run();
    }
 catch (    final Exception ex) {
      LOG.error(ex,ex);
    }
    outstanding.remove(this.txUuid);
  }
}
