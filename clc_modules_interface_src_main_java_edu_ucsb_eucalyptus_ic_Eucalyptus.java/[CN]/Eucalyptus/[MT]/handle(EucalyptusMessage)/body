{
  if (msg instanceof UnimplementedMessage) {
    return msg.getReply();
  }
  if (msg instanceof DescribeRegionsType) {
    DescribeRegionsResponseType reply=(DescribeRegionsResponseType)msg.getReply();
    SystemConfiguration config=SystemConfiguration.getSystemConfiguration();
    reply.getRegionInfo().add(new RegionInfoType("Eucalyptus",SystemConfiguration.getCloudUrl()));
    try {
      reply.getRegionInfo().add(new RegionInfoType("Walrus",Components.lookup("walrus").lookupServiceByName("walrus").getUri().toASCIIString()));
    }
 catch (    NoSuchElementException ex) {
      LOG.error(ex,ex);
    }
    return reply;
  }
  return new EucalyptusErrorMessageType("Eucalyptus",msg,"Unknown request of type: " + msg.getClass().getSimpleName());
}
