{
  String component=request.lookupComponent();
  String host=request.getHost();
  LOG.info("Component: " + component + "@"+ host);
  Service service=lookupService(component,host);
  if (service.isLocal()) {
    return request;
  }
 else {
    BaseMessage reply;
    try {
      reply=service.getDispatcher().send(request);
    }
 catch (    Exception e) {
      LOG.error(e);
      throw new EucalyptusCloudException("Unable to dispatch message to: " + service.getName());
    }
    return reply;
  }
}
