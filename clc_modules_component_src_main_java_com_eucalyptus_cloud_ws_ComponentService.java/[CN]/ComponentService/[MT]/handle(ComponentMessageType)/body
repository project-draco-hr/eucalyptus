{
  String component=request.getComponent();
  String host=request.getHost();
  String name=request.getName();
  LOG.info("Component: " + component + "@"+ host);
  ServiceConfiguration service=this.lookupService(component,host,name);
  try {
    BaseMessage reply=null;
    if (service.isVmLocal()) {
      reply=ServiceContext.send(service.getComponentId().getLocalEndpointName(),request);
    }
 else {
      reply=AsyncRequests.sendSync(service,request);
    }
    return reply;
  }
 catch (  Throwable e) {
    LOG.error(e);
    throw new EucalyptusCloudException("Unable to dispatch message to: " + service.getName());
  }
}
