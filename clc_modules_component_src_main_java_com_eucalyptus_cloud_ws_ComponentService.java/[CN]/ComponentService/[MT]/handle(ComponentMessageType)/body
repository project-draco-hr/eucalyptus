{
  String component=request.getComponent();
  String host=request.getHost();
  String name=request.getName();
  LOG.info("Component: " + component + "@"+ host);
  ServiceConfiguration service=lookupService(component,host,name);
  if (service.isVmLocal()) {
    return request;
  }
 else {
    BaseMessage reply;
    try {
      reply=service.lookupService().getDispatcher().send(request);
    }
 catch (    Exception e) {
      LOG.error(e);
      throw new EucalyptusCloudException("Unable to dispatch message to: " + service.getName());
    }
    return reply;
  }
}
