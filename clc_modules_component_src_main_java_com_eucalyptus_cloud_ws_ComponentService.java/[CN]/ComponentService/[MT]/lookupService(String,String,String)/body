{
  Component destComp=Components.lookup(component);
  if (name != null) {
    return destComp.lookupServiceConfiguration(name);
  }
 else {
    InetAddress hostAddress=Internets.toAddress(host);
    for (    ServiceConfiguration s : destComp.lookupServiceConfigurations()) {
      if (Internets.toAddress(s.getHostName()).equals(hostAddress)) {
        return s;
      }
    }
    throw new EucalyptusCloudException("Unable to dispatch message to: " + component + "@"+ host);
  }
}
