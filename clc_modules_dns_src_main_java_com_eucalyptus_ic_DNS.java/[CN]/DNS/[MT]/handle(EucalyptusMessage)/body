{
  LOG.warn("DNS is queuing message");
  LOG.info(EventRecord.create(this.getClass().getSimpleName(),msg.getUserId(),msg.getCorrelationId(),EventType.MSG_RECEIVED,msg.getClass().getSimpleName()));
  long startTime=System.currentTimeMillis();
  try {
    WalrusMessaging.enqueue(msg);
  }
 catch (  EucalyptusCloudException e) {
    return new EucalyptusErrorMessageType(this.getClass().getSimpleName(),msg,e.getMessage());
  }
  EucalyptusMessage reply=null;
  reply=WalrusMessaging.dequeue(msg.getCorrelationId());
  LOG.info(EventRecord.create(this.getClass().getSimpleName(),msg.getUserId(),msg.getCorrelationId(),EventType.MSG_SERVICED,(System.currentTimeMillis() - startTime)));
  if (reply == null)   return new EucalyptusErrorMessageType(this.getClass().getSimpleName(),msg,"Received a NULL reply");
  return reply;
}
