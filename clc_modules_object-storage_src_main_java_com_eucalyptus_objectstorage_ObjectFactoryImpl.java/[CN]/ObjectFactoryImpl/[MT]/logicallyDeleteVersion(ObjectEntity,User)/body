{
  if (entity.getBucket() == null) {
    throw new InternalErrorException();
  }
  if (!entity.getIsDeleteMarker()) {
    ObjectMetadataManagers.getInstance().transitionObjectToState(entity,ObjectState.deleting);
  }
 else {
    ObjectMetadataManagers.getInstance().delete(entity);
  }
}
