{
  Address addr=address;
  EntityWrapper<Address> db=EntityWrapper.get(Address.class);
  try {
    addr=db.getUnique(new Address(address.getName()));
    addr.setOwner(address.getOwner());
    db.commit();
  }
 catch (  RuntimeException e) {
    db.rollback();
    LOG.error(e,e);
  }
catch (  EucalyptusCloudException e) {
    addr=new Address(address.getName(),address.getCluster());
    try {
      db.add(addr);
      db.commit();
    }
 catch (    Throwable e1) {
      db.rollback();
    }
  }
}
