{
  Address addr=address;
  EntityWrapper<Address> db=EntityWrapper.get(Address.class);
  try {
    addr=db.getUnique(new Address(address.getName()){
{
        this.setOwnerAccountNumber(address.getOwnerAccountNumber());
      }
    }
);
    db.commit();
  }
 catch (  RuntimeException e) {
    db.rollback();
    LOG.error(e,e);
  }
catch (  EucalyptusCloudException e) {
    addr=new Address(address.getName(),address.getPartition());
    try {
      db.add(addr);
      db.commit();
    }
 catch (    Throwable e1) {
      db.rollback();
    }
  }
}
