{
  this.transition(State.unallocated,State.allocated,false,true,new GuardedTransition<Transition>(Transition.allocating){
    @Override public void apply(){
      Address.this.instanceId=UNASSIGNED_INSTANCEID;
      Address.this.instanceAddress=UNASSIGNED_INSTANCEADDR;
      Address.this.userId=userId;
      Address.addAddress(Address.this);
      try {
        Addresses.getInstance().register(Address.this);
      }
 catch (      NoSuchElementException e) {
        LOG.debug(e);
      }
    }
  }
,QUIESCENT);
  return this;
}
