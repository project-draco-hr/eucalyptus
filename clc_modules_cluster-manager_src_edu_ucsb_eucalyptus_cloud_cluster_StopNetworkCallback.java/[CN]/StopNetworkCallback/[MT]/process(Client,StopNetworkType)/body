{
  LOG.debug("Sending stopNetwork for " + token.getName() + " on cluster "+ token.getCluster());
  try {
    for (    VmInstance v : VmInstances.getInstance().listValues()) {
      if (v.getNetworkNames().contains(token.getName()) && v.getPlacement().equals(token.getCluster()))       return;
    }
    StopNetworkResponseType reply=(StopNetworkResponseType)clusterClient.send(msg);
    try {
      Network net=Networks.getInstance().lookup(token.getName());
      Cluster cluster=Clusters.getInstance().lookup(token.getCluster());
      LOG.debug("Releasing network token back to cluster: " + token);
      cluster.getState().releaseNetworkAllocation(token);
      LOG.debug("Removing network token: " + token);
      net.removeToken(token.getCluster());
    }
 catch (    NoSuchElementException e1) {
      LOG.error(e1);
    }
  }
 catch (  AxisFault axisFault) {
    LOG.error(axisFault);
    LOG.debug(axisFault,axisFault);
  }
}
