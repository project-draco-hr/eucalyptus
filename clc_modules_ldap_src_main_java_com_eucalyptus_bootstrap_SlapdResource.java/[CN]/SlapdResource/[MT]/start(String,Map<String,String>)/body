{
  List<String> cmd=Lists.newArrayList("./bin/slapd.32");
  for (  String key : dbOpts.keySet()) {
    cmd.add(key);
    if (dbOpts.get(key) != null) {
      cmd.add(dbOpts.get(key));
    }
  }
  LOG.info("Preparing to start slapd: " + cmd.toString());
  this.process=ServiceProcess.exec(name,SubDirectory.LDAP.getFile(),cmd.toArray(new String[]{}),null);
  Runtime.getRuntime().addShutdownHook(new Thread(){
    @Override public void run(){
      LOG.info("Shutting down managed service resource: " + this.getClass().getCanonicalName());
      SlapdResource.this.shutdown();
    }
  }
);
}
