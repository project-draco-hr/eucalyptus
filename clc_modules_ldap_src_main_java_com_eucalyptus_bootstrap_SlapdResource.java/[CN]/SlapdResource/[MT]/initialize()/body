{
  File parentFile=new File(CONFIG_FILE).getParentFile();
  if (parentFile != null) {
    if (!new File(CONFIG_FILE).exists() && parentFile.mkdirs()) {
      File conf=new File(SlapdResource.CONFIG_FILE);
      FileOutputStream confOut=new FileOutputStream(conf);
      try {
        confOut.write(String.format(SlapdResource.initialConfig,SubDirectory.LDAP.toString(),Hmacs.generateSystemSignature()).getBytes());
        confOut.flush();
      }
  finally {
        confOut.close();
      }
      this.expandResourceJarInner(SubDirectory.LDAP.getFile(),"data.jar");
    }
  }
}
