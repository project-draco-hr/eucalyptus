{
  AWSEC2NetworkAclResourceAction action=(AWSEC2NetworkAclResourceAction)resourceAction;
  ServiceConfiguration configuration=Topology.lookup(Compute.class);
  if (action.info.getPhysicalResourceId() == null)   return action;
  DescribeNetworkAclsType describeNetworkAclsType=MessageHelper.createMessage(DescribeNetworkAclsType.class,action.info.getEffectiveUserId());
  NetworkAclIdSetType networkAclIdSet=new NetworkAclIdSetType();
  NetworkAclIdSetItemType networkAclIdSetItem=new NetworkAclIdSetItemType();
  networkAclIdSetItem.setNetworkAclId(action.info.getPhysicalResourceId());
  networkAclIdSet.setItem(Lists.newArrayList(networkAclIdSetItem));
  describeNetworkAclsType.setNetworkAclIdSet(networkAclIdSet);
  DescribeNetworkAclsResponseType describeNetworkAclsResponseType=AsyncRequests.<DescribeNetworkAclsType,DescribeNetworkAclsResponseType>sendSync(configuration,describeNetworkAclsType);
  if (describeNetworkAclsResponseType.getNetworkAclSet() == null || describeNetworkAclsResponseType.getNetworkAclSet().getItem() == null || describeNetworkAclsResponseType.getNetworkAclSet().getItem().isEmpty()) {
    return action;
  }
  DeleteNetworkAclType DeleteNetworkAclType=MessageHelper.createMessage(DeleteNetworkAclType.class,action.info.getEffectiveUserId());
  DeleteNetworkAclType.setNetworkAclId(action.info.getPhysicalResourceId());
  DeleteNetworkAclResponseType DeleteNetworkAclResponseType=AsyncRequests.<DeleteNetworkAclType,DeleteNetworkAclResponseType>sendSync(configuration,DeleteNetworkAclType);
  return action;
}
