{
  final Subnet subnet=new Subnet(owner,name);
  subnet.setVpc(vpc);
  subnet.setNetworkAcl(networkAcl);
  subnet.setNetworkAclAssociationId(Crypto.generateId("aclassoc"));
  subnet.setRouteTable(routeTable);
  subnet.setRouteTableAssociationId(Crypto.generateId("rtbassoc"));
  subnet.setCidr(cidr);
  subnet.setAvailabilityZone(availabilityZone);
  subnet.setAvailableIpAddressCount(((int)Math.pow(2,32 - Cidr.parse(cidr).getPrefix())) - 5);
  subnet.setDefaultForAz(false);
  subnet.setMapPublicIpOnLaunch(false);
  subnet.setState(State.pending);
  return subnet;
}
