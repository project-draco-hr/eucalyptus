{
  try {
    final DeleteTagsTask task=new DeleteTagsTask(userId,Lists.newArrayList(resourceId),Lists.newArrayList(tagKey));
    final CheckedListenableFuture<Boolean> result=task.dispatch();
    if (result.get()) {
      ;
    }
  }
 catch (  final Exception ex) {
    ;
  }
  final Map<String,String> tag=Maps.newHashMap();
  tag.put(tagKey,tagValue);
  final CreateTagsTask task=new CreateTagsTask(userId,Lists.newArrayList(resourceId),tag);
  final CheckedListenableFuture<Boolean> result=task.dispatch();
  if (result.get()) {
    ;
  }
 else   throw new Exception(String.format("Failed to create tag (%s-%s:%s)",resourceId,tagKey,tagValue));
}
