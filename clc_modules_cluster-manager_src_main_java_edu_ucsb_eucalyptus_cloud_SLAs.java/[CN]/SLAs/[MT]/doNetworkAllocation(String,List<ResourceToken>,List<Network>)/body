{
  ResourceToken firstRscToken=rscTokens.get(0);
  Network firstNet=networks.get(0);
  try {
    Networks.getInstance().lookup(firstNet.getName());
  }
 catch (  NoSuchElementException e) {
    Networks.getInstance().register(firstNet);
  }
 finally {
    try {
      NetworkToken netToken=allocateClusterVlan(userId,firstRscToken.getCluster(),firstNet.getName());
      firstRscToken.getNetworkTokens().add(netToken);
    }
 catch (    NetworkAlreadyExistsException e) {
    }
  }
}
