{
  final List<String> userNames=UserGroupUtils.getUserNamesFromUsers(users);
  this.cleanup();
  setHeaderText("Adding users to groups");
  HorizontalPanel action=addActionBar();
  addTitle("Add " + users.size() + " users to selected groups");
  addSeparator();
  Grid grid=addDataGrid(1);
  int i=0;
  final ListBox groups=addListRow(grid,i++,"Groups",UserGroupUtils.removeSpecialGroups(groupNames),null,false);
  action.add(new EucaButton("Yes",new ClickHandler(){
    public void onClick(    ClickEvent event){
      control.addUsersToGroups(userNames,getListSelectedItems(groups));
    }
  }
));
  action.add(new EucaButton("No",new ClickHandler(){
    public void onClick(    ClickEvent event){
      control.displaySelectedUsers();
    }
  }
));
}
