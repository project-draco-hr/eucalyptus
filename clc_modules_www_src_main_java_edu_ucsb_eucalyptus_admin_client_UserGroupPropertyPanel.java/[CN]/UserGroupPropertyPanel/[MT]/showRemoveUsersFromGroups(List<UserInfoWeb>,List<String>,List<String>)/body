{
  final List<String> userNames=UserGroupUtils.getUserNamesFromUsers(users);
  this.cleanup();
  setHeaderText("Removing users from groups");
  HorizontalPanel action=addActionBar();
  addTitle("Remove " + users.size() + " users from selected groups");
  addSeparator();
  Grid grid=addDataGrid(1);
  int i=0;
  final ListBox groups=addListRow(grid,i++,"Groups",UserGroupUtils.removeSpecialGroups(groupNames),selectedGroupNames,false);
  action.add(new EucaButton("Yes",new ClickHandler(){
    public void onClick(    ClickEvent event){
      control.removeUsersFromGroups(userNames,getListSelectedItems(groups));
    }
  }
));
  action.add(new EucaButton("No",new ClickHandler(){
    public void onClick(    ClickEvent event){
      control.displaySelectedUsers();
    }
  }
));
}
