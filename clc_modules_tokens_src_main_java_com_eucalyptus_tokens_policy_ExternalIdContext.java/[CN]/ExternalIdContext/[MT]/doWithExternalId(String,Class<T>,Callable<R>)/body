{
  final String previousId=externalIdLocal.get();
  externalIdLocal.set(externalId);
  try {
    return callback.call();
  }
 catch (  final Exception e) {
    final T rethrow=Exceptions.findCause(e,thrown);
    if (rethrow != null) {
      throw rethrow;
    }
 else {
      throw Exceptions.toUndeclared(e);
    }
  }
 finally {
    externalIdLocal.set(previousId);
  }
}
