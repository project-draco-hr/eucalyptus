{
  List<Address> addressList=Lists.newArrayList();
  if (this.getDisabledMap().size() < count)   throw new NotEnoughResourcesAvailable("Not enough resources available: addresses (try --addressing private)");
  this.canHas.writeLock().lock();
  try {
    for (    Address addr : this.listDisabledValues()) {
      if (cluster.equals(addr.getCluster())) {
        addressList.add(addr);
        if (--count == 0) {
          break;
        }
      }
    }
    if (count != 0) {
      throw new NotEnoughResourcesAvailable("Not enough resources available: addresses (try --addressing private)");
    }
 else {
      for (      Address a : addressList) {
        a.allocate(Component.eucalyptus.name());
        a.assign(Address.PENDING_ASSIGNMENT,Address.PENDING_ASSIGNMENT);
      }
    }
  }
  finally {
    this.canHas.writeLock().unlock();
  }
  return addressList;
}
