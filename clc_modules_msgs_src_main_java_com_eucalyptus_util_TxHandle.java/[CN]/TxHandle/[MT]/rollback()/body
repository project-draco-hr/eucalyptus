{
  if (this.session != null) {
    this.session.clear();
  }
  try {
    if (this.delegate != null && this.delegate.isActive()) {
      this.delegate.rollback();
    }
  }
 catch (  Throwable e) {
    LOG.error(e,e);
  }
 finally {
    this.delegate=null;
    if (this.txUuid != null) {
      outstanding.remove(this.txUuid);
    }
    if (this.em != null) {
      this.em.close();
    }
    this.em=null;
  }
}
