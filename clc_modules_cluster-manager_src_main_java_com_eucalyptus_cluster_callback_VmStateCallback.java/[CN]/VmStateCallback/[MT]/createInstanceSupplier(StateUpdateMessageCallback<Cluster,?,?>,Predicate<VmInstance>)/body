{
  return Suppliers.memoize(new Supplier<Set<String>>(){
    @Override public Set<String> get(){
      try (final TransactionResource tx=Entities.readOnlyDistinctTransactionFor(VmInstance.class)){
        Collection<VmInstance> clusterInstances=VmInstances.list(null,filter);
        Collection<String> instanceNames=Collections2.transform(clusterInstances,CloudMetadatas.toDisplayName());
        return Sets.newHashSet(instanceNames);
      }
 catch (      Exception ex) {
        Logs.extreme().error(ex,ex);
        return Sets.newHashSet();
      }
    }
  }
);
}
