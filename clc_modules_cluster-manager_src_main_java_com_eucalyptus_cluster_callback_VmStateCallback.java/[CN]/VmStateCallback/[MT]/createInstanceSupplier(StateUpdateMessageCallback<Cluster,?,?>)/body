{
  return Suppliers.memoize(new Supplier<Set<String>>(){
    @Override public Set<String> get(){
      Predicate<VmInstance> partitionFilter=new Predicate<VmInstance>(){
        @Override public boolean apply(        VmInstance input){
          return input.getPartition().equals(cb.getSubject().getPartition()) || "default".equals(input.getPartition());
        }
      }
;
      Collection<VmInstance> clusterInstances=Collections2.filter(VmInstances.list(),partitionFilter);
      Collection<String> instanceNames=Collections2.transform(clusterInstances,CloudMetadatas.toDisplayName());
      return Sets.newHashSet(instanceNames);
    }
  }
);
}
