{
  super(cluster);
  super.setRequest(new VmDescribeType(){
{
      regarding();
      EntityTransaction db=Entities.get(VmInstance.class);
      try {
        for (        VmInstance vm : Iterables.filter(VmInstances.list(),VmPendingCallback.this.filter)) {
          if (vm.getCreationSplitTime() > VM_STATE_SETTLE_TIME) {
            this.getInstancesSet().add(vm.getInstanceId());
          }
        }
        if (Databases.isSynchronizing()) {
          db.rollback();
        }
 else {
          db.commit();
        }
      }
 catch (      Exception ex) {
        Logs.exhaust().error(ex,ex);
        db.rollback();
      }
    }
  }
);
  if (this.getRequest().getInstancesSet().isEmpty()) {
    throw new CancellationException();
  }
}
