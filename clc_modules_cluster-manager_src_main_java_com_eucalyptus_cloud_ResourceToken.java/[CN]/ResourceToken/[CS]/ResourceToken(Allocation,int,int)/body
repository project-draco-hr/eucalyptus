{
  this.allocation=allocInfo;
  this.launchIndex=launchIndex;
  this.instanceId=allocInfo.getInstanceId(launchIndex);
  if (this.instanceId == null) {
    throw new IllegalArgumentException("Cannot create resource token with null instance id: " + allocInfo);
  }
  this.instanceUuid=UUID.randomUUID().toString();
  this.resourceAllocationSequenceNumber=resourceAllocationSequenceNumber;
  this.creationTime=Calendar.getInstance().getTime();
  ServiceConfiguration config=Topology.lookup(ClusterController.class,this.getAllocationInfo().getPartition());
  this.cluster=Clusters.lookup(config);
}
