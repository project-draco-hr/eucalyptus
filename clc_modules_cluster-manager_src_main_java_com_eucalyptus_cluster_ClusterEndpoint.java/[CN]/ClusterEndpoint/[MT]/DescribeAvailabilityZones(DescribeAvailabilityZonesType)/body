{
  DescribeAvailabilityZonesResponseType reply=(DescribeAvailabilityZonesResponseType)request.getReply();
  List<String> args=request.getAvailabilityZoneSet();
  if (Contexts.lookup().hasAdministrativePrivileges()) {
    for (    String keyword : describeKeywords.keySet()) {
      if (args.remove(keyword)) {
        reply.getAvailabilityZoneInfo().addAll(describeKeywords.get(keyword).get());
        return reply;
      }
    }
  }
 else {
    for (    String keyword : describeKeywords.keySet()) {
      args.remove(keyword);
    }
  }
  if (args.isEmpty()) {
    for (    Cluster c : Clusters.getInstance().listValues()) {
      reply.getAvailabilityZoneInfo().addAll(this.getDescriptionEntry(c,args));
    }
  }
 else {
    for (    final String partitionName : request.getAvailabilityZoneSet()) {
      try {
        Cluster c=Iterables.find(Clusters.getInstance().listValues(),new Predicate<Cluster>(){
          @Override public boolean apply(          Cluster input){
            return partitionName.equals(input.getConfiguration().getPartition());
          }
        }
);
        reply.getAvailabilityZoneInfo().addAll(this.getDescriptionEntry(c,args));
      }
 catch (      NoSuchElementException e) {
        try {
          Cluster c=Clusters.getInstance().lookup(partitionName);
          reply.getAvailabilityZoneInfo().addAll(this.getDescriptionEntry(c,args));
        }
 catch (        NoSuchElementException ex) {
        }
      }
    }
  }
  return reply;
}
