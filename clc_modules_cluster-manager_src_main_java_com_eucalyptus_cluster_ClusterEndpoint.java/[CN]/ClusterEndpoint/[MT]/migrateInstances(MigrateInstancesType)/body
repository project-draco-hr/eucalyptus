{
  MigrateInstancesResponseType reply=request.getReply();
  String serviceTag=request.getServiceTag();
  for (  ServiceConfiguration c : Topology.enabledServices(ClusterController.class)) {
    Cluster cluster=Clusters.lookup(c);
    if (cluster.getNodeMap().containsKey(serviceTag)) {
      try {
        final String sourceHost=request.getSourceHost();
        cluster.migrateInstances(sourceHost);
        return reply.markWinning();
      }
 catch (      Exception ex) {
        LOG.error(ex,ex);
      }
    }
  }
  return reply.markFailed();
}
