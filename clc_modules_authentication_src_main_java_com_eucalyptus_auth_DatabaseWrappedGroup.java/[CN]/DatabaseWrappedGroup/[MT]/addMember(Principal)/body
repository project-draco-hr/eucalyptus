{
  EntityWrapper<UserEntity> db=Authentication.getEntityWrapper();
  try {
    UserEntity user=db.getUnique(new UserEntity(principal.getName()));
    GroupEntity g=db.recast(GroupEntity.class).getUnique(this.searchGroup);
    if (!g.isMember(user)) {
      g.addMember(user);
      db.commit();
      EventRecord.here(Groups.class,EventClass.GROUP,EventType.GROUP_MEMBER_ADDED,"group=" + this.getName(),"user=" + user.getName()).info();
      return true;
    }
 else {
      db.rollback();
      return false;
    }
  }
 catch (  EucalyptusCloudException e) {
    LOG.debug(e,e);
    db.rollback();
    return false;
  }
}
