{
  EventHandlerChain<NewDBInstanceEvent> createChain=new EventHandlerChainCreateDbInstance();
  createChain.append(new SecurityGroupSetup(createChain));
  createChain.append(new AuthorizePort(createChain));
  createChain.append(new IamRoleSetup(createChain));
  createChain.append(new IamInstanceProfileSetup(createChain));
  createChain.append(new UploadServerCertificate(createChain));
  createChain.append(new AuthorizeServerCertificate(createChain));
  createChain.append(new AuthorizeVolumeOperations(createChain));
  createChain.append(new UserDataSetup(createChain));
  createChain.append(new CreateLaunchConfiguration(createChain,DatabaseServerProperties.DB_SERVER_EMI,DatabaseServerProperties.DB_SERVER_INSTANCE_TYPE,(DatabaseServerProperties.DB_SERVER_KEYNAME != null && DatabaseServerProperties.DB_SERVER_KEYNAME.length() > 0) ? DatabaseServerProperties.DB_SERVER_KEYNAME : null));
  createChain.append(new CreateAutoScalingGroup(createChain));
  createChain.append(new CreateTags(createChain));
  createChain.append(new ExceptionThrower(createChain));
  try {
    NewDBInstanceEvent createEvent=new NewDBInstanceEvent(Accounts.lookupSystemAdmin().getUserId());
    createEvent.setDbInstanceIdentifier(evt.getDbInstanceIdentifier());
    createChain.execute(createEvent);
  }
 catch (  final Exception ex) {
    LOG.debug(ex,ex);
  }
}
