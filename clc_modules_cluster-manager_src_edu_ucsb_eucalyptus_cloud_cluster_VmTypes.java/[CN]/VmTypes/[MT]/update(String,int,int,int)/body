{
  VmType sameVm=VmTypes.getVmType(name);
  if (sameVm.getDisk() == disk && sameVm.getCpu() == cpu && sameVm.getMemory() == memory)   return;
  VmType temp=new VmType(name,cpu,disk,memory);
  for (  VmType vm : VmTypes.list())   if (!vm.getName().equals(name) && vm.compareTo(temp) == 0 && temp.compareTo(vm) == 0)   throw new EucalyptusCloudException("Proposed VmType fails to satisfy well-ordering requirement.");
  EntityWrapper<VmType> db=new EntityWrapper<VmType>();
  try {
    sameVm=db.getUnique(new VmType(name));
    sameVm.setCpu(cpu);
    sameVm.setDisk(disk);
    sameVm.setMemory(memory);
    db.commit();
  }
 catch (  EucalyptusCloudException e) {
    db.rollback();
    throw e;
  }
}
