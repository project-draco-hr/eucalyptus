{
  final DescribePrincipalResponseType response=request.getReply();
  final DescribePrincipalResult result=new DescribePrincipalResult();
  try {
    final String accessKeyId=request.getAccessKeyId();
    if (accessKeyId != null) {
      final AccessKey accessKey=Accounts.lookupAccessKeyById(accessKeyId);
      final UserPrincipal user=accessKey.getPrincipal();
      final Principal principal=new Principal();
      principal.setArn(Accounts.getUserArn(user));
      principal.setUserId(user.getUserId());
      principal.setAccountAlias(Accounts.lookupAccountAliasById(user.getAccountNumber()));
      if (accessKey.isActive()) {
        final com.eucalyptus.auth.euare.common.identity.AccessKey key=new com.eucalyptus.auth.euare.common.identity.AccessKey();
        key.setAccessKeyId(accessKey.getAccessKey());
        key.setSecretAccessKey(accessKey.getSecretKey());
        principal.setAccessKeys(Lists.newArrayList(key));
      }
      result.setPrincipal(principal);
    }
  }
 catch (  InvalidAccessKeyAuthException e) {
  }
catch (  AuthException e) {
    throw handleException(e);
  }
  response.setDescribePrincipalResult(result);
  return response;
}
