{
  if (channelEvent instanceof ExceptionEvent) {
    Throwable cause=((ExceptionEvent)channelEvent).getCause();
    ExceptionResponseType errMsg=new ExceptionResponseType(null,cause.getMessage(),HttpResponseStatus.INTERNAL_SERVER_ERROR,cause);
    channelEvent.getFuture().cancel();
    ctx.getChannel().write(errMsg);
  }
 else {
    super.handleDownstream(ctx,channelEvent);
  }
}
