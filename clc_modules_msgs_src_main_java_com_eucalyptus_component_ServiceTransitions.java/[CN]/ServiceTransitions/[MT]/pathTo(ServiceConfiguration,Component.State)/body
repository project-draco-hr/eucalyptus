{
  Callable<CheckedListenableFuture<ServiceConfiguration>> transition;
switch (goalState) {
case LOADED:
    return executeTransition(configuration,Automata.sequenceTransitions(configuration,pathToLoaded(configuration.lookupState())));
case DISABLED:
  return executeTransition(configuration,Automata.sequenceTransitions(configuration,pathToDisabled(configuration.lookupState())));
case ENABLED:
return executeTransition(configuration,Automata.sequenceTransitions(configuration,pathToEnabled(configuration.lookupState())));
case STOPPED:
return executeTransition(configuration,Automata.sequenceTransitions(configuration,pathToStopped(configuration.lookupState())));
case NOTREADY:
return executeTransition(configuration,Automata.sequenceTransitions(configuration,pathToStarted(configuration.lookupState())));
case NONE:
return executeTransition(configuration,Automata.sequenceTransitions(configuration,pathToNone(configuration.lookupState())));
default :
return Futures.predestinedFuture(configuration);
}
}
