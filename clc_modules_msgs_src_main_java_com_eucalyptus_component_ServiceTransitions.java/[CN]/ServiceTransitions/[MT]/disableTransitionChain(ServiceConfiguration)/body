{
  Callable<CheckedListenableFuture<ServiceConfiguration>> transition=null;
  if (State.ENABLED.equals(config.lookupState())) {
    transition=Automata.sequenceTransitions(config,Component.State.ENABLED,Component.State.DISABLED);
  }
 else   if (!State.DISABLED.equals(config.lookupState()) && !State.NOTREADY.equals(config.lookupState())) {
    transition=Automata.sequenceTransitions(config,Component.State.BROKEN,Component.State.INITIALIZED,Component.State.LOADED,Component.State.NOTREADY,Component.State.DISABLED,Component.State.DISABLED);
  }
 else   if (State.DISABLED.equals(config.lookupState())) {
    transition=Automata.sequenceTransitions(config,Component.State.DISABLED,Component.State.DISABLED);
  }
 else   if (State.NOTREADY.equals(config.lookupState())) {
    transition=Automata.sequenceTransitions(config,Component.State.NOTREADY,Component.State.DISABLED);
  }
 else {
    Exceptions.trace("Failed to find transition to requested state DISABLED from " + config.lookupState() + " for: "+ config.toString());
  }
  return executeTransition(config,transition);
}
