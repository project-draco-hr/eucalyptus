{
  if (Component.State.ENABLED.apply(parent)) {
    try {
      parent.lookupBootstrapper().check();
      ServiceBuilders.lookup(parent.getComponentId()).fireCheck(parent);
    }
 catch (    Exception ex) {
      if (Faults.filter(parent,ex)) {
        try {
          DISABLE.fire(parent);
        }
 catch (        Exception ex1) {
          LOG.error("Failed to call DISABLE on an ENABLED service after CHECK failure: " + parent.getFullName() + " due to: "+ ex.getMessage()+ ". With current service info: "+ parent);
          Logs.extreme().error(ex1,ex1);
        }
        throw ex;
      }
 else {
        throw ex;
      }
    }
  }
 else {
    parent.lookupBootstrapper().check();
    ServiceBuilders.lookup(parent.getComponentId()).fireCheck(parent);
  }
}
