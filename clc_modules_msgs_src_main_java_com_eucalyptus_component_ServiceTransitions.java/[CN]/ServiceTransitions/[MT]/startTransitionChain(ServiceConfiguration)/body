{
  if (!State.NOTREADY.equals(config.lookupState()) && !State.DISABLED.equals(config.lookupState())) {
    CheckedListenableFuture<ServiceConfiguration> transitionResult=null;
    try {
      Callable<CheckedListenableFuture<ServiceConfiguration>> transition=Automata.sequenceTransitions(config,Component.State.LOADED,Component.State.NOTREADY,Component.State.DISABLED);
      Future<CheckedListenableFuture<ServiceConfiguration>> result=Threads.lookup(Empyrean.class).submit(transition);
      transitionResult=result.get();
    }
 catch (    InterruptedException ex) {
      LOG.error(ex,ex);
      transitionResult=Futures.predestinedFailedFuture(ex);
    }
catch (    ExecutionException ex) {
      LOG.error(ex.getCause(),ex.getCause());
      transitionResult=Futures.predestinedFailedFuture(ex.getCause());
    }
    return transitionResult;
  }
 else {
    return Futures.predestinedFuture(config);
  }
}
