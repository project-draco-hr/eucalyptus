{
synchronized (this) {
    if (this.first) {
      try {
        final HttpRequest request=(HttpRequest)e.getMessage();
        final ChannelPipeline pipeline=ctx.getPipeline();
        FilteredPipeline filteredPipeline=PipelineRegistry.getInstance().find(request);
        filteredPipeline.unroll(pipeline);
        this.first=false;
      }
 catch (      DuplicatePipelineException e1) {
        LOG.error("This is a BUG: " + e1,e1);
        throw e1;
      }
catch (      NoAcceptingPipelineException e2) {
        throw e2;
      }
    }
  }
  ctx.sendUpstream(e);
}
