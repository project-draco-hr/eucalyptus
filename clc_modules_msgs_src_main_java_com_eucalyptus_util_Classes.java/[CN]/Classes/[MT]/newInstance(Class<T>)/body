{
  if (!Modifier.isPublic(type.getModifiers())) {
    throw new InstantiationError("Attempt to instantiate a class which is not public: " + type.getCanonicalName());
  }
 else   if (type.isEnum()) {
    return Lists.newArrayList(type.getEnumConstants());
  }
 else {
    try {
      return Lists.newArrayList(type.newInstance());
    }
 catch (    InstantiationException ex) {
      throw new InstantiationError("Attempt to instantiate a class which is not public: " + type.getCanonicalName() + " because of: "+ ex.getMessage());
    }
catch (    IllegalAccessException ex) {
      throw new InstantiationError("Attempt to instantiate a class which is not public: " + type.getCanonicalName() + " because of: "+ ex.getMessage());
    }
  }
}
