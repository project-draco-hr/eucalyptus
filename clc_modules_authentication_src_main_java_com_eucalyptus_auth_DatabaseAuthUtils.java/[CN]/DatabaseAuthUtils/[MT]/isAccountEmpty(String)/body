{
  try (final TransactionResource db=Entities.transactionFor(GroupEntity.class)){
    final long groups=Entities.count(new GroupEntity(),Restrictions.eq("account.name",accountName),Collections.singletonMap("account","account"));
    final long roles=Entities.count(new RoleEntity(),Restrictions.eq("account.name",accountName),Collections.singletonMap("account","account"));
    return roles + groups == 0;
  }
 catch (  Exception e) {
    throw new AuthException("Error checking if account is empty",e);
  }
}
