{
  SendMessageResponseType reply=request.getReply();
  reply.getSendMessageResult().setMessageId(UUID.randomUUID().toString());
  if (request.getMessageBody() != null) {
    reply.getSendMessageResult().setmD5OfMessageBody(calculateMessageBodyMd5(request.getMessageBody()));
  }
  if (request.getMessageAttribute() != null) {
    reply.getSendMessageResult().setmD5OfMessageAttributes(calculateMessageAttributesMd5(convertMessageAttributesToMap(request.getMessageAttribute())));
  }
  return reply;
}
