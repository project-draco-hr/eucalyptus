{
  if (message.getAttribute() != null) {
    Iterator<Attribute> iter=message.getAttribute().iterator();
    while (iter.hasNext()) {
      Attribute attribute=iter.next();
      boolean removeAttribute=false;
      if (reservedEucaAttributes.contains(attribute.getName()) || (matchingAttributeNames == null || !(matchingAttributeNames.contains("All") || matchingAttributeNames.contains(attribute.getName())))) {
        iter.remove();
      }
    }
  }
}
