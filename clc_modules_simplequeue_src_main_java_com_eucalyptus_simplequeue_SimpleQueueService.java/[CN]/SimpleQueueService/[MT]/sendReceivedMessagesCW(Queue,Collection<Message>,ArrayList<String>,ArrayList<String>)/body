{
  Date now=new Date();
  for (  Message message : messages) {
    filterReceiveAttributes(message,attributeNames);
    filterReceiveMessageAttributes(message,messageAttributeNames);
    if (!"false".equalsIgnoreCase(SimpleQueueProperties.ENABLE_METRICS_COLLECTION)) {
      PutMetricDataType putMetricDataType=CloudWatchClient.getSQSPutMetricDataType(queue);
      CloudWatchClient.addSQSMetricDatum(putMetricDataType,queue,now,Constants.NUMBER_OF_MESSAGES_RECEIVED,1.0,"Count");
      CloudWatchClient.putMetricData(putMetricDataType);
    }
  }
}
