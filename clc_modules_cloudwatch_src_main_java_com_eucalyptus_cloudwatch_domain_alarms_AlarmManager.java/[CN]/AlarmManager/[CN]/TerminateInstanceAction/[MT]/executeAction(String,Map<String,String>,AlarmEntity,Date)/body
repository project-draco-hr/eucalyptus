{
  TerminateInstancesType terminateInstances=new TerminateInstancesType();
  terminateInstances.getInstancesSet().add(dimensionMap.get("InstanceId"));
  Callback.Checked<EucalyptusMessage> callback=new Callback.Checked<EucalyptusMessage>(){
    @Override public void fire(    EucalyptusMessage input){
      success(action,alarmEntity,now);
    }
    @Override public void fireException(    Throwable t){
      failure(action,alarmEntity,now,t);
    }
  }
;
  try {
    Account account=Accounts.getAccountProvider().lookupAccountById(alarmEntity.getAccountId());
    User user=account.lookupUserByName(User.ACCOUNT_ADMIN);
    EucalyptusClient client=new EucalyptusClient(user.getUserId());
    client.init();
    client.dispatch(terminateInstances,callback);
  }
 catch (  Exception ex) {
    failure(action,alarmEntity,now,ex);
  }
}
