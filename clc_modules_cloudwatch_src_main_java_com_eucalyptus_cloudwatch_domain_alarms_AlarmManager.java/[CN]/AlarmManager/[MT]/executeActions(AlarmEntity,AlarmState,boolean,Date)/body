{
  if (alarmEntity.getActionsEnabled()) {
    Collection<String> actions=AlarmUtils.getActionsByState(alarmEntity,state);
    for (    String action : actions) {
      if (action.startsWith("arn:aws:autoscaling:") || stateJustChanged) {
        LOG.info("Executing alarm " + alarmEntity.getAlarmName() + " action "+ action);
        String historyData="JSON DATA (TODO)";
        AlarmManager.addAlarmHistoryItem(alarmEntity.getAccountId(),alarmEntity.getAlarmName(),historyData,HistoryItemType.Action," Successfully executed action " + action,now);
      }
    }
  }
  alarmEntity.setLastActionsUpdatedTimestamp(new Date());
}
