{
synchronized (lock) {
    final List<DiskImagingTask> result=Lists.newArrayList();
    try (final TransactionResource db=Entities.transactionFor(DiskImagingTask.class)){
      final DiskImagingTask sample=DiskImagingTask.named(owner);
      final List<DiskImagingTask> tasks=Entities.query(sample,true);
      if (taskIdList != null && taskIdList.size() > 0) {
        for (        final DiskImagingTask candidate : tasks) {
          if (taskIdList.contains(candidate.getDisplayName()))           result.add(candidate);
        }
      }
 else       result.addAll(tasks);
    }
     return result;
  }
}
