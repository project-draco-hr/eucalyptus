{
  VolumeEntityWrapperManager volumeManager=new VolumeEntityWrapperManager();
  LVMVolumeInfo foundLVMVolumeInfo=volumeManager.getVolumeInfo(volumeId);
  if (foundLVMVolumeInfo != null) {
    try {
      exportManager.cleanup(foundLVMVolumeInfo);
    }
 catch (    EucalyptusCloudException ee) {
      LOG.error(ee,ee);
    }
    String loDevName=foundLVMVolumeInfo.getLoDevName();
    if (loDevName != null) {
      String vgName=foundLVMVolumeInfo.getVgName();
      String lvName=foundLVMVolumeInfo.getLvName();
      String absoluteLVName=lvmRootDirectory + PATH_SEPARATOR + vgName+ PATH_SEPARATOR+ lvName;
      try {
        disableLogicalVolume(absoluteLVName);
        removeLoopback(loDevName);
        foundLVMVolumeInfo.setLoDevName(null);
      }
 catch (      EucalyptusCloudException e) {
        LOG.error(e,e);
      }
    }
    removeMonitor(volumeId);
    volumeManager.remove(foundLVMVolumeInfo);
    volumeManager.finish();
    File volFile=new File(DirectStorageInfo.getStorageInfo().getVolumesDir() + File.separator + volumeId);
    if (volFile.exists()) {
      if (!volFile.delete()) {
        LOG.error("Unable to delete: " + volFile.getAbsolutePath());
      }
    }
  }
 else {
    volumeManager.abort();
    throw new EucalyptusCloudException("Unable to find volume: " + volumeId);
  }
}
