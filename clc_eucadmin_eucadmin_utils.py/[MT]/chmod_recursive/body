def chmod_recursive(path, mode):
    path = [path]
    while path:
        path = _walk_recursive(path, os.chmod, mode)
