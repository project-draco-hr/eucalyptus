def chown_recursive(path, uid, gid):
    os.chown(path, uid, gid)
    for (dirpath, dirs, files) in os.walk(path, followlinks=True):
        for d in dirs:
            os.chown(os.path.join(dirpath, d), uid, gid)
        for f in files:
            os.chown(os.path.join(dirpath, f), uid, gid)
