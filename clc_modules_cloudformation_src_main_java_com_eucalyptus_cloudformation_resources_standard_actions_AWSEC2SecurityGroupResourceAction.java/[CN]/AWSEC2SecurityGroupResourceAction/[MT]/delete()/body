{
  if (info.getPhysicalResourceId() == null)   return;
  ServiceConfiguration configuration=Topology.lookup(Compute.class);
  Exception finalException=null;
  for (int i=0; i < 60; i++) {
    Thread.sleep(5000L);
    String groupId=JsonHelper.getJsonNodeFromString(info.getGroupId()).textValue();
    DescribeSecurityGroupsType describeSecurityGroupsType=new DescribeSecurityGroupsType();
    describeSecurityGroupsType.setEffectiveUserId(info.getEffectiveUserId());
    describeSecurityGroupsType.setSecurityGroupIdSet(Lists.newArrayList(groupId));
    DescribeSecurityGroupsResponseType describeSecurityGroupsResponseType=AsyncRequests.<DescribeSecurityGroupsType,DescribeSecurityGroupsResponseType>sendSync(configuration,describeSecurityGroupsType);
    ArrayList<SecurityGroupItemType> securityGroupItemTypeArrayList=describeSecurityGroupsResponseType.getSecurityGroupInfo();
    if (securityGroupItemTypeArrayList == null || securityGroupItemTypeArrayList.isEmpty()) {
      return;
    }
    DeleteSecurityGroupType deleteSecurityGroupType=new DeleteSecurityGroupType();
    deleteSecurityGroupType.setGroupId(groupId);
    deleteSecurityGroupType.setEffectiveUserId(getResourceInfo().getEffectiveUserId());
    try {
      DeleteSecurityGroupResponseType deleteSecurityGroupResponseType=AsyncRequests.<DeleteSecurityGroupType,DeleteSecurityGroupResponseType>sendSync(configuration,deleteSecurityGroupType);
      return;
    }
 catch (    Exception ex) {
      LOG.debug("Error deleting security group.  Will retry");
      finalException=ex;
    }
  }
  throw finalException;
}
