{
  try {
    VmInstances.lookupByPublicIp(client);
    LOG.debug("DNS Client " + client + " is internal");
    return true;
  }
 catch (  Exception e) {
    try {
      VmInstances.lookupByPrivateIp(client);
      LOG.debug("DNS Client " + client + " is internal");
      return true;
    }
 catch (    Exception e1) {
      LOG.debug("DNS Client " + client + " is external");
      return false;
    }
  }
}
