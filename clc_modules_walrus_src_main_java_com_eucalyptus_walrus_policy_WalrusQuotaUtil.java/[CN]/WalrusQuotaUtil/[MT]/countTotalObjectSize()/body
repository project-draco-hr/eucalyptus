{
  long size=-1;
  final EntityTransaction db=Entities.get(BucketInfo.class);
  try {
    size=Objects.firstNonNull((Number)Entities.createCriteria(BucketInfo.class).setProjection(Projections.sum("bucketSize")).setReadOnly(true).uniqueResult(),0).longValue();
    db.commit();
  }
 catch (  Exception e) {
    db.rollback();
  }
  return size;
}
