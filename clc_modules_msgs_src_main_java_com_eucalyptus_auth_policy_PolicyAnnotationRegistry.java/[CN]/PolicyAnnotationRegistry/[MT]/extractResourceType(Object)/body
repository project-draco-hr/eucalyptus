{
  Class type=classOrInstance instanceof Class ? (Class)classOrInstance : classOrInstance.getClass();
  for (Class c=type; c != Object.class; c=c.getSuperclass()) {
    if (classToPolicyRscType.containsKey(c)) {
      return classToPolicyRscType.get(c);
    }
  }
  throw new NoSuchElementException("The argument " + type.getName() + " does not itself have or inherit from an object with the required @PolicyResourceType annotation.");
}
