{
  final RegisterImageType req=new RegisterImageType();
  req.setName(CreateImageTask.this.imageName);
  if (CreateImageTask.this.description != null)   req.setDescription(CreateImageTask.this.description);
  if (CreateImageTask.this.getInstanceArchitecture() != null)   req.setArchitecture(CreateImageTask.this.getInstanceArchitecture());
  req.setVirtualizationType(ImageMetadata.VirtualizationType.hvm.toString());
  req.setRootDeviceName(Images.DEFAULT_ROOT_DEVICE);
  final BlockDeviceMappingItemType rootDev=new BlockDeviceMappingItemType();
  rootDev.setDeviceName(Images.DEFAULT_ROOT_DEVICE);
  final EbsDeviceMapping ebsMap=new EbsDeviceMapping();
  ebsMap.setSnapshotId("snap-EUCARESERVED");
  rootDev.setEbs(ebsMap);
  deviceMapping.add(rootDev);
  req.setBlockDeviceMappings(deviceMapping);
  return req;
}
