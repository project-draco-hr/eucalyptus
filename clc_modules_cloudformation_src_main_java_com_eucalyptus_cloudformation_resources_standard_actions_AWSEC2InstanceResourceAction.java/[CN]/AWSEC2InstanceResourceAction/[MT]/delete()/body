{
  if (info.getPhysicalResourceId() == null)   return;
  ServiceConfiguration configuration=Topology.lookup(Compute.class);
  DescribeInstancesType describeInstancesType=new DescribeInstancesType();
  describeInstancesType.setInstancesSet(Lists.newArrayList(info.getPhysicalResourceId()));
  describeInstancesType.setEffectiveUserId(info.getEffectiveUserId());
  DescribeInstancesResponseType describeInstancesResponseType=AsyncRequests.<DescribeInstancesType,DescribeInstancesResponseType>sendSync(configuration,describeInstancesType);
  if (describeInstancesResponseType.getReservationSet().size() == 0)   return;
  if ("terminated".equals(describeInstancesResponseType.getReservationSet().get(0).getInstancesSet().get(0).getStateName()))   return;
  TerminateInstancesType terminateInstancesType=new TerminateInstancesType();
  terminateInstancesType.setInstancesSet(Lists.newArrayList(info.getPhysicalResourceId()));
  terminateInstancesType.setEffectiveUserId(info.getEffectiveUserId());
  AsyncRequests.<TerminateInstancesType,TerminateInstancesResponseType>sendSync(configuration,terminateInstancesType);
  boolean terminated=false;
  for (int i=0; i < 60; i++) {
    Thread.sleep(5000L);
    DescribeInstancesType describeInstancesType2=new DescribeInstancesType();
    describeInstancesType2.setInstancesSet(Lists.newArrayList(info.getPhysicalResourceId()));
    describeInstancesType2.setEffectiveUserId(info.getEffectiveUserId());
    DescribeInstancesResponseType describeInstancesResponseType2=AsyncRequests.<DescribeInstancesType,DescribeInstancesResponseType>sendSync(configuration,describeInstancesType2);
    if (describeInstancesResponseType2.getReservationSet().size() == 0) {
      terminated=true;
      break;
    }
    if ("terminated".equals(describeInstancesResponseType2.getReservationSet().get(0).getInstancesSet().get(0).getStateName())) {
      terminated=true;
      break;
    }
  }
  if (!terminated)   throw new Exception("Timeout");
}
