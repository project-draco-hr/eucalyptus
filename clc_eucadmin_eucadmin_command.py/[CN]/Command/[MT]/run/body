def run(self, input=None):
    if self.test:
        print self.command
        return 0
    args = shlex.split(self.command)
    self.process = subprocess.Popen(args, shell=False, env=os.environ, stdin=subprocess.PIPE, stdout=subprocess.PIPE, stderr=subprocess.PIPE)
    t = self.process.communicate(input)
    self._stdout = t[0]
    self._stderr = t[1]
    self.exit_code = self.process.returncode
    return self.exit_code
