{
  for (  final VmInstance vm : VmInstances.listDisabledValues()) {
    if ((vm.getSplitTime() > VmInstances.SHUT_DOWN_TIME) && !VmState.BURIED.equals(vm.getState())) {
      vm.setState(VmState.BURIED,Reason.BURIED);
    }
 else     if ((vm.getSplitTime() > VmInstances.BURY_TIME) && VmState.BURIED.equals(vm.getState())) {
      VmInstances.deregister(vm.getName());
    }
  }
  if ((float)Runtime.getRuntime().freeMemory() / (float)Runtime.getRuntime().maxMemory() < 0.10f) {
    for (    final VmInstance vm : VmInstances.listDisabledValues()) {
      if (VmState.BURIED.equals(vm.getState()) || (vm.getSplitTime() > VmInstances.BURY_TIME)) {
        VmInstances.deregister(vm.getInstanceId());
        LOG.info(EventRecord.here(VmInstances.class,EventType.FLUSH_CACHE,LogUtil.dumpObject(vm)));
      }
    }
  }
}
