{
  EntityWrapper<VmInstance> db=Entities.get(VmInstance.class);
  try {
    VmInstance vm=db.getUnique(VmInstance.named(null,name));
    if (vm == null || VmState.TERMINATED.equals(vm.getRuntimeState())) {
      throw new NoSuchElementException("Failed to lookup vm instance: " + name);
    }
    return vm;
  }
 catch (  Exception ex) {
    Logs.extreme().error(ex,ex);
    throw new NoSuchElementException("Failed to lookup vm instance: " + name + " because of: "+ ex.getMessage());
  }
}
