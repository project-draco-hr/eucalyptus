{
  final OMFactory factory=HoldMe.getOMFactory();
  if (param == null) {
    throw new BindingException("Cannot bind null value");
  }
 else   if (!(param instanceof IMarshallable)) {
    throw new BindingException("No JiBX <mapping> defined for class " + param.getClass());
  }
  final IMarshallable mrshable=(IMarshallable)param;
  final OMDataSource src=new JiBXDataSource(mrshable,this.bindingFactory);
  final int index=mrshable.JiBX_getIndex();
  final OMNamespace appns=factory.createOMNamespace(this.bindingFactory.getElementNamespaces()[index],"");
  OMElement retVal=factory.createOMElement(src,this.bindingFactory.getElementNames()[index],appns);
  final String origNs=retVal.getNamespace().getNamespaceURI();
  if ((altNs != null) && !altNs.equals(origNs)) {
    try {
      final ByteArrayOutputStream bos=new ByteArrayOutputStream();
      retVal.serialize(bos);
      String retString=bos.toString();
      retString=retString.replaceAll(origNs,altNs);
      HoldMe.canHas.lock();
      try {
        final StAXOMBuilder stAXOMBuilder=HoldMe.getStAXOMBuilder(HoldMe.getXMLStreamReader(retString));
        retVal=stAXOMBuilder.getDocumentElement();
      }
  finally {
        HoldMe.canHas.unlock();
      }
    }
 catch (    final XMLStreamException e) {
      LOG.error(e,e);
    }
  }
  return retVal;
}
