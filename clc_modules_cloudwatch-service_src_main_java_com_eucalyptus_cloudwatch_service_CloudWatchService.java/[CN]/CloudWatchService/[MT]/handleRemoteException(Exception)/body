{
  final EucalyptusRemoteFault remoteFault=Exceptions.findCause(e,EucalyptusRemoteFault.class);
  if (remoteFault != null) {
    final HttpResponseStatus status=Objects.firstNonNull(remoteFault.getStatus(),HttpResponseStatus.INTERNAL_SERVER_ERROR);
    final String code=remoteFault.getFaultCode();
    final String message=remoteFault.getFaultDetail();
switch (status.getCode()) {
case 400:
      throw new CloudWatchClientException(code,message);
case 403:
    throw new CloudWatchAuthorizationException(code,message);
case 404:
  throw new CloudWatchNotFoundException(code,message);
case 503:
throw new CloudWatchUnavailableException(message);
default :
throw new CloudWatchException(code,Role.Receiver,message);
}
}
}
