{
  for (  EventListener ce : listeners) {
    ce.advertiseEvent(e);
    if (e.isVetoed()) {
      throw new EventVetoedException(String.format("Event %s was vetoed by listener %s: %s",LogUtil.dumpObject(e),LogUtil.dumpObject(ce),e.getCause() != null ? e.getCause() : "no cause given"));
    }
  }
  for (  EventListener ce : listeners) {
    String logString=String.format("Firing event %s on listener %s",LogUtil.dumpObject(e),LogUtil.dumpObject(ce));
    if (e instanceof ClockTick) {
      LOG.trace(logString);
    }
 else {
      LOG.debug(logString);
    }
    ce.fireEvent(e);
    if (e.getFail() != null) {
      LOG.info(e.getFail());
      LOG.debug(e.getFail(),e.getFail());
      throw new EventVetoedException(e.getFail());
    }
  }
}
