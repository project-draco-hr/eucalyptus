{
  InstanceUsageArtEntity totalEntity=totals.getInstanceTotals();
  InstanceUsageArtEntity usage=instance.getUsage();
  totalEntity.addDurationMs(usage.getDurationMs());
  totalEntity.addCpuUtilizationMs(usage.getCpuUtilizationMs());
  totalEntity.addDiskInMegs(totalEntity.getDiskInMegs());
  totalEntity.addDiskOutMegs(usage.getDiskOutMegs());
  totalEntity.addNetTotalInMegs(usage.getNetTotalInMegs());
  totalEntity.addNetTotalOutMegs(usage.getNetTotalOutMegs());
  totalEntity.addNetInternalInMegs(usage.getNetInternalInMegs());
  totalEntity.addNetInternalOutMegs(usage.getNetInternalOutMegs());
  Map<String,InstanceUsageArtEntity> typeTotals=totals.getTypeTotals();
  if (!typeTotals.containsKey(instance.getInstanceType().toLowerCase())) {
    typeTotals.put(instance.getInstanceType().toLowerCase(),new InstanceUsageArtEntity());
  }
  InstanceUsageArtEntity typeTotal=typeTotals.get(instance.getInstanceType().toLowerCase());
  typeTotal.addInstanceCnt(1);
  typeTotal.addDurationMs(totalEntity.getDurationMs());
}
