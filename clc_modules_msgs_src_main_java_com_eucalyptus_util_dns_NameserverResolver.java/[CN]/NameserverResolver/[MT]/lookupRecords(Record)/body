{
  Name name=query.getName();
  Name relative=relativize(name);
  if (!name.equals(relative)) {
    NavigableSet<ServiceConfiguration> nsServers=Components.lookup(Eucalyptus.class).services();
    if (ns1.equals(relative) && nsServers.size() >= 1) {
      ServiceConfiguration conf=nsServers.first();
      return DnsResponse.forName(name).answer(DomainNameRecords.addressRecord(ns1,conf.getInetAddress()));
    }
 else     if (ns2.equals(relative) && nsServers.size() >= 2) {
      ServiceConfiguration conf=nsServers.toArray(new ServiceConfiguration[]{})[1];
      return DnsResponse.forName(name).answer(DomainNameRecords.addressRecord(ns2,conf.getInetAddress()));
    }
 else {
      return null;
    }
  }
 else {
    return null;
  }
}
