{
  if (!emf.containsKey(persistenceContext)) {
    RuntimeException e=new RuntimeException("Attempting to access an entity wrapper before the database has been configured: " + persistenceContext + ".  The available contexts are: "+ emf.keySet());
    illegalAccesses=illegalAccesses == null ? Collections.synchronizedList(Lists.newArrayList()) : illegalAccesses;
    illegalAccesses.add(e);
    throw e;
  }
  return emf.get(persistenceContext);
}
