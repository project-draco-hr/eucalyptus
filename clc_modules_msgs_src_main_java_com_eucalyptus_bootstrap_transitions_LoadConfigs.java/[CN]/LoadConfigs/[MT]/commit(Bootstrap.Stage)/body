{
  Enumeration<URL> p1;
  URI u=null;
  try {
    p1=Thread.currentThread().getContextClassLoader().getResources(stage.getResourceName());
    if (!p1.hasMoreElements())     return;
    LOG.info(LogUtil.header("Initializing component resources Bootstrap.Stage: " + stage.name()));
    while (p1.hasMoreElements()) {
      u=p1.nextElement().toURI();
      LOG.info(EventRecord.here(Bootstrap.class,EventType.BOOTSTRAP_INIT_RESOURCES,stage.name(),u.toString()));
      Properties props=new Properties();
      props.load(u.toURL().openStream());
      String name=props.getProperty("name");
      LOG.info(EventRecord.here(Bootstrap.class,EventType.BOOTSTRAP_INIT_CONFIGURATION,name));
      if (Components.contains(name)) {
        throw BootstrapException.throwFatal("Duplicate component definition in: " + u.toASCIIString());
      }
 else {
        Components.create(name,u);
      }
      LOG.info(EventRecord.here(Bootstrap.class,EventType.BOOTSTRAP_INIT_COMPONENT,name));
    }
  }
 catch (  IOException e) {
    LOG.error(e,e);
    throw BootstrapException.throwFatal("Failed to load component resources from: " + u,e);
  }
catch (  URISyntaxException e) {
    LOG.error(e,e);
    throw BootstrapException.throwFatal("Failed to load component resources from: " + u,e);
  }
}
