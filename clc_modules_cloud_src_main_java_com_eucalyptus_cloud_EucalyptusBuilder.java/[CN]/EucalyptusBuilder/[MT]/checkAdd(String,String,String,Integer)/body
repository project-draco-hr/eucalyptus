{
  if (!Partitions.testPartitionCredentialsDirectory(partition)) {
    throw new ServiceRegistrationException("Eucalyptus registration failed because the key directory cannot be created.");
  }
 else {
    return super.checkAdd(partition,name,host,port);
  }
}
