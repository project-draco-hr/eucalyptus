{
  Host coordinator=Hosts.getCoordinator();
  if (coordinator == null) {
    throw Faults.failure(config,Exceptions.error(config.getFullName() + ":fireCheck(): failed to lookup coordinator (" + coordinator+ ")."));
  }
 else   if (coordinator.isLocalHost() && !Topology.isEnabledLocally(Eucalyptus.class) && !config.isVmLocal()) {
    throw Faults.failure(config,Exceptions.error(config.getFullName() + ":fireCheck(): cloud controller depends upon ENABLED coordinator service for: " + coordinator));
  }
 else   if (!coordinator.isLocalHost() && config.isVmLocal()) {
    if (!Topology.isEnabled(Eucalyptus.class)) {
      throw Faults.failure(config,Exceptions.error(config.getFullName() + ":fireCheck(): local cloud controller service isn't coordinator and is missing ENABLED cloud controller service: " + coordinator));
    }
 else     if (Topology.lookup(Eucalyptus.class).isVmLocal()) {
      throw Faults.failure(config,Exceptions.error(config.getFullName() + ":fireCheck(): local cloud controller service cant be enabled when it is not the coordinator: " + coordinator));
    }
 else {
      LOG.debug(config.getFullName() + ":fireCheck() completed with coordinator currently: " + coordinator);
    }
  }
}
