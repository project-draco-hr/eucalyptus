{
  if (Hosts.Coordinator.INSTANCE.isLocalhost() || config.isHostLocal()) {
    return;
  }
  final String hostName=config.getHostName();
  for (  String ctx : PersistenceContexts.list()) {
    final String contextName=ctx.startsWith("eucalyptus_") ? ctx : "eucalyptus_" + ctx;
    try {
      DriverDatabaseClusterMBean cluster=findDbClusterMBean(contextName);
      try {
        if (cluster.getActiveDatabases().contains(hostName)) {
          cluster.deactivate(hostName);
        }
        if (cluster.getInactiveDatabases().contains(hostName)) {
          cluster.remove(hostName);
        }
      }
 catch (      Exception ex) {
        LOG.error(ex,ex);
      }
    }
 catch (    NoSuchElementException ex1) {
      LOG.error(ex1,ex1);
    }
catch (    Exception ex1) {
      LOG.error(ex1,ex1);
    }
  }
}
