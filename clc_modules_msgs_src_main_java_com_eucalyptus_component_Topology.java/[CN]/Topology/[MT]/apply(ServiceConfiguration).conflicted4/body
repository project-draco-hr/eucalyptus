{
  if (!Bootstrap.isFinished()) {
    LOG.debug(this.toString() + " aborted because bootstrap is not complete for service: " + config);
    return config;
  }
 else   if (Faults.isFailstop()) {
    throw new IllegalStateException("Failed to CHECK service " + config.getFullName() + " because the host is currently fail-stopped.");
  }
 else {
    return super.apply(config);
  }
}
