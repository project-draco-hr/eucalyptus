{
  return new Predicate<ServiceConfiguration>(){
    @Override public boolean apply(    final ServiceConfiguration config){
      if (config.getComponentId().isPublicService()) {
        return true;
      }
 else       if (config.getComponentId().isRootService() && !config.getComponentId().isPartitioned()) {
        return true;
      }
 else       if ((config.getComponentId().isRootService() || config.getComponentId().isRegisterable()) && config.getComponentId().isPartitioned() && p.getName().equals(config.getPartition())) {
        return true;
      }
 else {
        return false;
      }
    }
  }
;
}
