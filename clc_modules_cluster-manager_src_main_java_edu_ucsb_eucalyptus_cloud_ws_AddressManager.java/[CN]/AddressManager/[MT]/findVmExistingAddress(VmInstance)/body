{
  Address oldAddr=null;
  if (vm.hasPublicAddress()) {
    try {
      oldAddr=Addresses.getInstance().lookup(vm.getNetworkConfig().getIgnoredPublicIp());
      EventRecord.here(AddressManager.class,Events.UNASSIGNFROMVM,oldAddr.toString(),vm.toString()).info();
    }
 catch (    Exception e) {
      LOG.debug(e,e);
    }
  }
  return oldAddr;
}
