{
  VmInstance oldVm=null;
  if (address.isAssigned() && !address.isPending()) {
    try {
      oldVm=VmInstances.getInstance().lookup(address.getInstanceId());
      EventRecord.here(AddressManager.class,EventType.ADDRESS_UNASSIGN,address.toString(),oldVm.toString()).info();
    }
 catch (    Exception e) {
      LOG.error(e,e);
    }
  }
  return oldVm;
}
