{
  if (vmInfo.getKeyValue() != null || !"".equals(vmInfo.getKeyValue())) {
    EntityWrapper<UserInfo> db=new EntityWrapper<UserInfo>();
    try {
      for (      SSHKeyPair kp : db.getUnique(new UserInfo(vmInfo.getOwnerId())).getKeyPairs())       if (kp.getPublicKey().equals(vmInfo.getKeyValue()))       return new VmKeyInfo(kp.getName(),kp.getPublicKey(),kp.getFingerPrint());
    }
 catch (    EucalyptusCloudException e) {
      return new VmKeyInfo("","","");
    }
 finally {
      db.commit();
    }
  }
  return new VmKeyInfo("","","");
}
