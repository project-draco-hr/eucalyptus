{
  DescribeKeyPairsResponseType reply=(DescribeKeyPairsResponseType)request.getReply();
  EntityWrapper<UserInfo> db=new EntityWrapper<UserInfo>();
  try {
    UserInfo user=db.getUnique(new UserInfo(request.getUserId()));
    for (    SSHKeyPair kp : user.getKeyPairs()) {
      if (request.getKeySet().isEmpty() || request.getKeySet().contains(kp.getName())) {
        reply.getKeySet().add(new DescribeKeyPairsResponseItemType(kp.getName(),kp.getFingerPrint()));
      }
    }
  }
 catch (  EucalyptusCloudException e) {
    LOG.error(e);
  }
 finally {
    db.commit();
  }
  return reply;
}
