{
  if (e.getMessage() instanceof MappingHttpResponse) {
    MappingHttpResponse resp=(MappingHttpResponse)e.getMessage();
    VmDescribeResponseType reply=(VmDescribeResponseType)resp.getMessage();
    if (reply != null)     reply.setOriginCluster(this.getCluster().getConfiguration().getName());
    for (    VmInfo vmInfo : reply.getVms()) {
      vmInfo.setPlacement(this.getCluster().getConfiguration().getName());
      VmTypeInfo typeInfo=vmInfo.getInstanceType();
      if (typeInfo.getName() == null || "".equals(typeInfo.getName())) {
        for (        VmType t : VmTypes.list()) {
          if (t.getCpu().equals(typeInfo.getCores()) && t.getDisk().equals(typeInfo.getDisk()) && t.getMemory().equals(typeInfo.getMemory())) {
            typeInfo.setName(t.getName());
          }
        }
      }
    }
    SystemState.handle(reply);
    this.verified=true;
  }
  ctx.getChannel().close();
}
