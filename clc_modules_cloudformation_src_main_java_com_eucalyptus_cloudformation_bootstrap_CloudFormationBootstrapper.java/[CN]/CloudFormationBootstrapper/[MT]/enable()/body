{
  try {
    if (!super.enable())     return false;
    final AmazonSimpleWorkflow simpleWorkflowClient;
    if (USE_AWS_SWF) {
      System.setProperty("com.amazonaws.sdk.disableCertChecking","true");
      final BasicAWSCredentials creds=new BasicAWSCredentials(AWS_ACCESS_KEY,AWS_SECRET_KEY);
      simpleWorkflowClient=new AmazonSimpleWorkflowClient(creds);
      simpleWorkflowClient.setRegion(Region.getRegion(Regions.US_EAST_1));
    }
 else {
      simpleWorkflowClient=Config.buildClient(CloudFormationAWSCredentialsProvider.CloudFormationUserSupplier.INSTANCE,SWF_CLIENT_CONFIG);
    }
    final AmazonSimpleWorkflow oldClient=workflowClient != null ? workflowClient.getAmazonSimpleWorkflow() : null;
    workflowClient=new WorkflowClient(CloudFormation.class,simpleWorkflowClient,SWF_DOMAIN,SWF_TASKLIST,SWF_WORKFLOW_WORKER_CONFIG,SWF_ACTIVITY_WORKER_CONFIG);
    if (oldClient != null)     try {
      oldClient.shutdown();
    }
 catch (    final Exception e) {
      LOG.error("Error shutting down simple workflow client",e);
    }
    workflowClient.start();
    return true;
  }
 catch (  Exception ex) {
    LOG.error("Unable to enable CloudFormation Bootstrapper",ex);
    return false;
  }
}
