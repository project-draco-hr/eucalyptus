{
  UnassignAddressResponseType reply=(UnassignAddressResponseType)clusterClient.send(msg);
  VmInstance vm=null;
  try {
    vm=VmInstances.getInstance().lookup(vmId);
    LOG.debug("Unassign [" + pubIp + "] clearing VM "+ vmId+ ":"+ vmIp);
    vm.getNetworkConfig().setIgnoredPublicIp(VmInstance.DEFAULT_IP);
  }
 catch (  NoSuchElementException e1) {
  }
  String addr=msg.getSource();
  try {
    Address a=Addresses.getInstance().lookup(addr);
    if (EucalyptusProperties.NAME.equals(a.getUserId())) {
      new AddressManager().ReleaseAddress(Admin.makeMsg(ReleaseAddressType.class,addr));
    }
  }
 catch (  NoSuchElementException e1) {
    LOG.error(e1);
  }
catch (  EucalyptusCloudException e1) {
    LOG.error(e1);
  }
}
