{
  try {
    NioClientPipeline clientPipeline=this.getClientPipeline();
    this.clientBootstrap=ChannelUtil.getClientBootstrap(clientPipeline);
    InetSocketAddress addr=new InetSocketAddress(hostname,port);
    this.connectFuture=this.clientBootstrap.connect(addr);
    HttpRequest request=new MappingHttpRequest(HttpVersion.HTTP_1_1,HttpMethod.POST,addr.getHostName(),addr.getPort(),servicePath,this.getRequest());
    this.prepare(this.getRequest());
    this.connectFuture.addListener(ChannelUtil.WRITE(request));
  }
 catch (  Throwable e) {
    try {
      this.fail(e);
    }
 catch (    Exception e1) {
      LOG.debug(e1,e1);
    }
    this.failCallback.failure(this,e);
    this.queueResponse(e);
    this.connectFuture.addListener(ChannelFutureListener.CLOSE);
  }
}
