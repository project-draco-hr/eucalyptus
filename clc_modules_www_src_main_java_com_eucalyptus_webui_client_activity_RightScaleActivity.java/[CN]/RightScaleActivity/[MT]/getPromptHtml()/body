{
  String external=cloudInfo.getExternalHostPort();
  String internal=cloudInfo.getInternalHostPort();
  SafeHtmlBuilder builder=new SafeHtmlBuilder();
  builder.append(SafeHtmlUtils.fromTrustedString("<p>You are about to open a new window to Rightscale's Web site, on which you will be able to complete registraton.</p>"));
  if (Strings.isNullOrEmpty(external)) {
    builder.append(SafeHtmlUtils.fromTrustedString("<b>Warning:</b> Rightscale could not discover the external IP address of your cloud.  Hence, the pre-filled cloud URL <i>may</i> be incorrect. Check your firewall settings.</p> "));
  }
 else   if (!external.equals(internal)) {
    builder.append(SafeHtmlUtils.fromTrustedString("<b>Warning:</b> The external cloud IP discovered by Rightscale ("));
    builder.appendEscaped(external);
    builder.append(SafeHtmlUtils.fromTrustedString(") is different from the IP found by Eucalyptus ("));
    builder.appendEscaped(internal);
    builder.append(SafeHtmlUtils.fromTrustedString(").  Hence, the pre-filled cloud URL <i>may</i> be incorrect.  Check your firewall settings.</p> "));
  }
  return builder.toSafeHtml();
}
