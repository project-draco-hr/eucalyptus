{
  StopInstancesType stopInstances=new StopInstancesType();
  stopInstances.getInstancesSet().add(dimensionMap.get("InstanceId"));
  Callback.Checked<ComputeMessage> callback=new Callback.Checked<ComputeMessage>(){
    @Override public void fire(    ComputeMessage input){
      success(action,alarmEntity,now);
    }
    @Override public void fireException(    Throwable t){
      failure(action,alarmEntity,now,t);
    }
  }
;
  try {
    Account account=Accounts.getAccountProvider().lookupAccountById(alarmEntity.getAccountId());
    User user=account.lookupUserByName(User.ACCOUNT_ADMIN);
    EucalyptusClient client=new EucalyptusClient(user.getUserId());
    client.init();
    client.dispatch(stopInstances,callback);
  }
 catch (  Exception ex) {
    failure(action,alarmEntity,now,ex);
  }
}
