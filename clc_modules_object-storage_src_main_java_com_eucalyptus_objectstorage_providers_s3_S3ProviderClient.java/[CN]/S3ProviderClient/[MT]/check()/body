{
  LOG.debug("Checking");
  Socket s=null;
  try {
    s=new Socket(S3ProviderConfiguration.getS3EndpointHost(),S3ProviderConfiguration.getS3EndpointPort());
  }
 catch (  UnknownHostException e) {
    s3Client=null;
    throw new EucalyptusCloudException("Host Exception. Unable to connect to S3 Endpoint: " + S3ProviderConfiguration.getS3Endpoint() + ". Please check configuration and network connection");
  }
catch (  IOException e) {
    s3Client=null;
    throw new EucalyptusCloudException("Unable to connect to S3 Endpoint: " + S3ProviderConfiguration.getS3Endpoint() + ". Please check configuration and network connection");
  }
 finally {
    try {
      if (s != null && !s.isClosed()) {
        s.close();
      }
    }
 catch (    IOException e) {
      LOG.warn("Failed closing socked used to check remote S3 endpoint",e);
    }
  }
  LOG.debug("Check completed successfully");
}
