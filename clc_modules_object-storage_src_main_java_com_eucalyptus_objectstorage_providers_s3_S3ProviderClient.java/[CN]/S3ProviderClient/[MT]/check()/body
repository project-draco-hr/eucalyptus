{
  LOG.debug("Checking");
  Socket s=null;
  try {
    URI endpoint=this.getUpstreamEndpoint();
    s=new Socket(endpoint.getHost(),endpoint.getPort());
  }
 catch (  URISyntaxException|UnknownHostException e) {
    throw new EucalyptusCloudException("Host Exception. Unable to connect to S3 Endpoint Please check configuration and network connection");
  }
catch (  IOException e) {
    throw new EucalyptusCloudException("Unable to connect to S3 Endpoint. Please check configuration and network connection");
  }
 finally {
    try {
      if (s != null && !s.isClosed()) {
        s.close();
      }
    }
 catch (    IOException e) {
      LOG.warn("Failed closing socked used to check remote S3 endpoint",e);
    }
  }
  LOG.debug("Check completed successfully");
}
