{
  EntityWrapper<LVMVolumeInfo> db=new EntityWrapper<LVMVolumeInfo>();
  LVMVolumeInfo lvmVolumeInfo=new LVMVolumeInfo(snapshotId);
  LVMVolumeInfo foundLVMVolumeInfo=db.getUnique(lvmVolumeInfo);
  if (foundLVMVolumeInfo != null) {
    String loDevName=foundLVMVolumeInfo.getLoDevName();
    String returnValue=removeLoopback(loDevName);
    db.delete(foundLVMVolumeInfo);
    db.commit();
  }
 else {
    db.rollback();
    throw new EucalyptusCloudException();
  }
}
