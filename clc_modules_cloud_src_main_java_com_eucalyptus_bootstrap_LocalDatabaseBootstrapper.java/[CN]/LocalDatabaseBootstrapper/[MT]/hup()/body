{
  if (hup.compareAndSet(false,true)) {
    DebugUtil.printDebugDetails();
    try {
      if (this.db != null)       this.db.checkRunning(true);
      this.db.start();
    }
 catch (    RuntimeException e) {
      this.db.stop();
      this.createDatabase();
      this.waitForDatabase();
    }
  }
 else {
    LOG.info("Already scheduled a database restart.");
  }
}
