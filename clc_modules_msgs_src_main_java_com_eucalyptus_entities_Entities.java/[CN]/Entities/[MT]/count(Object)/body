{
  final Example qbe=Example.create(example);
  final Number count=(Number)getTransaction(example).getTxState().getSession().createCriteria(example.getClass()).setReadOnly(true).setResultTransformer(Criteria.DISTINCT_ROOT_ENTITY).setCacheable(false).add(qbe).setProjection(Projections.rowCount()).uniqueResult();
  return count.longValue();
}
