{
  this.record.logEvent(TxStep.BEGIN,TxEvent.COMMIT);
  try {
    this.txState.commit();
    this.record.logEvent(TxStep.END,TxEvent.COMMIT);
  }
 catch (  final RuntimeException ex) {
    this.rollback();
    this.record.logEvent(TxStep.FAIL,TxEvent.COMMIT);
    throw PersistenceExceptions.throwFiltered(ex);
  }
}
