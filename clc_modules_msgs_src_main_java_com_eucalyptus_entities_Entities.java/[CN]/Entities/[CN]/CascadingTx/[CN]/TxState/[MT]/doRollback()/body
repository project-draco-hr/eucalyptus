{
  try {
    if ((this.transaction != null) && this.transaction.isActive()) {
      this.transaction.rollback();
    }
  }
 catch (  final Throwable e) {
    PersistenceExceptions.throwFiltered(e);
  }
 finally {
    this.doCleanup();
  }
}
