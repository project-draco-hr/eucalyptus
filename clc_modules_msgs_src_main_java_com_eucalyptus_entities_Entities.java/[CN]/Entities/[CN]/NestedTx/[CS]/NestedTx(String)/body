{
  this.ctx=ctx;
  this.record=new TxRecord(ctx);
  this.record.logEvent(TxStep.BEGIN,TxEvent.CREATE);
  try {
    this.txState=new TxState(ctx);
    this.record.logEvent(TxStep.END,TxEvent.CREATE);
  }
 catch (  final RuntimeException ex) {
    Logs.exhaust().error(ex,ex);
    this.record.logEvent(TxStep.FAIL,TxEvent.CREATE);
    this.rollback();
    throw PersistenceExceptions.throwFiltered(ex);
  }
}
