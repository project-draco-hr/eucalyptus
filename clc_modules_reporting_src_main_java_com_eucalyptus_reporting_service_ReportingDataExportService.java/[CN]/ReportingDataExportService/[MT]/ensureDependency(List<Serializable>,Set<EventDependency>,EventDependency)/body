{
  if (!dependencies.contains(dependency)) {
    final Object value=criteriaFor(dependency.getDependencyType(),Restrictions.eq(dependency.getProperty(),dependency.getValue())).uniqueResult();
    if (value instanceof ReportingEventSupport) {
      addToExportList(exportData,dependencies,(ReportingEventSupport)value);
    }
 else     if (value instanceof ReportingUser) {
      final ReportingUser user=(ReportingUser)value;
      dependencies.add(new EventDependency(ReportingUser.class,"id",user.getId()));
      ensureDependency(exportData,dependencies,new EventDependency(ReportingAccount.class,"id",user.getAccountId()));
      exportData.add(user);
    }
  }
}
