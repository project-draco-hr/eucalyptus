{
  if (!dependencies.contains(dependency)) {
    final Object value=criteriaFor(dependency.getDependencyType(),Restrictions.eq(dependency.getProperty(),dependency.getValue())).uniqueResult();
    if (value instanceof ReportingEventSupport) {
      addToExportList(exportData,dependencies,(ReportingEventSupport)value);
    }
 else     if (value instanceof ReportingUser) {
      final ReportingUser user=(ReportingUser)value;
      dependencies.add(dependency);
      ensureDependency(exportData,dependencies,new EventDependency(ReportingAccount.class,"id",user.getAccountId()));
      exportData.add(user);
    }
 else     if (value instanceof ReportingAccount) {
      final ReportingAccount account=(ReportingAccount)value;
      dependencies.add(dependency);
      exportData.add(account);
    }
  }
}
