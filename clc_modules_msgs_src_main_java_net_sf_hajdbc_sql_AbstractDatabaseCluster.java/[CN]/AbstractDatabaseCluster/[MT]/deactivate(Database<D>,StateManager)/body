{
synchronized (this.balancer) {
    this.unregister(database);
    this.register(database,database.getInactiveMBean());
    boolean removed=this.balancer.remove(database);
    if (removed) {
      DatabaseEvent event=new DatabaseEvent(database);
      manager.deactivated(event);
      for (      DatabaseDeactivationListener listener : this.deactivationListenerList) {
        listener.deactivated(event);
      }
    }
    return removed;
  }
}
