{
  try {
    String ex[]=systemctl ? new String[]{ROOT_WRAP,"systemctl","status",TGT_SERVICE_NAME} : new String[]{ROOT_WRAP,"service",TGT_SERVICE_NAME,"status"};
    CommandOutput output=execute(ex,timeout);
    if (output.returnValue != 0 || StringUtils.isNotBlank(output.error)) {
      Faults.forComponent(Storage.class).havingId(TGT_CORRUPTED).withVar("component","Storage Controller").withVar("operation","service tgt status").withVar("error",output.error).log();
      throw new EucalyptusCloudException("tgt service check failed with error: " + output.error);
    }
  }
 catch (  CallTimeoutException e) {
    LOG.error("Call timed out checking service.",e);
    throw e;
  }
catch (  EucalyptusCloudException e) {
    LOG.error("Check service failed",e);
    throw e;
  }
}
