{
  if (this.currentView.compareAndSet(null,newView,true,!Bootstrap.isCloudController())) {
    LOG.info("Receiving initial view...");
  }
 else   if (this.currentView.compareAndSet(this.currentView.getReference(),newView,true,true)) {
    LOG.info("Receiving view.  Still waiting for database...");
  }
 else {
    this.currentView.set(newView,false);
  }
  LOG.info("-> view: " + this.currentView.getReference());
  LOG.info("-> mark: " + this.currentView.isMarked());
  if (!Bootstrap.isCloudController()) {
    Threads.lookup(Empyrean.class,HostManager.class,"broadcastAddresses").submit(new Runnable(){
      @Override public void run(){
        for (int i=0; i < 10 && !HostManager.this.isReady(); i++) {
          try {
            TimeUnit.SECONDS.sleep(2);
          }
 catch (          InterruptedException ex) {
            LOG.error(ex,ex);
          }
          HostManager.this.broadcastAddresses();
        }
      }
    }
);
  }
}
