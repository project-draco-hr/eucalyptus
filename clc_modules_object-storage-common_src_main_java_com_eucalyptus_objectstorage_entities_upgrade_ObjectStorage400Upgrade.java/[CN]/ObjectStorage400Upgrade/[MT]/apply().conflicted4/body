{
  EntityTransaction osgTran=Entities.get(ObjectEntity.class);
  try {
    List<ObjectEntity> osgObjects=Entities.query(new ObjectEntity());
    if (osgObjects != null && osgObjects.isEmpty()) {
      EntityTransaction walrusTran=Entities.get(ObjectInfo.class);
      try {
        List<ObjectInfo> walrusObjects=Entities.query(new ObjectInfo(),Boolean.TRUE);
        if (walrusObjects != null && !walrusObjects.isEmpty()) {
          for (          ObjectEntity osgObject : Lists.transform(walrusObjects,objectTransformationFunction())) {
            Entities.persist(osgObject);
          }
        }
 else {
        }
        walrusTran.commit();
      }
 catch (      Exception e) {
        walrusTran.rollback();
        throw e;
      }
 finally {
        if (walrusTran.isActive()) {
          walrusTran.commit();
        }
      }
    }
 else {
    }
    osgTran.commit();
  }
 catch (  Exception e) {
    osgTran.rollback();
    throw e;
  }
 finally {
    if (osgTran.isActive()) {
      osgTran.commit();
    }
  }
}
