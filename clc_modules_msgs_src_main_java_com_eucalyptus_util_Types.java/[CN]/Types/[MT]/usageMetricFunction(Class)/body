{
  for (  Class subType : Classes.ancestors(type)) {
    if (usageMetricFunctions.containsKey(subType)) {
      return usageMetricFunctions.get(subType);
    }
  }
  throw new NoSuchElementException("Failed to lookup usage metric function for type: " + type);
}
