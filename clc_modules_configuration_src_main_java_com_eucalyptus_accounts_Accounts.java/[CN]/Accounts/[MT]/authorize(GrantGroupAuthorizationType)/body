{
  GrantGroupAuthorizationResponseType reply=request.getReply();
  if (!Iterables.any(Components.lookup(Cluster.class).list(),new Predicate<ServiceConfiguration>(){
    @Override public boolean apply(    ServiceConfiguration arg0){
      return arg0.getName().equals(request.getZoneName());
    }
  }
)) {
    throw new EucalyptusCloudException("No such cluster to add authorization for: " + request.getZoneName() + " for group "+ request.getGroupName());
  }
  try {
    Groups.lookupGroup(request.getGroupName()).addAuthorization(new AvailabilityZonePermission(request.getZoneName()));
    reply.set_return(true);
  }
 catch (  NoSuchGroupException e) {
    throw new EucalyptusCloudException("Failed to add group authorization: " + request.getZoneName() + " to group "+ request.getGroupName(),e);
  }
  return reply;
}
