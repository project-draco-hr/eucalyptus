{
  AddGroupResponseType reply=request.getReply();
  EntityWrapper<UserGroupInfo> db=new EntityWrapper<UserGroupInfo>();
  UserGroupInfo group=new UserGroupInfo(request.getGroupName());
  try {
    db.getUnique(group);
    throw new EucalyptusCloudException("Group already exists: " + group.getName());
  }
 catch (  Exception e) {
    try {
      db.add(new UserGroupInfo(request.getGroupName()));
      db.commit();
    }
 catch (    Exception e1) {
      db.rollback();
      throw new EucalyptusCloudException("Error adding group: " + group.getName());
    }
  }
  return reply;
}
