{
  final SubjectRemoteCallbackFactory<RemoteCallback,Cluster> factory=newSubjectMessageFactory(this.refresh,cluster);
  return new AbstractTransitionAction<Cluster>(){
    @Override public final void leave(    final Cluster parent,    final Callback.Completion transitionCallback){
      try {
        AsyncRequests.newRequest(factory.newInstance()).sendSync(parent.getConfiguration());
        transitionCallback.fire();
      }
 catch (      final InterruptedException ex) {
        Thread.currentThread().interrupt();
        Exceptions.trace(ex);
        transitionCallback.fire();
      }
catch (      final Exception t) {
        if (parent.filterExceptions(t)) {
          transitionCallback.fireException(t);
        }
 else {
          transitionCallback.fire();
        }
      }
    }
  }
;
}
