{
  List<Throwable> currentErrors=Lists.newArrayList();
  this.clearExceptions();
  this.pendingErrors.drainTo(currentErrors);
  if (!currentErrors.isEmpty()) {
    CheckException ex=ServiceChecks.Severity.ERROR.transform(this.configuration,currentErrors);
    throw ex;
  }
 else   if (this.stateMachine.getState().ordinal() < State.DISABLED.ordinal()) {
    throw new IllegalStateException("Cluster is currently NOTREADY:  please see logs for additional information");
  }
}
