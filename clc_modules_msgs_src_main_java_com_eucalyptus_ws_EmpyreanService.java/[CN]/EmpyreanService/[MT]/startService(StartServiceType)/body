{
  StartServiceResponseType reply=request.getReply();
  for (  ServiceId serviceInfo : request.getServices()) {
    try {
      Component comp=Components.lookup(serviceInfo.getType());
      ServiceConfiguration service=TypeMappers.transform(serviceInfo,ServiceConfiguration.class);
      if (service.isVmLocal()) {
        try {
          comp.startTransition(service).get();
          reply.getServices().add(serviceInfo);
        }
 catch (        IllegalStateException ex) {
          LOG.error(ex,ex);
          throw ex;
        }
catch (        ExecutionException ex) {
          LOG.error(ex,ex);
          throw ex.getCause();
        }
catch (        InterruptedException ex) {
          LOG.error(ex,ex);
          Thread.currentThread().interrupt();
          throw ex;
        }
      }
    }
 catch (    Exception ex) {
      LOG.error(ex,ex);
      throw ex;
    }
  }
  return reply;
}
