{
  String host="10.0.0.2";
  String servicePath="/services/Eucalyptus";
  int port=8773;
  URI uri=new URI("http://" + host + ":"+ port+ servicePath);
  DescribeAvailabilityZonesType testMsg=new DescribeAvailabilityZonesType();
  Binding binding=BindingManager.getBinding("ec2_amazonaws_com_doc_2008_12_01");
  NioClient client=new NioClient(host,port);
  HttpRequest request=new MappingHttpRequest(HttpVersion.HTTP_1_1,HttpMethod.POST,uri.toASCIIString(),testMsg);
  request.addHeader(HttpHeaders.Names.HOST,host + ":" + port);
  request.addHeader(HttpHeaders.Names.CONTENT_TYPE,"text/xml; charset=UTF-8");
  ChannelFuture requestFuture=null;
  try {
    requestFuture=client.write(request);
  }
 catch (  Throwable throwable) {
    client.cleanup();
  }
  requestFuture.awaitUninterruptibly();
  client.cleanup();
}
