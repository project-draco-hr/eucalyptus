{
  if (!EucalyptusProperties.disableNetworking) {
    try {
      Address newAddress=AddressUtil.allocateAddresses(vm.getPlacement(),1).get(0);
      newAddress.setInstanceId(vm.getInstanceId());
      newAddress.setInstanceAddress(vm.getNetworkConfig().getIpAddress());
      AddressUtil.dispatchAssignAddress(newAddress,vm);
    }
 catch (    NotEnoughResourcesAvailable notEnoughResourcesAvailable) {
      LOG.error("Attempt to assign a system address for " + vm.getInstanceId() + " failed due to lack of addresses.");
    }
catch (    Exception e) {
      LOG.error("Attempt to assign a system address for " + vm.getInstanceId() + " failed due to lack of addresses.");
    }
  }
}
