def main(self, **args):
    self.args.update(args)
    self.process_args()
    self.euca_home = self.request_params.get('euca_home', None)
    if (not self.euca_home):
        self.euca_home = os.environ.get('EUCALYPTUS', None)
        if (not euca_home):
            if os.path.exists(os.path.join(self.ServiceClass.InstallPath, '/var/lib/eucalyptus/keys/')):
                self.euca_home = self.ServiceClass.InstallPath
            else:
                raise ValueError('Unable to find EUCALYPTUS home')
    self.setup_query()
    self.check_zipfile()
    self.token = self.get_token()
    self.get_credentials()
