def get_token(self):
    con1 = db.connect(host='localhost:8777', user='eucalyptus', password=self.db_pass, database='eucalyptus_auth')
    cur1 = con1.cursor()
    cur1.execute('select u.auth_user_token \n                          from auth_user u \n                          join auth_group_has_users gu on u.id=gu.auth_user_id\n                          join auth_group g on gu.auth_group_id=g.id \n                          join auth_account a on g.auth_group_owning_account=a.id \n                          where a.auth_account_name=%(acctname)s and g.auth_group_name=%(grpname)s', params={'acctname': self.account, 'grpname': ('_' + self.user), })
    result = cur1.fetchall()
    return result[0][0]
