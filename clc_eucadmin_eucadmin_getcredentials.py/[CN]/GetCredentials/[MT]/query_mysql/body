def query_mysql(self, query, num_retries=2):
    result = None
    i = 0
    while (i < num_retries):
        cmd = Command((query % (self.account, self.user, self.db_pass)))
        result = cmd.stdout.strip()
        if result:
            break
        time.sleep(1)
        i += 1
    if (not result):
        msg = 'The MySQL server is not responding.\n'
        msg += 'Please make sure MySQL is up and running.'
        raise ValueError(msg)
    return result
