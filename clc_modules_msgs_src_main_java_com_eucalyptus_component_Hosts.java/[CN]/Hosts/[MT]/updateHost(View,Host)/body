{
synchronized (Hosts.class) {
    List<Address> currentMembers=Lists.newArrayList(currentView.getMembers());
    Host entry=null;
    if (hostMap.containsKey(updatedHost.getGroupsId())) {
      entry=hostMap.get(updatedHost.getGroupsId());
      entry.update(currentView.getViewId(),updatedHost.hasDatabase(),updatedHost.getHostAddresses());
    }
 else {
      entry=new Host(currentView.getViewId(),updatedHost.getGroupsId(),updatedHost.hasDatabase(),updatedHost.getHostAddresses());
      Mbeans.register(entry);
      hostMap.put(entry.getGroupsId(),entry);
    }
    LOG.debug("Current host entries: ");
    for (    Host host : hostMap.values()) {
      LOG.debug("-> " + host);
    }
    return entry;
  }
}
