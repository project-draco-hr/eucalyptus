{
  Host ret=null;
  ViewId viewId=HostManager.isReady() ? HostManager.getCurrentView().getViewId() : null;
  if (!hostMap.containsKey(Hosts.localHostGroupsId())) {
    Host newRef=new Host(viewId);
    Host oldRef=hostMap.putIfAbsent(newRef.getGroupsId(),newRef);
    if (oldRef == null) {
      Host local=hostMap.get(Hosts.localHostGroupsId());
      Mbeans.register(local);
      ret=local;
    }
 else {
      ret=oldRef;
    }
  }
 else {
    ret=hostMap.get(Hosts.localHostGroupsId());
  }
  ret.update(viewId,BootstrapArgs.isCloudController(),Bootstrap.isFinished(),Internets.getAllInetAddresses());
  return ret;
}
