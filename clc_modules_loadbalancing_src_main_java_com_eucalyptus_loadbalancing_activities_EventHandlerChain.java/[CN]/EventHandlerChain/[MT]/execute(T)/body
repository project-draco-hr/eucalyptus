{
  LinkedList<EventHandler<T>> reverseHandler=Lists.newLinkedList();
  for (  EventHandler<T> handler : this.handlers) {
    try {
      reverseHandler.addFirst(handler);
      handler.apply(evt);
    }
 catch (    Exception e) {
      LOG.error(e);
      LOG.warn("starting to rollback");
      EventHandlerChainException toThrow=new EventHandlerChainException(String.format("failed handling %s, in handler %s",evt,handler),e,true);
      for (      EventHandler<T> h : reverseHandler) {
        try {
          h.rollback();
        }
 catch (        Exception ex) {
          LOG.warn("failed to rollback at " + h.toString());
          toThrow.setRollback(false);
        }
      }
      LOG.info("finished rollback");
      throw toThrow;
    }
  }
}
