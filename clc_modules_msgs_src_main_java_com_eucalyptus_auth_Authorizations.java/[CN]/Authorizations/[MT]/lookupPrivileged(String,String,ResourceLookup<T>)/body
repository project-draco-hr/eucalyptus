{
  T resource;
  try {
    resource=resolver.resolve(resourceName);
  }
 catch (  Throwable ex) {
    LOG.error(ex,ex);
    throw new ResourceLookupException("Failure occurred while trying to resolve a resource using: " + resolver.getClass().getCanonicalName(),ex);
  }
  @SuppressWarnings("unchecked") Class<T> resourceType=(Class<T>)resource.getClass();
  policyEngine.evaluateAuthorization(resourceType,resourceName,resourceAccountId);
  return resource;
}
