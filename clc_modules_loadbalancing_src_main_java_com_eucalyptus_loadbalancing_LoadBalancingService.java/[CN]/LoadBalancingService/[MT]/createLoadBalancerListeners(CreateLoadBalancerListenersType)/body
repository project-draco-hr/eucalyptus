{
  final CreateLoadBalancerListenersResponseType reply=request.getReply();
  final Context ctx=Contexts.lookup();
  final UserFullName ownerFullName=ctx.getUserFullName();
  final String lbName=request.getLoadBalancerName();
  final Collection<Listener> listeners=request.getListeners().getMember();
  try {
    CreateListenerEvent evt=new CreateListenerEvent();
    evt.setLoadBalancer(lbName);
    evt.setContext(ctx);
    evt.setListeners(listeners);
    ActivityManager.getInstance().fire(evt);
  }
 catch (  EventFailedException e) {
    LOG.error("failed to fire CreateListener event",e);
    throw new LoadBalancingException("failed to create listener: internal error",e);
  }
  LoadBalancers.createLoadbalancerListener(lbName,ownerFullName,listeners);
  reply.set_return(true);
  return reply;
}
