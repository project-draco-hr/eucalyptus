{
  DeleteLoadBalancerResponseType reply=request.getReply();
  final String lbToDelete=request.getLoadBalancerName();
  final Context ctx=Contexts.lookup();
  final UserFullName ownerFullName=ctx.getUserFullName();
  if (lbToDelete != null) {
    try {
      try {
        DeleteLoadbalancerEvent evt=new DeleteLoadbalancerEvent();
        evt.setLoadBalancer(lbToDelete);
        evt.setContext(ctx);
        ActivityManager.getInstance().fire(evt);
      }
 catch (      EventFailedException e) {
        LOG.error("failed to fire DeleteLoadbalancer event",e);
        throw e;
      }
      LoadBalancers.deleteLoadbalancer(ownerFullName,lbToDelete);
    }
 catch (    Exception e) {
      if (!(e.getCause() instanceof NoSuchElementException)) {
        LOG.error("Error deleting the loadbalancer: " + e.getMessage(),e);
        throw new LoadBalancingException("Failed to delete the loadbalancer " + lbToDelete,e);
      }
    }
  }
  DeleteLoadBalancerResult result=new DeleteLoadBalancerResult();
  reply.setDeleteLoadBalancerResult(result);
  reply.set_return(true);
  return reply;
}
