{
  LOG.info("launching instances at zone=" + availabilityZone + ", imageId="+ imageId);
  EucalyptusLaunchInstanceTask launchTask=new EucalyptusLaunchInstanceTask(availabilityZone,imageId,instanceType);
  launchTask.dispatch(new ActivityContext(){
    @Override public String getUserId(){
      try {
        return Accounts.lookupSystemAdmin().getUserId();
      }
 catch (      AuthException ex) {
        throw Exceptions.toUndeclared(ex);
      }
    }
    @Override public EucalyptusClient getEucalyptusClient(){
      try {
        final EucalyptusClient client=new EucalyptusClient(this.getUserId());
        client.init();
        return client;
      }
 catch (      Exception e) {
        throw Exceptions.toUndeclared(e);
      }
    }
  }
);
}
