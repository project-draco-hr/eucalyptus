{
  Address addr=new Address(address.getName(),address.getCluster());
  EntityWrapper<Address> db=new EntityWrapper<Address>();
  try {
    addr=db.getUnique(new Address(address.getName()));
    addr.setUserId(address.getUserId());
    db.commit();
  }
 catch (  Throwable e) {
    try {
      db.add(address);
      db.commit();
    }
 catch (    Throwable e1) {
      db.rollback();
    }
  }
}
