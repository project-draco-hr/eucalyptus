{
  boolean result=this.pending.compareAndSet(true,false);
  if (result && State.allocated.equals(this.state.get())) {
    if (system && !edu.ucsb.eucalyptus.util.EucalyptusProperties.getSystemConfiguration().isDoDynamicPublicAddresses()) {
      this.release();
    }
 else {
      this.doUnassign();
    }
  }
 else   if (State.assigned.equals(this.state.get())) {
    LOG.debug(EventRecord.caller(this.getClass(),this.state.get(),this.toString()));
  }
  return result;
}
