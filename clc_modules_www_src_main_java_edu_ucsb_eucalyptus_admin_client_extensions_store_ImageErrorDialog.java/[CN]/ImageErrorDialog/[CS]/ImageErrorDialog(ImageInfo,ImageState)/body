{
  Button closeButton=new Button("Close");
  Button clearErrorButton=new Button("Clear Error");
  closeButton.addClickHandler(new ClickHandler(){
    public void onClick(    ClickEvent event){
      ImageErrorDialog.this.hide();
    }
  }
);
  clearErrorButton.addClickHandler(new ClickHandler(){
    public void onClick(    ClickEvent event){
      ImageErrorDialog.this.hide();
      ImageErrorDialog.this.fireEvent(new ClearErrorEvent<ImageState>(imageState));
    }
  }
);
  TextArea textArea=new TextArea();
  textArea.setValue(imageState.getErrorMessage());
  FlowPanel buttonPanel=new FlowPanel();
  buttonPanel.add(closeButton);
  buttonPanel.add(clearErrorButton);
  clearErrorButton.setVisible(imageState.hasAction(ImageState.Action.CLEAR_ERROR));
  VerticalPanel verticalPanel=new VerticalPanel();
  verticalPanel.add(textArea);
  verticalPanel.add(buttonPanel);
  setText("Error from " + imageInfo.getTitle());
  setWidget(verticalPanel);
  addStyleName("istore-image-error-dialog");
  addStyleName("istore-dialog");
  buttonPanel.setStyleName("istore-button-panel");
}
