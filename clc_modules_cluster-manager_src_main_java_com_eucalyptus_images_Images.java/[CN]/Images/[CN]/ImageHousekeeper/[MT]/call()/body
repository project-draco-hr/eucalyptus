{
  EntityTransaction tx=Entities.get(ImageInfo.class);
  try {
    for (    ImageInfo image : Entities.query(Images.exampleWithImageState(ImageMetadata.State.deregistered))) {
      Entities.delete(image);
    }
    tx.commit();
  }
 catch (  Exception ex) {
    Logs.extreme().error(ex,ex);
    tx.rollback();
    throw ex;
  }
  return true;
}
