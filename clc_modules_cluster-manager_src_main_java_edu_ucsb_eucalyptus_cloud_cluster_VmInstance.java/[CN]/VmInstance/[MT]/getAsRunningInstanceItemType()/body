{
  RunningInstancesItemType runningInstance=new RunningInstancesItemType();
  runningInstance.setAmiLaunchIndex(Integer.toString(this.launchIndex));
  runningInstance.setStateCode(Integer.toString(this.state.getCode()));
  runningInstance.setStateName(this.state.getName());
  runningInstance.setInstanceId(this.instanceId);
  runningInstance.setImageId(this.imageInfo.getImageId());
  runningInstance.setKernel(this.imageInfo.getKernelId());
  runningInstance.setRamdisk(this.imageInfo.getRamdiskId());
  runningInstance.setProductCodes(this.imageInfo.getProductCodes());
  if (Component.dns.isLocal()) {
    try {
      StringBuffer sb=new StringBuffer().append("euca-");
      sb.append(this.getNetworkConfig().getIpAddress().replaceAll("\\.","-"));
      sb.append(".eucalyptus.");
      String dnsDomain=edu.ucsb.eucalyptus.util.EucalyptusProperties.getSystemConfiguration().getDnsDomain();
      runningInstance.setDnsName(sb.toString() + dnsDomain);
      runningInstance.setPrivateDnsName(sb.toString() + "internal");
    }
 catch (    Exception e) {
      setRunningIpAddresses(runningInstance);
    }
  }
 else {
    setRunningIpAddresses(runningInstance);
  }
  if (this.getReason() != null || !"".equals(this.getReason()))   runningInstance.setReason(this.getReason());
  if (this.getKeyInfo() != null)   runningInstance.setKeyName(this.getKeyInfo().getName());
 else   runningInstance.setKeyName("");
  runningInstance.setInstanceType(this.getVmTypeInfo().getName());
  runningInstance.setPlacement(this.placement);
  runningInstance.setLaunchTime(this.launchTime);
  return runningInstance;
}
