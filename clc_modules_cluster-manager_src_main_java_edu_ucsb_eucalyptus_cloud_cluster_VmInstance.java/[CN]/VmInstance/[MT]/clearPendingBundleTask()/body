{
  if (BundleState.pending.name().equals(this.getBundleTask().getState()) && this.bundleTask.compareAndSet(this.getBundleTask(),this.getBundleTask(),true,false)) {
    this.getBundleTask().setState(BundleState.storing.name());
    LOG.info(EventRecord.here(BundleCallback.class,EventType.BUNDLE_STARTING,this.getOwnerId(),this.getBundleTask().getBundleId(),this.getInstanceId(),this.getBundleTask().getState()));
    return true;
  }
 else   if (BundleState.canceling.name().equals(this.getBundleTask().getState()) && this.bundleTask.compareAndSet(this.getBundleTask(),this.getBundleTask(),true,false)) {
    LOG.info(EventRecord.here(BundleCallback.class,EventType.BUNDLE_CANCELLED,this.getOwnerId(),this.getBundleTask().getBundleId(),this.getInstanceId(),this.getBundleTask().getState()));
    this.resetBundleTask();
    return true;
  }
 else {
    return false;
  }
}
