from boto.ec2.elb.listener import Listener
from uiproxyclient import UIProxyClient
if (__name__ == '__main__'):
    client = UIProxyClient()
    client.login('localhost', '8888', 'ec2.us-east-1.amazonaws.com', 'AKIAIFTT7VIH27SUY2BA', 'SECRET')
    print '=== Getting Load Balancers ==='
    print client.get_all_load_balancers()
    print '=== Create Load Balancer ==='
    listener = Listener(load_balancer_port='80', instance_port='8888', protocol='HTTP')
    print client.create_load_balancer('testbalancer', ['us-east-1a'], [listener])
    print client.get_all_load_balancers()
    print '=== Getting Instance Health ==='
    print client.describe_instance_health('testbalancer')
    print '=== Delete Load Balancer ==='
    print client.delete_load_balancer('testbalancer')
