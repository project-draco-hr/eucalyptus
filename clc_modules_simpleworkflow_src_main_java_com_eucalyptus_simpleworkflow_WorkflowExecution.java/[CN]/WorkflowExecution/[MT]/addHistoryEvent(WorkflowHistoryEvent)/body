{
  event.setEventOrder((long)workflowHistory.size());
  workflowHistory.add(event);
  if (workflowHistory.size() > SimpleWorkflowConfiguration.getWorkflowExecutionHistorySize()) {
    throw new WorkflowHistorySizeLimitException(this);
  }
  return event.getEventId();
}
