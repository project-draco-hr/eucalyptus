{
  OMElement omMsg=this.properties.getBinding().toOM(msg);
  LOG.trace("Sending to " + this.uri + ": "+ msg.getClass().getSimpleName());
  LOG.trace(omMsg);
  OMElement omResponse=this.sync(omMsg);
  LOG.trace(omResponse);
  EucalyptusMessage msgResponse=null;
  try {
    Class targetClass=msg.getClass();
    while (!targetClass.getSimpleName().endsWith("Type"))     targetClass=targetClass.getSuperclass();
    Class responseClass=Class.forName(targetClass.getName().replaceAll("Type","") + "ResponseType");
    msgResponse=(EucalyptusMessage)this.properties.getBinding().fromOM(omResponse,responseClass);
  }
 catch (  ClassNotFoundException e) {
    LOG.error(e);
    LOG.debug(e,e);
  }
  return msgResponse;
}
