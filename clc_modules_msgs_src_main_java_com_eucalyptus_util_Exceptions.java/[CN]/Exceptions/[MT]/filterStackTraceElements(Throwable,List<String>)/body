{
  Predicate<StackTraceElement> filter=stackTraceElementFilter(patterns);
  return Collections2.filter(Arrays.asList(ex.getStackTrace()),filter);
}
