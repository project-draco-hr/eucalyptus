{
  if (!NetworkGroups.networkingConfiguration().hasNetworking()) {
    return PrivateNetworkIndex.bogus();
  }
 else   if (!Entities.isPersistent(this)) {
    throw new TransientEntityException(this.toString());
  }
 else {
    try {
      return Entities.uniqueResult(PrivateNetworkIndex.named(this,idx));
    }
 catch (    final Exception ex) {
      return Entities.persist(PrivateNetworkIndex.create(this,idx)).allocate();
    }
  }
}
