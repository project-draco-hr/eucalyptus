{
  if (RequestType.A.apply(query)) {
    try {
      final Name name=query.getName();
      final InetAddress requestIp=InstanceDomainNames.toInetAddress(name.relativize(InstanceDomainNames.EXTERNAL.get()));
      final Address addr=Addresses.getInstance().lookup(requestIp.getHostAddress());
      if (addr.isAssigned()) {
        final InetAddress instanceAddress=InetAddresses.forString(addr.getInstanceAddress());
        final Record instanceARecord=DomainNameRecords.addressRecord(name,instanceAddress);
        return DnsResponse.forName(name).answer(instanceARecord);
      }
    }
 catch (    Exception ex) {
      LOG.debug(ex);
    }
  }
  return super.lookupRecords(query);
}
