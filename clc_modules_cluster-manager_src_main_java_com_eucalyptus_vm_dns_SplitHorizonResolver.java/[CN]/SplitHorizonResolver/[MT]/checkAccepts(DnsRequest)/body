{
  final Record query=request.getQuery();
  if (!Bootstrap.isOperational() || !enabled) {
    return false;
  }
 else   if (InstanceDomainNames.isInstanceDomainName(query.getName())) {
    return true;
  }
 else   if (RequestType.PTR.apply(query) && Subnets.isSystemManagedAddress(DomainNameRecords.inAddrArpaToInetAddress(query.getName()))) {
    return true;
  }
  return false;
}
