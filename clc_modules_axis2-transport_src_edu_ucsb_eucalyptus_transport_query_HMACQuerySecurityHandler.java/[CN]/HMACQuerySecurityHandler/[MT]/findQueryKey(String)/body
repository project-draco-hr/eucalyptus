{
  String queryKey;
  UserInfo searchUser=new UserInfo();
  searchUser.setQueryId(queryId);
  EntityWrapper<UserInfo> db=new EntityWrapper<UserInfo>();
  List<UserInfo> userList=db.query(searchUser);
  if (userList.size() != 1) {
    db.rollback();
    throw new QuerySecurityException("Invalid user query id: " + queryId);
  }
  queryKey=userList.get(0).getSecretKey();
  db.commit();
  return queryKey;
}
