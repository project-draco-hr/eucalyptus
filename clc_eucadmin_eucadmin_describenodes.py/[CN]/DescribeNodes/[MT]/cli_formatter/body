def cli_formatter(self, nodes):
    for (node_name, node) in nodes.iteritems():
        print '\t'.join(('NODE', node['partition'], (node['hostname'] or ''), node_name, node['state'], ', '.join((('%s=%s' % (key, val)) for (key, val) in node.get('details', {}).iteritems()))))
        for (inst_id, instance) in node['instances'].iteritems():
            if ('migration_dest' in instance):
                print '\t'.join(('INSTANCE', inst_id, 'MIGRATING-TO', instance['migration_dest']))
            else:
                print '\t'.join(('INSTANCE', inst_id))
