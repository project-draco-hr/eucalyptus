{
  DeleteZoneResponseType reply=(DeleteZoneResponseType)request.getReply();
  String name=request.getName();
  if (!Contexts.lookup().hasAdministrativePrivileges()) {
    throw new AccessDeniedException(name);
  }
  EntityWrapper<ZoneInfo> db=DNSControl.getEntityWrapper();
  ZoneInfo zoneInfo=new ZoneInfo(name);
  try {
    ZoneInfo foundZoneInfo=db.getUnique(zoneInfo);
    db.delete(foundZoneInfo);
    db.commit();
  }
 catch (  Exception ex) {
    db.rollback();
    LOG.error(ex);
  }
  ZoneManager.deleteZone(name);
  return reply;
}
