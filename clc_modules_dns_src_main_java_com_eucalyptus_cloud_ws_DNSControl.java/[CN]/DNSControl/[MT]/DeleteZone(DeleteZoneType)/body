{
  DeleteZoneResponseType reply=(DeleteZoneResponseType)request.getReply();
  String name=request.getName();
  if (!Contexts.lookup().hasAdministrativePrivileges()) {
    throw new AccessDeniedException(name);
  }
  ZoneInfo zoneInfo=new ZoneInfo(name);
  try (final TransactionResource db=Entities.transactionFor(ZoneInfo.class)){
    ZoneInfo foundZoneInfo=Entities.uniqueResult(zoneInfo);
    Entities.delete(foundZoneInfo);
    db.commit();
  }
 catch (  Exception ex) {
    LOG.error(ex);
  }
  ZoneManager.deleteZone(name);
  return reply;
}
