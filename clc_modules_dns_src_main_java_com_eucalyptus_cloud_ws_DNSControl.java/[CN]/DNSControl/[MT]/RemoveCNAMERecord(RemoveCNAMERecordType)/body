{
  RemoveCNAMERecordResponseType reply=(RemoveCNAMERecordResponseType)request.getReply();
  String zone=request.getZone() + DNSProperties.DOMAIN + ".";
  String name=request.getName() + DNSProperties.DOMAIN + ".";
  String alias=request.getAlias() + DNSProperties.DOMAIN + ".";
  EntityWrapper<CNAMERecordInfo> db=DNSControl.getEntityWrapper();
  CNAMERecordInfo cnameRecordInfo=new CNAMERecordInfo();
  cnameRecordInfo.setName(name);
  cnameRecordInfo.setZone(zone);
  cnameRecordInfo.setAlias(alias);
  try {
    CNAMERecordInfo foundCNAMERecordInfo=db.getUnique(cnameRecordInfo);
    CNAMERecord cnameRecord=new CNAMERecord(Name.fromString(name),DClass.IN,foundCNAMERecordInfo.getTtl(),Name.fromString(foundCNAMERecordInfo.getAlias()));
    ZoneManager.deleteRecord(zone,cnameRecord);
    db.delete(foundCNAMERecordInfo);
    db.commit();
  }
 catch (  Exception ex) {
    db.rollback();
    LOG.error(ex);
  }
  return reply;
}
