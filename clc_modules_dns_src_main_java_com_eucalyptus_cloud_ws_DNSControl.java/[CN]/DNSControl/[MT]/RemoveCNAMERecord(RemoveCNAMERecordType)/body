{
  RemoveCNAMERecordResponseType reply=(RemoveCNAMERecordResponseType)request.getReply();
  String zone=request.getZone() + DNSProperties.DOMAIN + ".";
  String name=request.getName() + DNSProperties.DOMAIN + ".";
  String alias=request.getAlias() + DNSProperties.DOMAIN + ".";
  CNAMERecordInfo cnameRecordInfo=new CNAMERecordInfo();
  cnameRecordInfo.setName(name);
  cnameRecordInfo.setZone(zone);
  cnameRecordInfo.setAlias(alias);
  try (final TransactionResource db=Entities.transactionFor(CNAMERecordInfo.class)){
    CNAMERecordInfo foundCNAMERecordInfo=Entities.uniqueResult(cnameRecordInfo);
    CNAMERecord cnameRecord=new CNAMERecord(Name.fromString(name),DClass.IN,foundCNAMERecordInfo.getTtl(),Name.fromString(foundCNAMERecordInfo.getAlias()));
    ZoneManager.deleteRecord(zone,cnameRecord);
    Entities.delete(foundCNAMERecordInfo);
    db.commit();
  }
 catch (  Exception ex) {
    LOG.error(ex);
  }
  return reply;
}
