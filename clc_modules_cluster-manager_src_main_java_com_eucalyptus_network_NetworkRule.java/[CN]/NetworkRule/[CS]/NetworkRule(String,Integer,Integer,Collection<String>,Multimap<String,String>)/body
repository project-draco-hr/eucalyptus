{
  assertThat("Protocol must be one of: tcp, udp, icmp",protocol,notNullValue());
  this.protocol=Protocol.valueOf(protocol);
  this.lowPort=lowPort;
  this.highPort=highPort;
  if (ipRanges != null) {
    this.ipRanges.addAll(ipRanges);
  }
  if (peers != null) {
    for (    final Entry<String,String> entry : peers.entries()) {
      this.networkPeers.add(new NetworkPeer(this,entry.getKey(),entry.getValue()));
    }
  }
}
