{
  final Context ctx=Contexts.lookup();
  final DeleteSecurityGroupResponseType reply=(DeleteSecurityGroupResponseType)request.getReply();
  String lookUpGroup=request.getGroupName() != null ? request.getGroupName() : request.getGroupId();
  AccountFullName lookUpGroupAccount=ctx.getUserFullName().asAccountFullName();
  NetworkGroup group;
  try {
    group=NetworkGroups.lookup(lookUpGroupAccount,lookUpGroup);
  }
 catch (  MetadataException ex) {
    try {
      group=NetworkGroups.lookupByGroupId(lookUpGroupAccount,lookUpGroup);
    }
 catch (    NoSuchMetadataException ex1) {
      throw ex1;
    }
  }
  if (!RestrictedTypes.filterPrivileged().apply(group)) {
    throw new EucalyptusCloudException("Not authorized to delete network group " + group.getDisplayName() + " for "+ ctx.getUser());
  }
  NetworkGroups.delete(ctx.getUserFullName(),group.getDisplayName());
  reply.set_return(true);
  return reply;
}
