{
  final Context ctx=Contexts.lookup();
  final AccountFullName lookUpGroupAccount=ctx.getUserFullName().asAccountFullName();
  try {
    if (groupName != null) {
      return NetworkGroups.lookup(lookUpGroupAccount,groupName);
    }
 else     if (groupId != null) {
      return NetworkGroups.lookupByGroupId(ctx.isAdministrator() ? null : lookUpGroupAccount,normalizeGroupIdentifier(groupId));
    }
 else {
      throw new EucalyptusCloudException("Group id or name required");
    }
  }
 catch (  NoSuchMetadataException e) {
    throw new ClientComputeException("InvalidGroup.NotFound",String.format("The security group '%s' does not exist",Objects.firstNonNull(groupName,groupId)));
  }
}
