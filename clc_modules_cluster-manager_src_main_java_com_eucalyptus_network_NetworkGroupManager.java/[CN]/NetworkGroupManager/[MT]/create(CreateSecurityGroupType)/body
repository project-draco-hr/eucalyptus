{
  Context ctx=Contexts.lookup();
  NetworkGroupUtil.makeDefault(ctx.getUserFullName());
  CreateSecurityGroupResponseType reply=(CreateSecurityGroupResponseType)request.getReply();
  NetworkRulesGroup newGroup=new NetworkRulesGroup(ctx.getUserFullName(),request.getGroupName(),request.getGroupDescription());
  try {
    EntityWrapper.get(NetworkRulesGroup.class).mergeAndCommit(newGroup);
    return reply;
  }
 catch (  RecoverablePersistenceException ex) {
    LOG.error(ex,ex);
    throw new EucalyptusCloudException("CreatSecurityGroup failed because: " + ex.getMessage(),ex);
  }
}
