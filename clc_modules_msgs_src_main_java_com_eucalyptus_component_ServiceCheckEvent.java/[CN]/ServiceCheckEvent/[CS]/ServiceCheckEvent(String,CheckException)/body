{
  this.severity=ex.getSeverity();
  this.message=ex.getMessage();
  String tempCorrelationId=correlationId;
  if (tempCorrelationId == null) {
    try {
      tempCorrelationId=Contexts.lookup().getCorrelationId();
    }
 catch (    IllegalContextAccessException ex1) {
      tempCorrelationId=Exceptions.string(new Exception("Unknwon correlationId when constructing service check event"));
    }
  }
  this.correlationId=tempCorrelationId;
  this.stackTrace=Exceptions.string(ex);
  this.servicePartition=ex.getConfig().getPartition();
  this.serviceName=ex.getConfig().getName();
  this.serviceHost=ex.getConfig().getHostName();
}
