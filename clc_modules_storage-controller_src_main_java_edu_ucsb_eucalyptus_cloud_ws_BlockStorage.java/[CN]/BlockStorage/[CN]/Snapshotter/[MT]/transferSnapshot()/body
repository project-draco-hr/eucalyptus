{
  long size=0;
  File snapshotFile=new File(snapshotFileName);
  assert(snapshotFile.exists());
  size+=snapshotFile.length();
  SnapshotProgressCallback callback=new SnapshotProgressCallback(snapshotId,size,StorageProperties.TRANSFER_CHUNK_SIZE);
  Map<String,String> httpParamaters=new HashMap<String,String>();
  HttpWriter httpWriter;
  httpWriter=new HttpWriter("PUT",snapshotFile,callback,volumeBucket,snapshotId,"StoreSnapshot",null,httpParamaters,false);
  try {
    httpWriter.run();
    EntityWrapper<SnapshotInfo> dbSnap=new EntityWrapper<SnapshotInfo>();
    SnapshotInfo snapshotInfo=new SnapshotInfo(snapshotId);
    SnapshotInfo foundSnapshotInfo=dbSnap.getUnique(snapshotInfo);
    foundSnapshotInfo.setProgress("100");
    foundSnapshotInfo.setStatus(StorageProperties.Status.available.toString());
    dbSnap.commit();
  }
 catch (  Exception ex) {
    LOG.error(ex,ex);
    checker.cleanFailedSnapshot(snapshotId);
  }
}
