{
  try {
    blockManager.deleteVolume(volumeId);
  }
 catch (  EucalyptusCloudException e1) {
    LOG.error(e1);
  }
  EntityWrapper<VolumeInfo> db=StorageProperties.getEntityWrapper();
  VolumeInfo foundVolume;
  try {
    foundVolume=db.getUnique(new VolumeInfo(volumeId));
    db.delete(foundVolume);
    db.commit();
    EucaSemaphoreDirectory.removeSemaphore(volumeId);
  }
 catch (  EucalyptusCloudException e) {
    db.rollback();
  }
}
