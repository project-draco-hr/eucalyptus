{
  if (snapshotId == null)   return;
  LOG.debug("Disconnecting and cleaning local snapshot after failed snapshot transfer: " + snapshotId);
  try {
    blockManager.finishVolume(snapshotId);
  }
 catch (  Exception e) {
    throw new EucalyptusCloudException("Error during cleanup of failed snapshot download of " + snapshotId,e);
  }
 finally {
    blockManager.cleanSnapshot(snapshotId);
  }
}
