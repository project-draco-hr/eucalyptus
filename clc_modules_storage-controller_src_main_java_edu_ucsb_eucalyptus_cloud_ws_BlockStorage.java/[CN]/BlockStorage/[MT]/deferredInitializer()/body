{
  if (!Component.storage.isEnabled())   return;
  volumeStorageManager=new FileSystemStorageManager(StorageProperties.storageRootDirectory);
  snapshotStorageManager=new FileSystemStorageManager(StorageProperties.storageRootDirectory);
  blockManager=BlockStorageManagerFactory.getBlockStorageManager();
  checker=new BlockStorageChecker(volumeStorageManager,snapshotStorageManager,blockManager);
  volumeService=new VolumeService();
  snapshotService=new SnapshotService();
  configure();
  blockManager.configure();
  blockManager.initialize();
  StorageProperties.enableSnapshots=StorageProperties.enableStorage=true;
  try {
    startupChecks();
  }
 catch (  EucalyptusCloudException ex) {
    LOG.error("Startup checks failed ",ex);
  }
  if (StorageProperties.trackUsageStatistics)   blockStorageStatistics=new BlockStorageStatistics();
}
