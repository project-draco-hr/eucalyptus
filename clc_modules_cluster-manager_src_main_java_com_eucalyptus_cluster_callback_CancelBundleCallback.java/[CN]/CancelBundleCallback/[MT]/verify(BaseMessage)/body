{
  CancelBundleTaskResponseType reply=(CancelBundleTaskResponseType)response;
  if (!reply.get_return()) {
    LOG.info("Attempt to CancelBundleTask for instance " + this.getRequest().getBundleId() + " has failed.");
  }
 else {
    try {
      VmInstance vm=VmInstances.getInstance().lookupByBundleId(this.getRequest().getBundleId());
      EventRecord.here(CancelBundleCallback.class,EventType.BUNDLE_CANCELLED,this.getRequest().getUserId(),vm.getBundleTask().getBundleId(),vm.getInstanceId()).info();
      vm.resetBundleTask();
    }
 catch (    NoSuchElementException e1) {
    }
  }
}
