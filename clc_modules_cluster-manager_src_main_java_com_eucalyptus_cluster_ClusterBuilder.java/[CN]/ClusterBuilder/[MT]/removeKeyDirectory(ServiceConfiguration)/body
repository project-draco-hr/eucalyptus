{
  try {
    String otherClusters=Iterables.transform(ClusterBuilder.lookupPartition(config),HasFullName.GET_FULLNAME).toString();
    LOG.info(String.format("There still exist clusters within the partition=%s so the keys will not be removed.",config.getPartition(),otherClusters));
  }
 catch (  NoSuchElementException ex1) {
    LOG.info(String.format("Removing credentials for clusters within the partition=%s.",config.getPartition()));
    String directory=SubDirectory.KEYS.toString() + File.separator + config.getPartition();
    File keyDir=new File(directory);
    if (keyDir.exists()) {
      for (      File f : keyDir.listFiles()) {
        if (f.delete()) {
          LOG.info("Removing cluster key file: " + f.getAbsolutePath());
        }
 else {
          LOG.info("Failed to remove cluster key file: " + f.getAbsolutePath());
        }
      }
      if (keyDir.delete()) {
        LOG.info("Removing cluster key directory: " + keyDir.getAbsolutePath());
      }
 else {
        LOG.info("Failed to remove cluster key directory: " + keyDir.getAbsolutePath());
      }
    }
  }
}
