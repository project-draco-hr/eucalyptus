{
  try {
    updateVolumeGroup();
  }
 catch (  EucalyptusCloudException e) {
    LOG.error(e);
    return;
  }
  VolumeEntityWrapperManager volumeManager=new VolumeEntityWrapperManager();
  LVMVolumeInfo lvmVolInfo=volumeManager.getVolumeInfo(volumeId);
  if (lvmVolInfo != null) {
    volumeManager.unexportVolume(lvmVolInfo);
    String lvName=lvmVolInfo.getLvName();
    String absoluteLVName=lvmRootDirectory + PATH_SEPARATOR + volumeGroup+ PATH_SEPARATOR+ lvName;
    try {
      String returnValue=LVMWrapper.removeLogicalVolume(absoluteLVName);
    }
 catch (    EucalyptusCloudException ex) {
      volumeManager.abort();
      String error="Unable to run command: " + ex.getMessage();
      LOG.error(error);
    }
    volumeManager.remove(lvmVolInfo);
    volumeManager.finish();
  }
}
