{
  execServices.remove(this.getName());
  List<Runnable> ret=Lists.newArrayList();
  for (  final Runnable r : (ret=this.pool.shutdownNow())) {
    LOG.warn("SHUTDOWN:" + ThreadPool.this.name + " - Discarded pending task: "+ r.getClass()+ " ["+ r.toString()+ "]");
  }
  try {
    while (!this.pool.awaitTermination(1,TimeUnit.SECONDS)) {
      LOG.warn("SHUTDOWN:" + ThreadPool.this.name + " - Waiting for pool to shutdown.");
      if (this.pool instanceof ThreadPoolExecutor) {
        final ThreadPoolExecutor tpe=(ThreadPoolExecutor)this.pool;
        for (        final Runnable r : tpe.getQueue().toArray(EMPTY)) {
          LOG.warn("SHUTDOWN:" + ThreadPool.this.name + " - "+ r.getClass());
        }
      }
    }
  }
 catch (  final InterruptedException e) {
    Thread.currentThread().interrupt();
    LOG.error(e,e);
  }
  return ret;
}
