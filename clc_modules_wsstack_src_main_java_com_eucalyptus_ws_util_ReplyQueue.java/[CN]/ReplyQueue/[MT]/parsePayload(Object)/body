{
  if (payload instanceof EucalyptusMessage) {
    return (EucalyptusMessage)payload;
  }
 else   if (payload instanceof VmAllocationInfo) {
    return ((VmAllocationInfo)payload).getRequest();
  }
 else   if (!(payload instanceof String)) {
    return new EucalyptusErrorMessageType("ReplyQueue",LogUtil.dumpObject(payload));
  }
 else {
    return (EucalyptusMessage)BindingManager.getBinding("msgs_eucalyptus_ucsb_edu").fromOM((String)payload);
  }
}
