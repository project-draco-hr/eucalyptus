{
  Throwable exception=exMsg.getException();
  EucalyptusErrorMessageType errMsg=null;
  if (exception != null) {
    Throwable e=exMsg.getException().getCause();
    if (e != null) {
      errMsg=new EucalyptusErrorMessageType(exMsg.getComponentName(),msg,e.getMessage());
    }
  }
  if (errMsg == null) {
    ByteArrayOutputStream exStream=new ByteArrayOutputStream();
    exception.printStackTrace(new PrintStream(exStream));
    errMsg=new EucalyptusErrorMessageType(exMsg.getComponentName(),msg,"Internal Error: \n" + exStream.toString());
  }
  return errMsg;
}
