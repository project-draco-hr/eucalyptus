{
  if (lic.isSyncEnabled()) {
    LdapClient ldap=null;
    try {
      ldap=new LdapClient(lic);
      return true;
    }
 catch (    LdapException e) {
      LOG.error(e,e);
      LOG.warn("Failed to connect to LDAP service",e);
      return false;
    }
 finally {
      if (ldap != null) {
        ldap.close();
      }
    }
  }
 else {
    return true;
  }
}
