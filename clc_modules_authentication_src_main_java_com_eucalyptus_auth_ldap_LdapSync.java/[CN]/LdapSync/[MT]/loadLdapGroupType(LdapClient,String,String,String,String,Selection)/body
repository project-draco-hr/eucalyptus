{
  String[] attrNames=new String[]{idAttrName,memberAttrName};
  final Map<String,Set<String>> groupMap=Maps.newHashMap();
  retrieveSelection(ldap,baseDn,selection,attrNames,new LdapEntryProcessor(){
    @Override public void processLdapEntry(    String dn,    Attributes attrs) throws NamingException {
      if (VERBOSE) {
        LOG.debug("Retrieved group: " + dn + " -> "+ attrs);
      }
      groupMap.put(getId(idAttrName,attrs),getMembers(memberIdAttrName,memberAttrName,attrs));
    }
  }
);
  return groupMap;
}
