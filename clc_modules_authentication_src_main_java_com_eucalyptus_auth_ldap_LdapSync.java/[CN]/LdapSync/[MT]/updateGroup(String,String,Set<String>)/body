{
  try {
    Set<String> localUserSet=Sets.newHashSet();
    Group g=Groups.lookupGroupByName(group,accountName);
    for (    User u : g.getUsers()) {
      localUserSet.add(u.getName());
    }
    for (    String user : users) {
      if (localUserSet.contains(user)) {
        localUserSet.remove(user);
      }
 else {
        g.addMember(new DummyPrincipal(user));
      }
    }
    for (    String user : localUserSet) {
      g.removeMember(new DummyPrincipal(user));
    }
  }
 catch (  AuthException e) {
    LOG.error(e,e);
    LOG.warn("Failed to update group " + group + " in "+ accountName,e);
  }
}
