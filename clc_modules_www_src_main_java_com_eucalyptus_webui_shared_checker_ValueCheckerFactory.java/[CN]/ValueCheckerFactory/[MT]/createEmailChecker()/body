{
  return new ValueChecker(){
    @Override public String check(    String value) throws InvalidValueException {
      if (Strings.isNullOrEmpty(value)) {
        throw new InvalidValueException("Email address can not be empty");
      }
      String[] parts=value.split("@");
      if (parts.length < 2 || Strings.isNullOrEmpty(parts[0]) || Strings.isNullOrEmpty(parts[1])) {
        throw new InvalidValueException("Does not look like a valid email address: missing user or host");
      }
      if (value.split("\\s+").length > 1) {
        throw new InvalidValueException("Email address can not have spaces");
      }
      return value;
    }
  }
;
}
