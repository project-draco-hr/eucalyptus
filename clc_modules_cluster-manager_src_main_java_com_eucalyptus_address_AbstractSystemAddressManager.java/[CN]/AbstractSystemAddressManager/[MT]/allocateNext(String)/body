{
  Address addr=Addresses.getInstance().allocateNext(userId);
  LOG.debug("Allocated address for public addressing: " + addr.toString());
  if (addr == null) {
    LOG.debug(LogUtil.header(Addresses.getInstance().toString()));
    throw new NotEnoughResourcesAvailable(ExceptionList.ERR_SYS_INSUFFICIENT_ADDRESS_CAPACITY);
  }
  return addr;
}
