{
  Predicate<Address> predicate=RestrictedTypes.filterPrivileged();
  final Address addr=Addresses.getInstance().enableFirst(predicate).allocate(userId);
  LOG.debug("Allocated address for public addressing: " + addr.toString());
  if (addr == null) {
    LOG.debug(LogUtil.header(Addresses.getInstance().toString()));
    throw new NotEnoughResourcesException(ExceptionList.ERR_SYS_INSUFFICIENT_ADDRESS_CAPACITY);
  }
  return addr;
}
