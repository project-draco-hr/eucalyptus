{
  String ipAddr=null;
  HttpClient httpClient=new HttpClient();
  GetMethod method=new GetMethod("http://128.111.179.143/");
  try {
    httpClient.executeMethod(method);
    String str=method.getResponseBodyAsString();
    Matcher matcher=Pattern.compile(".*your ip is (.*)").matcher(str);
    if (matcher.find()) {
      ipAddr=matcher.group(1);
    }
  }
 catch (  MalformedURLException e) {
    LOG.warn("Malformed URL exception: " + e.getMessage());
    e.printStackTrace();
  }
catch (  IOException e) {
    LOG.warn("I/O exception: " + e.getMessage());
    e.printStackTrace();
  }
 finally {
    method.releaseConnection();
  }
  return ipAddr;
}
