{
  final AutoScalingInstance example=exampleForGroup(group);
  example.setLifecycleState(from);
  final AbstractOwnedPersistents.WorkCallback<Void> transitionCallback=new AbstractOwnedPersistents.WorkCallback<Void>(){
    @Override public Void doWork() throws AutoScalingMetadataException {
      final List<AutoScalingInstance> instances=persistenceSupport.listByExample(example,from,Property.forName("displayName").in(instanceIds),Collections.<String,String>emptyMap());
      CollectionUtils.each(instances,from.transitionTo(to));
      return null;
    }
  }
;
  persistenceSupport.transactionWithRetry(AutoScalingInstance.class,transitionCallback);
}
