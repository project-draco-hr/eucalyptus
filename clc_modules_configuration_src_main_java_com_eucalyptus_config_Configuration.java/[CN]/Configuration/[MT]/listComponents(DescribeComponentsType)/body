{
  DescribeComponentsResponseType reply=(DescribeComponentsResponseType)request.getReply();
  EntityWrapper<ComponentConfiguration> db=Configuration.getEntityWrapper();
  try {
    List<ComponentConfiguration> componentList=db.query(Configuration.getConfigurationInstance(request));
    for (    ComponentConfiguration c : componentList) {
      reply.getRegistered().add(new ComponentInfoType(c.getName(),c.getHostName()));
    }
  }
 catch (  Exception e) {
    LOG.error(e,e);
  }
 finally {
    db.commit();
  }
  return reply;
}
