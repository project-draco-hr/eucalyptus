{
  EntityWrapper<ComponentConfiguration> db=Configuration.getEntityWrapper();
  ComponentConfiguration existingName=null;
  ComponentConfiguration existingHost=null;
  try {
    ComponentConfiguration searchConfig=Configuration.getConfigurationInstance(request,request.getName(),request.getHost(),request.getPort());
    existingName=db.getUnique(searchConfig);
    return true;
  }
 catch (  Exception e) {
    try {
      ComponentConfiguration searchConfig=Configuration.getConfigurationInstance(request);
      searchConfig.setName(request.getName());
      existingName=db.getUnique(searchConfig);
    }
 catch (    Exception e1) {
      try {
        ComponentConfiguration searchConfig=Configuration.getConfigurationInstance(request);
        searchConfig.setHostName(request.getHost());
        existingHost=db.getUnique(searchConfig);
      }
 catch (      Exception e2) {
      }
    }
  }
 finally {
    db.rollback();
  }
  if (existingName != null) {
    throw new EucalyptusCloudException("Component with name=" + request.getName() + " already exists at host="+ existingName.getHostName());
  }
 else   if (existingHost != null) {
    throw new EucalyptusCloudException("Component at host=" + existingHost.getHostName() + " already exists with name="+ request.getName());
  }
  return false;
}
