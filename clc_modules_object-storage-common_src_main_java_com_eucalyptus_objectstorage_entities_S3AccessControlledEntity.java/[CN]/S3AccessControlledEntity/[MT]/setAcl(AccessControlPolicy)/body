{
  AccessControlPolicy policy=msgAcl;
  if (policy.getOwner() != null && this.getOwnerCanonicalId() != null && !StringUtils.equals(policy.getOwner().getID(),this.getOwnerCanonicalId())) {
    throw new RuntimeException("Owner cannot be changed");
  }
 else {
    policy.setOwner(new CanonicalUser(this.getOwnerCanonicalId(),this.getOwnerDisplayName()));
  }
  Map<String,Integer> resultMap=AccessControlPolicyToMap.INSTANCE.apply(policy);
  setAcl(JSONObject.fromObject(resultMap).toString());
  setDecodedAcl(resultMap);
}
