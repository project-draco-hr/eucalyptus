{
  StringBuilder sb=new StringBuilder();
  read.lock();
  for (  MonitoredAction action : MonitoredAction.values()) {
    List<DataPoint> dataList=data.get(action);
    if (dataList == null)     continue;
    sb.append(action.name).append("\n");
    for (    DataPoint p : dataList.subList(dataList.size() > count ? dataList.size() - count : 0,dataList.size()))     sb.append(dateFormat.format(new Date(p.collectionTimeMs))).append("\t").append(p.value).append("\n");
  }
  read.unlock();
  return sb.toString();
}
