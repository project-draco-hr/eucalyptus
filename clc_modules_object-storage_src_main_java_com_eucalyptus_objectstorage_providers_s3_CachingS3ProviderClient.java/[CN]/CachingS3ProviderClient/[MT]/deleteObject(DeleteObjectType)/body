{
  try {
    User requestUser=getRequestUser(request);
    DeleteObjectResponseType reply=(DeleteObjectResponseType)request.getReply();
    reply.setStatus(HttpResponseStatus.NO_CONTENT);
    reply.setStatusMessage("NO CONTENT");
    try {
      AmazonS3Client s3Client=getS3Client(requestUser,request.getAccessKeyID());
      s3Client.deleteObject(request.getBucket(),request.getKey());
    }
 catch (    AmazonServiceException ex) {
      if (ex.getStatusCode() == 404) {
        reply.setStatus(HttpResponseStatus.NO_CONTENT);
        reply.setStatusMessage("NoContent");
      }
 else {
        LOG.error("Got service error from backend: " + ex.getMessage(),ex);
        throw new EucalyptusCloudException(ex);
      }
    }
    return reply;
  }
 catch (  Exception e) {
    LOG.error("Unable to delete object",e);
    throw new EucalyptusCloudException(e);
  }
}
