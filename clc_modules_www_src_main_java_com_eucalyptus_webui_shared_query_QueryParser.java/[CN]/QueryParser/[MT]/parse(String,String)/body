{
  if (type == null) {
    throw new QueryParsingException("Empty type");
  }
  try {
    SearchQuery parsed=new SearchQuery(QueryType.valueOf(type));
    if (!Strings.isNullOrEmpty(query)) {
      for (      String condition : query.split("\\s+")) {
        parseComponents(parsed,condition);
      }
    }
    return parsed;
  }
 catch (  IllegalArgumentException e) {
    throw new QueryParsingException("Can not recognize query type: " + type);
  }
}
