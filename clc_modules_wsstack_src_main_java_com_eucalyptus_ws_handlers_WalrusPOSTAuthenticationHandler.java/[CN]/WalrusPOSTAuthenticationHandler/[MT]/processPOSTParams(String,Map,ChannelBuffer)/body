{
  String message=getMessageString(buffer);
  String[] parts=message.split(boundary);
  for (  String part : parts) {
    Map<String,String> keyMap=getFormField(part,"name");
    Set<String> keys=keyMap.keySet();
    for (    String key : keys) {
      if (WalrusProperties.FormField.file.toString().equals(key)) {
        String contentType=getContentType(formFields,part,boundary);
        if (contentType != null) {
          getFirstChunk(formFields,buffer,contentType,boundary);
        }
      }
      formFields.put(key,keyMap.get(key));
    }
  }
}
