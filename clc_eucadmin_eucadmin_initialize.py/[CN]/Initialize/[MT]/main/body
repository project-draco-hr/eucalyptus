def main(self):
    self.euca_user_name = self.config['EUCA_USER']
    if (self.euca_user_name == 'root'):
        root_data = pwd.getpwnam('root')
        self.euca_user_id = root_data.pw_uid
    else:
        try:
            user_data = pwd.getpwnam(self.euca_user_name)
        except KeyError:
            raise ValueError('Is EUCA_USER defined?')
        self.euca_user_id = user_data.pw_uid
        self.euca_user_group_id = user_data.pw_gid
    db_dir = os.path.join(self.config['EUCALYPTUS'], 'var', 'lib', 'eucalyptus', 'db')
    if os.path.exists(os.path.join(db_dir, 'data/ibdata1')):
        sys.exit(('error: database in %s already exists' % db_dir))
    if self.debug:
        cmd_string = (DebugInitCommand % (self.config['EUCALYPTUS'], self.config['EUCA_USER'], self.config['EUCALYPTUS']))
    else:
        cmd_string = (InitCommand % (self.config['EUCALYPTUS'], self.config['EUCA_USER'], self.config['EUCALYPTUS']))
    self.init_scripts()
    if ('CLOUD_OPTS' in self.config):
        cmd_string += (' %s' % self.config['CLOUD_OPTS'])
    print 'Initializing a new cloud.  This may take a few minutes.'
    cmd = Command(cmd_string)
    if self.debug:
        print ('\tStatus=%d' % cmd.status)
        print '\tOutput:'
        print cmd.stdout
        print cmd.stderr
    if cmd.status:
        print 'Initialize command failed'
    else:
        print 'Initialize command succeeded'
    return cmd.status
