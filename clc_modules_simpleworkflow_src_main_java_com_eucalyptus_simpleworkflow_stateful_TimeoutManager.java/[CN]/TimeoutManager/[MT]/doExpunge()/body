{
  try {
    for (    final WorkflowExecution workflowExecution : workflowExecutions.listRetentionExpired(System.currentTimeMillis(),Functions.<WorkflowExecution>identity())) {
      logger.debug("Removing workflow execution with expired retention period: " + workflowExecution.getDisplayName() + "/"+ workflowExecution.getWorkflowId());
      workflowExecutions.deleteByExample(workflowExecution);
    }
  }
 catch (  final SwfMetadataException e) {
    logger.error("Error processing workflow execution retention expiry",e);
  }
}
