{
  ReportArtEntity report=new ReportArtEntity(1000l,2000l);
  InstanceArtGenerator generator=new InstanceArtGenerator();
  generator.generateReportArt(report);
  AvailabilityZoneArtEntity zone=report.getZones().get("zone0");
  if (zone == null) {
    throw new IllegalStateException("zone0 not found");
  }
  InstanceUsageArtEntity zoneUsage=zone.getUsageTotals().getInstanceTotals();
  checkDiskInMetric("Zone Totals",zoneUsage,2000d * NUM_USER_TEST);
  AccountArtEntity account=zone.getAccounts().get("acc-0");
  if (account == null) {
    throw new IllegalStateException("acc-0 not found");
  }
  Map<String,UserArtEntity> users=account.getUsers();
  for (int i=0; i < NUM_USER_TEST; i++) {
    String userId="user-" + i;
    UserArtEntity user=users.get(userId);
    if (user == null) {
      throw new IllegalStateException("user" + userId + " not found");
    }
    InstanceUsageArtEntity userUsage=user.getUsageTotals().getInstanceTotals();
    checkDiskInMetric("User Totals",userUsage,2000d);
    for (    String uuid : user.getInstances().keySet()) {
      InstanceUsageArtEntity usage=user.getInstances().get(uuid).getUsage();
      if (uuid.startsWith("a")) {
        checkDiskInMetric("Instance A",usage,700d);
      }
 else       if (uuid.startsWith("b")) {
        checkDiskInMetric("Instance B",usage,1300d);
      }
    }
  }
}
