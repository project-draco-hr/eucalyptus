{
  if (!this.inFlightMessage.compareAndSet(false,true)) {
    LOG.trace(EventRecord.caller(AbstractClusterMessageDispatcher.class,EventType.MSG_REJECTED,LogUtil.dumpObject(o)));
    return;
  }
 else {
    ChannelFuture channelConnectFuture=this.clientBootstrap.connect(this.remoteAddr);
    final HttpRequest request=new MappingHttpRequest(HttpVersion.HTTP_1_1,HttpMethod.POST,this.hostName,this.port,this.servicePath,o);
    channelConnectFuture.addListener(ChannelFutureListener.CLOSE_ON_FAILURE);
    channelConnectFuture.addListener(ChannelUtil.WRITE_AND_CALLBACK(request,new ChannelFutureListener(){
      @Override public void operationComplete(      ChannelFuture future) throws Exception {
        LOG.info(EventRecord.here(o.getClass(),EventType.MSG_SENT,LogUtil.dumpObject(o)));
      }
    }
));
  }
}
