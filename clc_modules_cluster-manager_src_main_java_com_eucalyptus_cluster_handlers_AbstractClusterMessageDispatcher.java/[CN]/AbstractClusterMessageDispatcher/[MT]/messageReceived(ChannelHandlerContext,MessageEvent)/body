{
  try {
    if (e.getMessage() instanceof MappingHttpResponse) {
      MappingHttpResponse response=(MappingHttpResponse)((MessageEvent)e).getMessage();
      if (HttpResponseStatus.OK.equals(response.getStatus())) {
        this.upstreamMessage(ctx,(MessageEvent)e);
      }
 else {
        throw new EucalyptusClusterException(response.getMessageString());
      }
    }
  }
  finally {
    this.clearPending(ctx.getChannel());
  }
  super.messageReceived(ctx,e);
}
