{
  try {
    if (e.getMessage() instanceof MappingHttpResponse) {
      MappingHttpResponse response=(MappingHttpResponse)((MessageEvent)e).getMessage();
      if (HttpResponseStatus.OK.equals(response.getStatus())) {
        if (!(response.getMessage() instanceof GetKeysResponseType)) {
          LOG.info(EventRecord.here(response.getMessage().getClass(),EventType.MSG_SENT,LogUtil.dumpObject(response.getMessage())));
        }
        this.upstreamMessage(ctx,(MessageEvent)e);
      }
 else {
        throw new EucalyptusClusterException(response.getMessageString());
      }
    }
  }
  finally {
    this.clearPending(ctx.getChannel());
  }
  super.messageReceived(ctx,e);
}
