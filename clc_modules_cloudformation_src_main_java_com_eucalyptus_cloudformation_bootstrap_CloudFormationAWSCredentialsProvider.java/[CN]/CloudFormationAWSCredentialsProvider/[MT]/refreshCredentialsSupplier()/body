{
  Supplier<AWSCredentials> basicSupplier=new Supplier<AWSCredentials>(){
    @Override public AWSCredentials get(){
      try {
        Account account=Accounts.lookupAccountByName(Account.CLOUDFORMATION_SYSTEM_ACCOUNT);
        User admin=account.lookupAdmin();
        SecurityToken securityToken=SecurityTokenManager.issueSecurityToken(admin,EXPIRATION_SECS);
        return new BasicSessionCredentials(securityToken.getAccessKeyId(),securityToken.getSecretKey(),securityToken.getToken());
      }
 catch (      AuthException e) {
        LOG.error(e);
        return null;
      }
    }
  }
;
  return Suppliers.memoizeWithExpiration(basicSupplier,EXPIRATION_SECS,TimeUnit.SECONDS);
}
