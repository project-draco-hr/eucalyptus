{
  return Suppliers.memoizeWithExpiration(new Supplier<AWSCredentials>(){
    @Override public AWSCredentials get(){
      try {
        final Account account=Accounts.lookupAccountByName(Account.CLOUDFORMATION_SYSTEM_ACCOUNT);
        final SecurityToken securityToken=SecurityTokenManager.issueSecurityToken(account.lookupAdmin(),EXPIRATION_SECS);
        return new BasicSessionCredentials(securityToken.getAccessKeyId(),securityToken.getSecretKey(),securityToken.getToken());
      }
 catch (      final AuthException e) {
        throw Exceptions.toUndeclared(e);
      }
    }
  }
,EXPIRATION_SECS - PRE_EXIPRY,TimeUnit.SECONDS);
}
