{
  if (started) {
    for (    QueueIdentifier identifier : senders.keySet()) {
      senders.get(identifier).shutdown();
    }
    for (    QueueIdentifier identifier : receivers.keySet()) {
      receivers.get(identifier).shutdown();
    }
    this.broker.shutdown();
    log.info("QueueFactory stopped");
  }
 else {
    log.warn("QueueFactory.shutdown called when not started");
  }
}
