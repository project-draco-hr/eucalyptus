{
  try {
    NavigableSet<ServiceConfiguration> configs=Components.lookup(ClusterController.class).services();
    for (    ServiceConfiguration c : configs) {
      if (input.getField(2).equals(c.getPartition())) {
        deserializeClusterConfiguration(c,input);
        try (final TransactionResource db=Entities.transactionFor(ComponentConfiguration.class)){
          Entities.mergeDirect(c);
          db.commit();
        }
       }
    }
  }
 catch (  Exception e) {
    LOG.error("Failed to set cluster configuration");
    LOG.debug(e,e);
    throw new EucalyptusServiceException("Failed to set cluster configuration",e);
  }
}
