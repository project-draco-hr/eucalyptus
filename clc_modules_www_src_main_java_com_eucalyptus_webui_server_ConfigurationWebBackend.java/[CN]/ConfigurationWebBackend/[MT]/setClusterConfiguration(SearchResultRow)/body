{
  try {
    NavigableSet<ServiceConfiguration> configs=Components.lookup(ClusterController.class).services();
    for (    ServiceConfiguration c : configs) {
      if (input.getField(2).equals(c.getPartition())) {
        deserializeClusterConfiguration(c,input);
        EntityWrapper.get(c).mergeAndCommit(c);
      }
    }
  }
 catch (  Exception e) {
    LOG.error("Failed to set cluster configuration");
    LOG.debug(e,e);
    throw new EucalyptusServiceException("Failed to set cluster configuration",e);
  }
}
