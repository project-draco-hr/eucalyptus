{
  List<SearchResultRow> results=new ArrayList<SearchResultRow>();
  try {
    for (    ServiceConfiguration c : ServiceConfigurations.list(Walrus.class)) {
      GetWalrusConfigurationType getWalrusConfiguration=new GetWalrusConfigurationType(WalrusProperties.NAME);
      Dispatcher scDispatch=ServiceDispatcher.lookupSingle(Components.lookup(WALRUS_NAME));
      GetWalrusConfigurationResponseType getWalrusConfigResponse=scDispatch.send(getWalrusConfiguration);
      results.add(createStorageConfiguration(WALRUS_TYPE,c.getName(),c.getPartition(),c.getHostName(),c.getPort(),getWalrusConfigResponse.getProperties(),c.lookupState().toString()));
    }
  }
 catch (  Exception ex) {
    LOG.error("Failed to retrieve walrus configuration",ex);
    LOG.debug(ex,ex);
  }
  return results;
}
