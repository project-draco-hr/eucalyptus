{
  ArrayList<ComponentProperty> properties=Lists.newArrayList();
  deserializeComponentProperties(properties,input,COMMON_FIELD_DESCS.size());
  NavigableSet<ServiceConfiguration> configs=Components.lookup(Walrus.class).services();
  for (  ServiceConfiguration c : configs) {
    if (input.getField(2).equals(c.getPartition()) && Component.State.ENABLED.equals(c.lookupState())) {
      UpdateWalrusConfigurationType updateWalrusConfiguration=new UpdateWalrusConfigurationType();
      updateWalrusConfiguration.setName(c.getPartition());
      updateWalrusConfiguration.setProperties(properties);
      Dispatcher scDispatch=ServiceDispatcher.lookup(c);
      try {
        scDispatch.send(updateWalrusConfiguration);
      }
 catch (      Exception e) {
        LOG.error("Failed to set Walrus configuration",e);
        LOG.debug(e,e);
        throw new EucalyptusServiceException("Failed to set Walrus configuration",e);
      }
    }
  }
}
