{
  if (!Contexts.lookup().hasAdministrativePrivileges()) {
    throw new EucalyptusCloudException("You are not authorized to interact with this service.");
  }
  ModifyPropertyValueResponseType reply=request.getReply();
  try {
    ConfigurableProperty entry=PropertyDirectory.getPropertyEntry(request.getName());
    String oldValue="********";
    if (!entry.getWidgetType().equals(ConfigurableFieldType.KEYVALUEHIDDEN))     oldValue=entry.getValue();
    reply.setOldValue(oldValue);
    try {
      entry.setValue(request.getValue());
    }
 catch (    Exception e) {
      entry.setValue(oldValue);
    }
    ConfigurationProperties.store(entry.getEntrySetName());
    reply.setValue(entry.getValue());
    reply.setName(request.getName());
  }
 catch (  IllegalAccessException e) {
    throw new EucalyptusCloudException("Failed to set property: " + e.getMessage());
  }
  return reply;
}
