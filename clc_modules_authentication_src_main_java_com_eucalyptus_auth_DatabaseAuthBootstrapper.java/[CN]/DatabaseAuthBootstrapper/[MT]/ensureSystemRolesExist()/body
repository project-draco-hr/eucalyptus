{
  try {
    final Account account=Accounts.lookupAccountByName(Account.SYSTEM_ACCOUNT);
    final List<Role> roles=account.getRoles();
    final List<String> roleNames=Lists.transform(roles,RestrictedTypes.toDisplayName());
    for (    final SystemRoleProvider provider : ServiceLoader.load(SystemRoleProvider.class)) {
      if (!roleNames.contains(provider.getName())) {
        addSystemRole(account,provider);
      }
    }
  }
 catch (  Exception e) {
    LOG.error("Error checking system roles.",e);
  }
}
