{
  Class msgClass=this.getClass();
  while (!msgClass.getSimpleName().endsWith("Type")) {
    msgClass=msgClass.getSuperclass();
  }
  TYPE reply=null;
  String replyType=msgClass.getName().replaceAll("Type","") + "ResponseType";
  try {
    Class responseClass=ClassLoader.getSystemClassLoader().loadClass(replyType);
    reply=(TYPE)responseClass.newInstance();
    reply.setCorrelationId(this.getCorrelationId());
  }
 catch (  Exception e) {
    Logger.getLogger(BaseMessage.class).debug(e,e);
    throw new TypeNotPresentException(this.correlationId,e);
  }
  return reply;
}
