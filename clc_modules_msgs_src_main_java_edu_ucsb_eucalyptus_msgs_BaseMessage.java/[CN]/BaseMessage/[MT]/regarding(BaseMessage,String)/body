{
  String corrId=null;
  if (msg == null) {
    this.correlationId=UUID.randomUUID().toString();
  }
 else {
    corrId=msg.correlationId;
  }
  if (subCorrelationId == null) {
    subCorrelationId=String.format("%f",Math.random()).substring(2);
  }
  this.userId=Principals.systemFullName().getUserName();
  this.effectiveUserId=Principals.systemFullName().getUserName();
  this.correlationId=corrId + "-" + subCorrelationId;
  return (TYPE)this;
}
