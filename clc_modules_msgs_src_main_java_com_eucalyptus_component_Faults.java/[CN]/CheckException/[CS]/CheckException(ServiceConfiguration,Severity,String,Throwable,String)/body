{
  super(message != null ? message : (cause != null ? cause.getMessage() : Threads.currentStackRange(1,5)));
  if (cause instanceof CheckException) {
    this.setStackTrace(cause.getStackTrace());
  }
 else   if (cause != null) {
    this.initCause(cause);
  }
  this.severity=severity;
  this.serviceName=config.getName();
  this.correlationId=(correlationId == null ? UUID.randomUUID().toString() : correlationId);
  this.timestamp=new Date();
  this.eventState=config.lookupState();
  this.eventEpoch=Topology.epoch();
  this.stackString=Exceptions.string(this);
}
