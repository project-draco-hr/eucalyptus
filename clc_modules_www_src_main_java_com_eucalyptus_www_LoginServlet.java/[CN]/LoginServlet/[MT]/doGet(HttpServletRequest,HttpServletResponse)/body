{
  final String adminPw=req.getParameter("adminPw");
  if (adminPw == null) {
    throw new ServletException("Required param adminPw was not provided");
  }
  String sessionId;
  try {
    sessionId=(new EucalyptusServiceImpl()).login(Account.SYSTEM_ACCOUNT,User.ACCOUNT_ADMIN,adminPw).getId();
  }
 catch (  EucalyptusServiceException e) {
    LOG.error(e);
    throw new ServletException("Incorrect admin password");
  }
  Writer writer=null;
  try {
    writer=new OutputStreamWriter(res.getOutputStream());
    writer.write(sessionId);
  }
  finally {
    if (writer != null)     writer.close();
  }
}
