{
  String canonicalId=Accounts.lookupAccountById(accountId).getCanonicalId();
  try {
    List<Bucket> bucketList=BucketMetadataManagers.getInstance().lookupBucketsByOwner(canonicalId);
    long size=0;
    for (    Bucket b : bucketList) {
      size+=b.getBucketSize();
    }
    return size;
  }
 catch (  Exception e) {
    throw new AuthException("Failed to search bucket",e);
  }
}
