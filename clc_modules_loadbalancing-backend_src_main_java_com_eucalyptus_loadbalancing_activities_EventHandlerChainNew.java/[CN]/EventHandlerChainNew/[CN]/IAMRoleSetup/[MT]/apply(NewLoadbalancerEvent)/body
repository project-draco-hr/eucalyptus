{
  final String roleName=String.format("%s-%s-%s",ROLE_NAME_PREFIX,evt.getContext().getAccount().getAccountNumber(),evt.getLoadBalancer());
  try {
    List<RoleType> result=EucalyptusActivityTasks.getInstance().listRoles(DEFAULT_ROLE_PATH_PREFIX);
    if (result != null) {
      for (      RoleType r : result) {
        if (roleName.equals(r.getRoleName())) {
          role=r;
          break;
        }
      }
    }
  }
 catch (  Exception ex) {
    throw new EventHandlerException("Failed to list IAM roles",ex);
  }
  if (role == null) {
    try {
      role=EucalyptusActivityTasks.getInstance().createRole(roleName,DEFAULT_ROLE_PATH_PREFIX,DEFAULT_ASSUME_ROLE_POLICY);
    }
 catch (    Exception ex) {
      throw new EventHandlerException("Failed to create the role for ELB Vms");
    }
  }
  if (role == null)   throw new EventHandlerException("No role is found for LoadBalancer Vms");
}
