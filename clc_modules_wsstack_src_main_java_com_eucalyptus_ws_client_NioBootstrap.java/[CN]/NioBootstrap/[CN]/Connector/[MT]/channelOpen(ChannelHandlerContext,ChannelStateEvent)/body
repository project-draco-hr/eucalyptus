{
  try {
    event.getChannel().getConfig().setOptions(bootstrap.getOptions());
    event.getChannel().getConfig().setConnectTimeoutMillis(3000);
    event.getChannel().getConfig().setWriteTimeoutMillis(60000);
  }
  finally {
    context.sendUpstream(event);
  }
  if (localAddress != null) {
    event.getChannel().bind(localAddress);
  }
 else {
    finished=futureQueue.offer(event.getChannel().connect(remoteAddress));
    assert finished;
  }
}
