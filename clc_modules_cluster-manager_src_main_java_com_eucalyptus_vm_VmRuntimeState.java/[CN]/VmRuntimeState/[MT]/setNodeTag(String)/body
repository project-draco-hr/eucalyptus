{
  final String host=URI.create(serviceTag2).getHost();
  final VmInstance vm=VmRuntimeState.this.getVmInstance();
  final CreateTagsType createTags=new CreateTagsType(){
{
      this.getTagSet().add(new ResourceTag(VM_NC_HOST_TAG,host));
      this.getResourcesSet().add(vm.getInstanceId());
      try {
        this.setUserId(Accounts.lookupSystemAdmin().getUserId());
        this.markPrivileged();
      }
 catch (      AuthException ex) {
        LOG.error(ex);
      }
    }
  }
;
  try {
    AsyncRequests.dispatch(Topology.lookup(Eucalyptus.class),createTags);
  }
 catch (  Exception ex) {
    LOG.error(ex);
  }
}
