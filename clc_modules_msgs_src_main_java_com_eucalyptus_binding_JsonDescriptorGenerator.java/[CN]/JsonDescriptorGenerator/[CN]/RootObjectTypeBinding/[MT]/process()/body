{
  if (this.requestInfo.getRequest() == null || this.requestInfo.getResponse() == null || this.requestInfo.getRequest().getCanonicalName() == null) {
    new RuntimeException("Ignoring anonymous class: " + this.requestInfo.getRequest()).printStackTrace();
  }
 else {
    JsonDescriptorGenerator.request=true;
    this.beginElem();
    this.attr("schema-version","0.1");
    this.attr("service-version","\"http://msgs.eucalyptus.com/\"");
    this.attr("name",makeJSONName(this.requestInfo.getRequest().getSimpleName().replaceAll("Type\\Z","")));
    this.beginList("parameters");
    for (    Field f : getRecursiveFields(this.requestInfo.getParent(),this.requestInfo.getRequest())) {
      TypeBinding tb=getTypeBinding(f);
      if (!(tb instanceof NoopTypeBinding)) {
        this.append(tb.toString());
      }
    }
    this.endList();
    JsonDescriptorGenerator.indent=2;
    JsonDescriptorGenerator.request=false;
    this.beginList("response");
    List<Field> responseFields=getRecursiveFields(this.requestInfo.getParent(),this.requestInfo.getResponse());
    try {
      responseFields.add(BindingGenerator.MSG_TYPE.getDeclaredField("_return"));
      responseFields.add(BindingGenerator.MSG_TYPE.getDeclaredField("correlationId"));
    }
 catch (    SecurityException ex) {
      LOG.error(ex,ex);
    }
catch (    NoSuchFieldException ex) {
      LOG.error(ex,ex);
    }
    for (    Field f : responseFields) {
      TypeBinding tb=getTypeBinding(f);
      if (!(tb instanceof NoopTypeBinding)) {
        System.out.printf("JSONIZE:  %-70s [type=%s:%s]\n",f.getDeclaringClass().getCanonicalName() + "." + f.getName(),tb.getTypeName(),f.getType().getCanonicalName());
        this.append(tb.toString());
      }
    }
    this.endList();
    this.endFile();
    JsonDescriptorGenerator.request=true;
  }
  return this.toString();
}
