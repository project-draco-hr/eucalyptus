{
  List<NetworkInterface> interfaces=Lists.newArrayList();
  try {
    Enumeration<NetworkInterface> ifaces=NetworkInterface.getNetworkInterfaces();
    while (ifaces.hasMoreElements()) {
      NetworkInterface iface=ifaces.nextElement();
      interfaces.add(iface);
    }
    interfaces=ImmutableList.copyOf(interfaces);
    return interfaces;
  }
 catch (  SocketException ex) {
    LOG.error(ex,ex);
    throw new RuntimeException("Getting list of network interfaces failed because of " + ex.getMessage(),ex);
  }
}
