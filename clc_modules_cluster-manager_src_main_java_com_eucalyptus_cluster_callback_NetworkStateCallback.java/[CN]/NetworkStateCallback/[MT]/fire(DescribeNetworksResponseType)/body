{
  try {
    Transactions.one(this.getSubject().getConfiguration(),new Callback<ClusterConfiguration>(){
      @Override public void fire(      ClusterConfiguration input){
        input.setNetworkMode(reply.getMode());
        input.setUseNetworkTags(reply.getUseVlans() == 1);
        input.setMinNetworkTag(reply.getVlanMin());
        input.setMaxNetworkTag(reply.getVlanMax());
        input.setAddressesPerNetwork(reply.getAddrsPerNet());
        input.setVnetNetmask(reply.getVnetNetmask());
        input.setVnetSubnet(reply.getVnetSubnet());
      }
    }
);
  }
 catch (  TransactionException ex) {
    LOG.error(ex,ex);
  }
}
