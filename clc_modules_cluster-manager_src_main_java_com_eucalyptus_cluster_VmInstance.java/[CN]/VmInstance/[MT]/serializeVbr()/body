{
  super.setState(this.runtimeState.getReference());
  final StringWriter sw=new StringWriter();
  if (this.vbr != null) {
    try {
      final IBindingFactory bindingFactory=BindingDirectory.getFactory(BindingManager.defaultBindingNamespace(),this.vbr.getClass());
      final IMarshallingContext mctx=bindingFactory.createMarshallingContext();
      mctx.setIndent(2);
      mctx.marshalDocument(this,"UTF-8",null,sw);
      this.vbrString=sw.toString();
    }
 catch (    final JiBXException ex) {
      LOG.error(ex,ex);
      this.vbrString=null;
    }
  }
 else {
    this.vbrString=null;
  }
}
