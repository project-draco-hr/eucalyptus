{
  for (  AttachedVolume vol : newVolumes) {
    vol.setInstanceId(this.getInstanceId());
    vol.setStatus("attached");
  }
  Set<AttachedVolume> oldVolumes=Sets.newHashSet(this.getVolumes());
  this.volumes.addAll(volumes);
  this.volumes.retainAll(newVolumes);
  for (  AttachedVolume v : oldVolumes) {
    if ("attaching".equals(v.getStatus()) && !this.volumes.contains(v)) {
      this.volumes.add(v);
    }
  }
}
