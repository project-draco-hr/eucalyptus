{
  super(owner,instanceId);
  this.imageId=bootSet.getMachine().getDisplayName();
  this.kernelId=bootSet.getKernel().getDisplayName();
  this.ramdiskId=bootSet.getRamdisk().getDisplayName();
  this.vbrString=getVbrAsString(bootSet,vmType);
  this.privateNetwork=Boolean.FALSE;
  this.launchTime=new Date();
  this.blockBytes=0l;
  this.networkBytes=0l;
  this.reservationId=reservationId;
  this.launchIndex=launchIndex;
  this.instanceId=instanceId;
  ServiceConfiguration config=lookupServiceConfiguration(placement);
  this.clusterName=config == null ? placement : config.getName();
  this.partitionName=config == null ? placement : config.getPartition();
  this.userData=userData;
  this.sshKeyPair=KeyPairs.noKey().equals(sshKeyPair) || (sshKeyPair == null) ? null : sshKeyPair;
  this.vmType=vmType;
  this.networkIndex=networkIndex.get();
  this.networkConfig.setMacAddress("d0:0d:" + VmInstances.asMacAddress(this.instanceId));
  this.networkConfig.setIpAddress(DEFAULT_IP);
  this.networkConfig.setIgnoredPublicIp(DEFAULT_IP);
  this.networkConfig.setPrivateDnsName(DEFAULT_IP);
  this.networkConfig.setPublicDnsName(DEFAULT_IP);
  this.updateDns();
  this.store();
}
