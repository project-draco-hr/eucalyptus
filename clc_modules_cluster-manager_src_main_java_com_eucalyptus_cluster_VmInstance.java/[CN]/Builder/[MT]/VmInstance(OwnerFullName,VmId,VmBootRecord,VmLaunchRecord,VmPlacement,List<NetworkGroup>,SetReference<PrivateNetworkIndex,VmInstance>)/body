{
  super(owner,vmId.getInstanceId());
  this.setState(VmState.PENDING);
  this.vmId=vmId;
  this.bootRecord=bootRecord;
  this.launchRecord=launchRecord;
  this.placement=placement;
  this.privateNetwork=Boolean.FALSE;
  this.usageStats=new VmUsageStats(this);
  this.networkIndex=null;
  Function<NetworkGroup,NetworkGroup> func=Entities.merge();
  this.networkGroups.addAll(Collections2.transform(networkRulesGroups,func));
  this.runtimeState=new VmRuntimeState(this);
  this.networkConfig=new VmNetworkConfig(this);
  this.store();
}
