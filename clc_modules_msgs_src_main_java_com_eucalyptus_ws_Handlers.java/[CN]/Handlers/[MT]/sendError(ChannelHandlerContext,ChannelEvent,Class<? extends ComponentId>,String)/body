{
  e.getFuture().cancel();
  HttpResponse response=null;
  if (!Topology.enabledServices(compClass).isEmpty()) {
    response=new DefaultHttpResponse(HttpVersion.HTTP_1_1,HttpResponseStatus.TEMPORARY_REDIRECT);
    final URI serviceUri=ServiceUris.remote(Topology.lookup(compClass));
    final String redirectUri=serviceUri.toASCIIString() + originalPath.replace(serviceUri.getPath(),"");
    response.setHeader(HttpHeaders.Names.LOCATION,redirectUri);
  }
 else {
    response=new DefaultHttpResponse(HttpVersion.HTTP_1_1,HttpResponseStatus.NOT_FOUND);
  }
  final ChannelFuture writeFuture=Channels.future(ctx.getChannel());
  writeFuture.addListener(ChannelFutureListener.CLOSE);
  if (ctx.getChannel().isConnected()) {
    Channels.write(ctx,writeFuture,response);
  }
}
