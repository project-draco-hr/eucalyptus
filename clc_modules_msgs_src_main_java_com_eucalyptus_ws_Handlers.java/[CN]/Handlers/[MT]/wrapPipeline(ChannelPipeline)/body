{
  if (StackConfiguration.STATISTICS) {
    Map.Entry<String,ChannelHandler> last=null;
    ChannelPipeline newPipeline=Channels.pipeline();
    for (    Map.Entry<String,ChannelHandler> entry : pipeline.toMap().entrySet()) {
      if (last == null) {
        last=entry;
      }
 else {
        newPipeline.addLast("timer-" + last.getKey(),new LoggingHandler(last.getValue(),entry.getValue()));
      }
      newPipeline.addLast(entry.getKey(),entry.getValue());
    }
    return newPipeline;
  }
 else {
    return pipeline;
  }
}
