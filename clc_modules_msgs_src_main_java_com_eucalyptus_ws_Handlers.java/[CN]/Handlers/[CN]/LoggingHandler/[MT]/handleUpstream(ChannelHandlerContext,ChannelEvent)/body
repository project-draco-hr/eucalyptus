{
  if (e instanceof MessageEvent) {
    Timers.loggingWrapper(new Callable(){
      @Override public Object call() throws Exception {
        if (LoggingHandler.this.upstream != null) {
          LoggingHandler.this.upstream.handleUpstream(ctx,e);
        }
        return e;
      }
    }
).call();
  }
 else {
    if (LoggingHandler.this.upstream != null) {
      LoggingHandler.this.upstream.handleUpstream(ctx,e);
    }
 else {
      ctx.sendUpstream(e);
    }
  }
}
