{
  DescribeVolumesResponseType reply=(DescribeVolumesResponseType)request.getReply();
  EntityWrapper<Volume> db=getEntityWrapper();
  String userName=request.isAdministrator() ? null : request.getUserId();
  List<Volume> volumes=db.query(new Volume(userName,null));
  for (  Volume v : volumes) {
    if (request.getVolumeSet().isEmpty() || request.getVolumeSet().contains(v.getDisplayName())) {
      reply.getVolumeSet().add(v.morph(new edu.ucsb.eucalyptus.msgs.Volume()));
    }
  }
  return reply;
}
