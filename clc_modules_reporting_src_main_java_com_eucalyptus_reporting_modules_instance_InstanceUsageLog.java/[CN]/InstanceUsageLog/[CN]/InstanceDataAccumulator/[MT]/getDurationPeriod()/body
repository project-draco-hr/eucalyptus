{
  long truncatedBeginMs=Math.max(period.getBeginningMs(),firstSnapshot.getTimestampMs());
  long truncatedEndMs=Math.min(period.getEndingMs(),lastSnapshot.getTimestampMs());
  return new Period(truncatedBeginMs,truncatedEndMs);
}
