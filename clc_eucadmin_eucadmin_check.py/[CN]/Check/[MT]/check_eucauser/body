def check_eucauser(self):
    self.euca_user_name = self.config['EUCA_USER']
    root_data = pwd.getpwnam('root')
    if ((self.euca_user_name is None) or (self.euca_user_name == 'root')):
        self.messages.append('Running eucalyptus as root')
        self.euca_user_id = root_data.pw_uid
        self.euca_group_id = root_data.pw_gid
    else:
        try:
            user_data = pwd.getpwnam(self.euca_user_name)
            self.euca_user_id = user_data.pw_uid
            self.euca_user_group_id = user_data.pw_gid
        except KeyError:
            msg = ('User %s does not exist' % self.euca_user_name)
            self.issues.append(msg)
            self.status = 1
