{
  if (null != dbPools) {
    for (    DBPoolInfo dbPool : this.dbPools) {
      try {
        if (dbPool.getMaximumConnections() - dbPool.getActiveConnections() < dbPool.getMinimumFreeConnections()) {
          if (!this.alreadyFaulted.contains(dbPool)) {
            FaultSubsystem.forComponent(this.componentIdClass).havingId(OUT_OF_DB_CONNECTIONS_FAULT_ID).withVar("component",this.componentIdClass.getName()).withVar("alias",dbPool.getAlias()).log();
            this.alreadyFaulted.add(dbPool);
          }
 else {
          }
        }
 else {
          this.alreadyFaulted.remove(dbPool);
        }
      }
 catch (      Exception ex) {
        LOG.error("db resource check failed for " + dbPool.getAlias(),ex);
      }
    }
  }
 else {
  }
}
