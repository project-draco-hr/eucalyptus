{
  super();
  LoadingCache<K,V> map=CacheBuilder.newBuilder().build(CacheLoader.from(getFunction));
  this.backingMap=map.asMap();
  Class valueType=Classes.genericsToClasses(getFunction).get(1);
  this.getFunction=Entities.asTransaction(getFunction);
  this.putFunction=Entities.asTransaction(valueType,new Persister<V>());
  this.removeFunction=Entities.asTransaction(valueType,new Deleter<V>());
}
