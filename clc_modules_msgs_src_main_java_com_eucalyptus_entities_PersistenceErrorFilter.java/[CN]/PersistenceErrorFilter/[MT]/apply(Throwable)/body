{
  final SortedSet<ErrorCategory> results=Sets.newTreeSet();
  for (  final Class<?> p : Classes.classAncestors(input)) {
    for (    final ErrorCategory category : ErrorCategory.values()) {
      if (errorCategorization.get(category).contains(p)) {
        if (category.isRecoverable()) {
          return category;
        }
 else {
          results.add(category);
        }
      }
    }
  }
  if (results.isEmpty()) {
    return ErrorCategory.APPLICATION;
  }
 else {
    return results.first();
  }
}
