{
  try {
    snapshotOps.uploadSnapshot(snapshotId,bucket,key,snapshotFileName);
  }
 catch (  Exception ex) {
    try {
      LOG.debug("Deleting snapshot from objectstorage after failed upload of " + snapshotId);
      snapshotOps.deleteSnapshot(bucket,key);
    }
 catch (    Exception iex) {
      LOG.debug("Failed to delete snapshot " + snapshotId + " from objectstorage",iex);
    }
    throw ex;
  }
}
