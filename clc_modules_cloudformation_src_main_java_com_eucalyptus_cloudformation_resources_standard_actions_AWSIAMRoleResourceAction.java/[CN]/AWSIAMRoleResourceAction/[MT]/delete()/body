{
  if (info.getPhysicalResourceId() == null)   return;
  ServiceConfiguration configuration=Topology.lookup(Euare.class);
  boolean seenAllRoles=false;
  boolean foundRole=false;
  String RoleMarker=null;
  while (!seenAllRoles && !foundRole) {
    ListRolesType listRolesType=new ListRolesType();
    listRolesType.setEffectiveUserId(info.getEffectiveUserId());
    if (RoleMarker != null) {
      listRolesType.setMarker(RoleMarker);
    }
    ListRolesResponseType listRolesResponseType=AsyncRequests.<ListRolesType,ListRolesResponseType>sendSync(configuration,listRolesType);
    if (listRolesResponseType.getListRolesResult().getIsTruncated() == Boolean.TRUE) {
      RoleMarker=listRolesResponseType.getListRolesResult().getMarker();
    }
 else {
      seenAllRoles=true;
    }
    if (listRolesResponseType.getListRolesResult().getRoles() != null && listRolesResponseType.getListRolesResult().getRoles().getMember() != null) {
      for (      RoleType roleType : listRolesResponseType.getListRolesResult().getRoles().getMember()) {
        if (roleType.getRoleName().equals(info.getPhysicalResourceId())) {
          foundRole=true;
          break;
        }
      }
    }
  }
  if (!foundRole)   return;
  if (properties.getPolicies() != null) {
    for (    EmbeddedIAMPolicy policy : properties.getPolicies()) {
      DeleteRolePolicyType deleteRolePolicyType=new DeleteRolePolicyType();
      deleteRolePolicyType.setRoleName(info.getPhysicalResourceId());
      deleteRolePolicyType.setPolicyName(policy.getPolicyName());
      deleteRolePolicyType.setEffectiveUserId(info.getEffectiveUserId());
      AsyncRequests.<DeleteRolePolicyType,DeleteRolePolicyResponseType>sendSync(configuration,deleteRolePolicyType);
    }
  }
  DeleteRoleType deleteRoleType=new DeleteRoleType();
  deleteRoleType.setRoleName(info.getPhysicalResourceId());
  deleteRoleType.setEffectiveUserId(info.getEffectiveUserId());
  AsyncRequests.<DeleteRoleType,DeleteRoleResponseType>sendSync(configuration,deleteRoleType);
}
