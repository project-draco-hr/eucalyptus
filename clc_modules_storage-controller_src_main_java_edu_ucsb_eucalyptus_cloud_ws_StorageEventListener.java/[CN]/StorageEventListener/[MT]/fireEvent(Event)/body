{
  if (event instanceof StopComponentEvent) {
    StopComponentEvent stopComponentEvent=(StopComponentEvent)event;
    ComponentConfiguration config=stopComponentEvent.getConfiguration();
    StorageInfo storageInfo=new StorageInfo();
    String name=StorageProperties.SC_LOCAL_NAME;
    if (!stopComponentEvent.isLocal())     name=config.getName();
    storageInfo.setName(name);
    EntityWrapper<StorageInfo> db=BlockStorage.getEntityWrapper();
    try {
      StorageInfo foundStorageInfo=db.getUnique(storageInfo);
      db.delete(foundStorageInfo);
      db.commit();
    }
 catch (    EucalyptusCloudException ex) {
      db.rollback();
      LOG.error(ex);
    }
  }
}
