{
  if (event instanceof StartComponentEvent) {
    StartComponentEvent startComponentEvent=(StartComponentEvent)event;
    ServiceConfiguration config=startComponentEvent.getConfiguration();
    StorageProperties.updateStorageHost(config.getHostName());
  }
 else   if (event instanceof StopComponentEvent) {
    StopComponentEvent stopComponentEvent=(StopComponentEvent)event;
    ServiceConfiguration config=stopComponentEvent.getConfiguration();
    StorageInfo storageInfo=new StorageInfo();
    String name=StorageProperties.SC_LOCAL_NAME;
    if (!stopComponentEvent.isLocal())     name=config.getName();
    storageInfo.setName(name);
    EntityWrapper<StorageInfo> db=StorageController.getEntityWrapper();
    try {
      StorageInfo foundStorageInfo=db.getUnique(storageInfo);
      db.delete(foundStorageInfo);
      db.commit();
    }
 catch (    EucalyptusCloudException ex) {
      db.rollback();
      LOG.error(ex);
    }
  }
}
