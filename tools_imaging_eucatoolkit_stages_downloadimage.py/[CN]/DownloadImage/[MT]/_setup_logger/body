def _setup_logger(self):
    self.log = logging.getLogger(self.__class__.__name__)
    loglevel = (str(self.args.loglevel).upper() or 'WARNING')
    fmt = logging.Formatter((('%(asctime)s-%(levelname)s:%(name)s(' + str(os.getpid())) + '): %(message)s'))
    if self.args.debug:
        loglevel = logging.DEBUG
    elif hasattr(logging, loglevel):
        loglevel = int(getattr(logging, loglevel))
    else:
        raise ArgumentTypeError(('Invalid Log level "' + loglevel))
    self.log.setLevel(loglevel)
    if (not self.log.handlers):
        if self.args.logfile:
            self.log.handlers.append(logging.FileHandler(self.args.logfile))
        if self.args.debug:
            self.log.handlers.append(logging.StreamHandler(sys.stderr))
    for hndlr in self.log.handlers:
        hndlr.setLevel(loglevel)
        hndlr.setFormatter(fmt)
        self.log.addHandler(hndlr)
