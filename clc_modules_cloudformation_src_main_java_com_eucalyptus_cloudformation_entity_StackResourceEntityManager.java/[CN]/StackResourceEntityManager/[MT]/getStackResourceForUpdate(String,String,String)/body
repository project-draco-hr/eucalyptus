{
  StackResourceEntity stackResourceEntity=null;
  try (TransactionResource db=Entities.transactionFor(StackResourceEntityForUpdate.class)){
    Criteria criteria=Entities.createCriteria(StackResourceEntityForUpdate.class).add(Restrictions.eq("accountId",accountId)).add(Restrictions.eq("stackId",stackId)).add(Restrictions.eq("logicalResourceId",logicalResourceId)).add(Restrictions.eq("recordDeleted",Boolean.FALSE));
    List<StackResourceEntity> stackResourceEntityList=criteria.list();
    if (stackResourceEntityList != null && !stackResourceEntityList.isEmpty()) {
      stackResourceEntity=stackResourceEntityList.get(0);
    }
    db.commit();
  }
   return stackResourceEntity;
}
