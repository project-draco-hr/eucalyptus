{
  if (this.attachedRole != null && this.instanceProfile != null) {
    try {
      EuareClient.getInstance().removeRoleFromInstanceProfile(getSystemUserId(),this.instanceProfile.getInstanceProfileName(),this.attachedRole);
    }
 catch (    final Exception ex) {
      ;
    }
  }
  if (this.instanceProfile != null) {
    try {
      EuareClient.getInstance().deleteInstanceProfile(getSystemUserId(),this.instanceProfile.getInstanceProfileName());
    }
 catch (    final Exception ex) {
      throw new EventHandlerException("Failed to delete instance profile",ex);
    }
  }
}
