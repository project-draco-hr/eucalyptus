{
  if (tran == null || !tran.isActive()) {
    throw new RuntimeException(new ObjectStorageException("in DbBucketLifecycleManagerImpl.deleteLifecycleRules, " + "but was not given an active transaction"));
  }
  LifecycleRule example=new LifecycleRule();
  example.setBucketName(bucketName);
  List<LifecycleRule> existing=Entities.query(example);
  if (existing != null && existing.size() > 0) {
    Map<String,String> criteria=new HashMap<>();
    criteria.put("bucketName",bucketName);
    Entities.deleteAllMatching(LifecycleRule.class,"WHERE bucketName = :bucketName",criteria);
  }
}
