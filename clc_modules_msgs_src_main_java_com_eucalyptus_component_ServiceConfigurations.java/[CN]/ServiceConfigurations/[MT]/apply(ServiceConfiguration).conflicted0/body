{
  return new ServiceStatusType(){
{
      this.setServiceId(TypeMappers.transform(config,ServiceId.class));
      this.setLocalEpoch(Topology.epoch());
      try {
        this.setLocalState(config.lookupStateMachine().getState().toString());
      }
 catch (      Exception ex) {
        this.setLocalState("n/a: " + ex.getMessage());
      }
      this.getStatusDetails().addAll(Collections2.transform(config.lookupDetails(),TypeMappers.lookup(ServiceCheckRecord.class,ServiceStatusDetail.class)));
      for (      ServiceStatusDetail a : this.getStatusDetails()) {
        a.setStackTrace("");
      }
    }
  }
;
}
