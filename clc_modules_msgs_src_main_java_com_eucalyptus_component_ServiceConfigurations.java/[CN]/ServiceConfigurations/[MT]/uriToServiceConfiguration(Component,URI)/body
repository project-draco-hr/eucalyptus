{
  String partition="bootstrap".equals(component.getName()) ? component.getName() : "eucalyptus";
  String name=component.getName();
  try {
    if (uri.getScheme().matches(".*vm.*") || (uri.getHost() != null && NetworkUtil.testLocal(uri.getHost()))) {
      return new LocalConfiguration(component.getComponentId(),partition,name,uri);
    }
 else {
      return new RemoteConfiguration(component.getComponentId(),partition,name,uri);
    }
  }
 catch (  Throwable t) {
    return new LocalConfiguration(component.getComponentId(),partition,name,uri);
  }
}
