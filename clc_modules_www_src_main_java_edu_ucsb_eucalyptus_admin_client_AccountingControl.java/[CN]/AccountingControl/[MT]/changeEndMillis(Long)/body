{
  Date now=new Date();
  Long currentTime=now.getTime();
  if ((millis > currentTime)) {
    this.endMillis=currentTime;
  }
 else   if (millis < 0) {
    this.endMillis=currentTime;
  }
 else {
    this.endMillis=millis;
  }
  this.update();
  return this.endMillis;
}
