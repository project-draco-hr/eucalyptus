{
  GZIPInputStream in=new GZIPInputStream(new FileInputStream(new File(decryptedImageName)));
  File outFile=new File(tarredImageName);
  ReadableByteChannel inChannel=Channels.newChannel(in);
  FileOutputStream fileOutputStream=new FileOutputStream(outFile);
  WritableByteChannel outChannel=fileOutputStream.getChannel();
  ByteBuffer buffer=ByteBuffer.allocate(102400);
  try {
    while (inChannel.read(buffer) != -1) {
      buffer.flip();
      outChannel.write(buffer);
      buffer.clear();
    }
  }
 catch (  IOException ex) {
    outChannel.close();
    inChannel.close();
    throw ex;
  }
  outChannel.close();
  fileOutputStream.close();
  inChannel.close();
  in.close();
}
