{
  EntityWrapper<ImageCacheInfo> db=WalrusControl.getEntityWrapper();
  ImageCacheInfo searchImageCacheInfo=new ImageCacheInfo(bucketName,manifestKey);
  try {
    ImageCacheInfo foundImageCacheInfo=db.getUnique(searchImageCacheInfo);
    String cacheImageKey=foundImageCacheInfo.getImageName().replaceAll(".tgz","");
    long objectSize=storageManager.getObjectSize(bucketName,cacheImageKey);
    if (objectSize > 0) {
      return objectSize - oldBytesRead;
    }
    return oldBytesRead;
  }
 catch (  Exception ex) {
    return oldBytesRead;
  }
 finally {
    db.commit();
  }
}
