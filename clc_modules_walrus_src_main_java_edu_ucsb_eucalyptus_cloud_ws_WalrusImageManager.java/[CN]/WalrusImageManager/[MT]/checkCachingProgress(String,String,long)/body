{
  EntityWrapper<ImageCacheInfo> db=WalrusControl.getEntityWrapper();
  ImageCacheInfo searchImageCacheInfo=new ImageCacheInfo(bucketName,manifestKey);
  try {
    ImageCacheInfo foundImageCacheInfo=db.getUnique(searchImageCacheInfo);
    String cacheImageKey=foundImageCacheInfo.getImageName().substring(0,foundImageCacheInfo.getImageName().lastIndexOf(".tgz"));
    long objectSize=storageManager.getObjectSize(bucketName,cacheImageKey);
    db.commit();
    if (objectSize > 0) {
      return objectSize - oldBytesRead;
    }
    return oldBytesRead;
  }
 catch (  Exception ex) {
    db.commit();
    return oldBytesRead;
  }
}
