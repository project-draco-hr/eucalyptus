{
  try {
    User found;
    if ((found=LdapCache.getInstance().getUserByName(userName)) == null) {
      UserEntity search=new UserEntity();
      search.setName(userName);
      found=EucaLdapHelper.getUsers(search,null).get(0);
      LdapCache.getInstance().addUser(found);
    }
    return found;
  }
 catch (  EntryNotFoundException e) {
    LOG.error(e,e);
    throw new NoSuchUserException(e);
  }
catch (  LdapException e) {
    LOG.error(e,e);
    throw new NoSuchUserException(e);
  }
}
