{
  this.serviceDelegate=baseService;
  URI remoteUri;
  if (this.getServiceConfiguration().isVmLocal()) {
    remoteUri=this.getComponentId().makeInternalRemoteUri("127.0.0.1",this.getComponentId().getPort());
  }
 else {
    remoteUri=this.getComponentId().makeInternalRemoteUri(this.getServiceConfiguration().getHostName(),this.getServiceConfiguration().getPort());
  }
  this.endpoint=new ServiceEndpoint(this,true,baseService.getServiceConfiguration().isVmLocal() ? this.getComponentId().getLocalEndpointUri() : remoteUri);
  this.localDispatcher=ServiceDispatcher.makeLocal(this.getServiceConfiguration());
  this.remoteDispatcher=ServiceDispatcher.makeRemote(this.getServiceConfiguration());
}
