{
  EntityWrapper<ObjectInfo> db=WalrusControl.getEntityWrapper().recast(ObjectInfo.class);
  ObjectInfo searchObjectInfo=new ObjectInfo();
  searchObjectInfo.setBucketName(bucketName);
  searchObjectInfo.setDeleted(false);
  searchObjectInfo.setLast(true);
  try {
    List<ObjectInfo> objectInfos=db.query(searchObjectInfo);
    db.commit();
    return objectInfos.size();
  }
 catch (  Exception e) {
    db.rollback();
    throw new AuthException("Failed to search object",e);
  }
}
