def encode(self, immune, raw):
    '\n        Encode a String so that it can be safely used in a specific context.\n\n        @param immune: @param raw\n                the String to encode\n        @return: the encoded String\n        '
    ret = ''
    try:
        for char in raw:
            ret += self.encode_character(immune, char)
        return ret
    except TypeError:
        return None
