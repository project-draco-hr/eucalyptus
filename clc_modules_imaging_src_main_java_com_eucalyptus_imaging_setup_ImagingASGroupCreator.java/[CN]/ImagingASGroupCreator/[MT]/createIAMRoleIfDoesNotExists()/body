{
  RoleType role=null;
  try {
    List<RoleType> result=listRoles(DEFAULT_ROLE_PATH_PREFIX);
    if (result != null) {
      for (      RoleType r : result) {
        if (DEFAULT_ROLE_NAME.equals(r.getRoleName())) {
          role=r;
          break;
        }
      }
    }
  }
 catch (  Exception ex) {
    throw new EucalyptusCloudException("Failed to list IAM roles",ex);
  }
  if (role == null) {
    try {
      LOG.info("Creating default role for Imager");
      role=createRole(DEFAULT_ROLE_NAME,DEFAULT_ROLE_PATH_PREFIX,DEFAULT_ASSUME_ROLE_POLICY);
    }
 catch (    Exception ex) {
      throw new EucalyptusCloudException("Failed to create the role for Imager VMs");
    }
  }
  return role;
}
