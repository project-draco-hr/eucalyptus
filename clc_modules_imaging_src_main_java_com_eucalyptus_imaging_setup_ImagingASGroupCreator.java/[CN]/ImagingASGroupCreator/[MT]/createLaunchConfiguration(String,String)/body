{
  String name=createLaunchConfigName(LAUNCH_CONFIG_BASE_NAME,keyName,vmType);
  if (describeLaunchConfiguration(name) != null)   return name;
  InstanceUserDataBuilder userDataBuilder=null;
  try {
    userDataBuilder=new DefaultInstanceUserDataBuilder();
  }
 catch (  Exception ex) {
    throw new EucalyptusCloudException("Failed to create service parameters");
  }
  String userData=B64.standard.encString(String.format("euca-%s\n%s",B64.standard.encString("setup-credential"),userDataBuilder.build()));
  LOG.info("Creating launch configuration " + name + " for Imager's ASG");
  createLaunchConfiguration(IMAGING_EMI,vmType,DEFAULT_INSTANCE_PROFILE_NAME,name,DEFAULT_GROUP_NAME,keyName,userData);
  return name;
}
