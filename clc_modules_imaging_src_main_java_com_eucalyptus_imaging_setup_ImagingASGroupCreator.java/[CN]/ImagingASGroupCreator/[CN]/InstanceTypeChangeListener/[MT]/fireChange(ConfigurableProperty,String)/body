{
  try {
    if (newValue == null || newValue.equals(""))     throw new EucalyptusCloudException("Instance type cannot be unset");
    if (t.getValue() != null && !t.getValue().equals(newValue)) {
      final List<VmTypeDetails> allTypes=describeVMTypes();
      boolean typeExists=false;
      String newTypeName=newValue.toLowerCase();
      for (      VmTypeDetails detail : allTypes) {
        if (detail.getName().equals(newTypeName)) {
          typeExists=true;
          break;
        }
      }
      if (!typeExists)       throw new EucalyptusCloudException("Invalid instance type '" + newValue + "'");
      String oldTypeName=IMAGING_INSTANCE_TYPE;
      IMAGING_INSTANCE_TYPE=newTypeName;
      changeLaunchConfiguration(IMAGING_VM_KEYNAME,IMAGING_VM_KEYNAME,newTypeName,oldTypeName);
    }
  }
 catch (  final Exception e) {
    throw new ConfigurablePropertyException("Could not change instance type. " + e.getMessage());
  }
}
