{
  if (VmStateSet.DONE.apply(vm)) {
    return VmInstances.delete(vm);
  }
 else {
    return VmInstance.Transitions.SHUTDOWN.apply(vm);
  }
}
