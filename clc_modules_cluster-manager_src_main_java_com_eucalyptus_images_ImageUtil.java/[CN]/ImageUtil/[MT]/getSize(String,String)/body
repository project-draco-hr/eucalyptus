{
  Long size=0l;
  try {
    String[] imagePathParts=manifestPath.split("/");
    Document inputSource=WalrusUtil.getManifestData(ComponentIds.lookup(Eucalyptus.class).name(),imagePathParts[0],imagePathParts[1]);
    XPath xpath=XPathFactory.newInstance().newXPath();
    String rootSize="0";
    try {
      rootSize=(String)xpath.evaluate("/manifest/image/size/text()",inputSource,XPathConstants.STRING);
      try {
        size=Long.parseLong(rootSize);
      }
 catch (      NumberFormatException e) {
        ImageManager.LOG.error(e,e);
      }
    }
 catch (    XPathExpressionException e) {
      ImageManager.LOG.error(e,e);
    }
  }
 catch (  EucalyptusCloudException e) {
    ImageManager.LOG.error(e,e);
  }
  return size;
}
