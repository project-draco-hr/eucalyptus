{
  for (  LaunchPermissionItemType perm : changeList) {
    if (perm.isGroup()) {
      try {
        if (adding) {
          imgInfo.grantPermission(Groups.lookupGroup(perm.getGroup()));
        }
 else {
          imgInfo.revokePermission(Groups.lookupGroup(perm.getGroup()));
        }
      }
 catch (      NoSuchGroupException e) {
        LOG.debug(e,e);
        throw new EucalyptusCloudException("Modify image attribute failed because of: " + e.getMessage());
      }
    }
 else     if (perm.isUser()) {
      try {
        if (adding) {
          imgInfo.grantPermission(Users.lookupUser(perm.getUserId()));
        }
 else {
          imgInfo.revokePermission(Users.lookupUser(perm.getUserId()));
        }
      }
 catch (      NoSuchUserException e) {
        LOG.debug(e,e);
        throw new EucalyptusCloudException("Modify image attribute failed because of: " + e.getMessage());
      }
    }
  }
}
