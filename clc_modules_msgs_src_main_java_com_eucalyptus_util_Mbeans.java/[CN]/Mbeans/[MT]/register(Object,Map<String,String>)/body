{
  try {
    ObjectInstance o=EasyMBean.getMBean(obj,new ObjectName(obj.getClass().getCanonicalName().replaceAll("\\..*\\z",""),new Hashtable<String,String>(properties)),mbeanServer);
    LOG.info("Registered MBean: " + o + " for "+ obj);
    return o;
  }
 catch (  MalformedObjectNameException ex) {
    LOG.error(ex,ex);
    throw new RuntimeException(ex);
  }
catch (  NullPointerException ex) {
    LOG.error(ex,ex);
    throw ex;
  }
}
