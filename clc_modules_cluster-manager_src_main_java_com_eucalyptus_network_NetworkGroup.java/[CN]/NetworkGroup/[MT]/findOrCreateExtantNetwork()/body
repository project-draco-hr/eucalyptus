{
  EntityTransaction db=Entities.get(NetworkGroup.class);
  try {
    NetworkGroup ngNet=Entities.merge(this);
    ExtantNetwork exNet=null;
    try {
      exNet=ngNet.lookupExtantNetwork();
    }
 catch (    Exception ex) {
      Logs.extreme().error(ex,ex);
    }
    if (exNet == null) {
      int tag=ngNet.attemptNetworkTagging();
      exNet=ExtantNetwork.create(ngNet,tag);
      ngNet.setExtantNetwork(exNet);
      Entities.persist(exNet);
      Entities.merge(ngNet);
      db.commit();
      return exNet;
    }
 else {
      db.commit();
      return exNet;
    }
  }
 catch (  Exception ex) {
    db.rollback();
    throw new NotEnoughResourcesException("Cannot has: " + ex.getMessage(),ex);
  }
}
