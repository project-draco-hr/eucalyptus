{
  if (!NetworkGroups.networkingConfiguration().hasNetworking()) {
    return ExtantNetwork.bogus(this);
  }
 else {
    final EntityTransaction db=Entities.get(NetworkGroup.class);
    try {
      NetworkGroup net=Entities.merge(this);
      ExtantNetwork exNet=net.getExtantNetwork();
      if (net.getExtantNetwork() == null) {
        exNet=net.findOrCreateExtantNetwork();
      }
      Entities.merge(net);
      db.commit();
      return exNet;
    }
 catch (    Exception ex) {
      db.rollback();
      Logs.exhaust().trace(ex,ex);
      throw new NotEnoughResourcesException(ex);
    }
  }
}
