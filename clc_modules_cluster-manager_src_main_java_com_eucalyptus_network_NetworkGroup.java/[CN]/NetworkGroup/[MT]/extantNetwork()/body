{
  if (!NetworkGroups.networkingConfiguration().hasNetworking()) {
    return ExtantNetwork.bogus(this);
  }
 else   if (this.extantNetwork == null) {
    try {
      NetworkGroup newNetGroup=Transactions.naturalId(new NetworkGroup(this.getNaturalId()),new Callback<NetworkGroup>(){
        @Override public void fire(        NetworkGroup input){
          if (input.getExtantNetwork() == null) {
            for (int i=NetworkGroups.networkingConfiguration().getMinNetworkTag(); i < NetworkGroups.networkingConfiguration().getMaxNetworkTag(); i++) {
              EntityWrapper<ExtantNetwork> db=EntityWrapper.get(ExtantNetwork.class);
              try {
                ExtantNetwork newExNet=new ExtantNetwork(NetworkGroup.this);
                db.add(newExNet);
                db.commit();
              }
 catch (              Exception ex) {
                LOG.error("Failed to add extant network: " + extantNetwork + " due to: "+ ex.getMessage());
                Logs.extreme().error("Failed to add extant network: " + extantNetwork + " due to: "+ ex.getMessage(),ex);
              }
            }
          }
        }
      }
);
      return newNetGroup.getExtantNetwork();
    }
 catch (    TransactionException ex) {
      LOG.error(ex,ex);
      return ExtantNetwork.bogus(this);
    }
  }
 else {
    return this.getExtantNetwork();
  }
}
