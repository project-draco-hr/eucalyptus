{
  for (  LaunchPermissionItemType perm : changeList) {
    if (perm.isGroup()) {
    }
 else     if (perm.isUser()) {
      UserInfo target=new UserInfo(perm.getUserId());
      if (adding && !imgInfo.getPermissions().contains(target)) {
        try {
          target=UserInfoStore.getUserInfo(target);
        }
 catch (        NoSuchUserException e) {
          throw new EucalyptusCloudException("image attribute: invalid user id.");
        }
 finally {
          imgInfo.getPermissions().add(target);
        }
      }
 else       if (!adding && imgInfo.getPermissions().contains(target)) {
        imgInfo.getPermissions().remove(target);
      }
 else       if (!adding) {
        throw new EucalyptusCloudException("image attribute: cant remove nonexistant permission.");
      }
    }
  }
}
