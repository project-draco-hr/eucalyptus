{
  int majorNumber=-1;
  int minorNumber=-1;
  List<Integer> deviceNumbers=new ArrayList<Integer>();
  LVMMetaInfo metaInfo=new LVMMetaInfo(hostName);
  EntityWrapper<LVMMetaInfo> db=new EntityWrapper<LVMMetaInfo>();
  List<LVMMetaInfo> metaInfoList=db.query(metaInfo);
  if (metaInfoList.size() > 0) {
    LVMMetaInfo foundMetaInfo=metaInfoList.get(0);
    majorNumber=foundMetaInfo.getMajorNumber();
    minorNumber=foundMetaInfo.getMinorNumber();
    if (minorNumber >= MAX_LOOP_DEVICES) {
      ++majorNumber;
    }
    minorNumber=(minorNumber + 1) % MAX_LOOP_DEVICES;
    foundMetaInfo.setMajorNumber(majorNumber);
    foundMetaInfo.setMinorNumber(minorNumber);
  }
  deviceNumbers.add(majorNumber);
  deviceNumbers.add(minorNumber);
  db.commit();
  return deviceNumbers;
}
