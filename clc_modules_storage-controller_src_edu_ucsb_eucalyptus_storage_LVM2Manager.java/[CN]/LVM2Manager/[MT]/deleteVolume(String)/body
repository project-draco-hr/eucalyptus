{
  EntityWrapper<LVMVolumeInfo> db=new EntityWrapper<LVMVolumeInfo>();
  LVMVolumeInfo lvmVolumeInfo=new LVMVolumeInfo(volumeId);
  LVMVolumeInfo foundLVMVolumeInfo=db.getUnique(lvmVolumeInfo);
  if (foundLVMVolumeInfo != null) {
    String loDevName=foundLVMVolumeInfo.getLoDevName();
    String vgName=foundLVMVolumeInfo.getVgName();
    String lvName=foundLVMVolumeInfo.getLvName();
    String absoluteLVName=lvmRootDirectory + PATH_SEPARATOR + vgName+ PATH_SEPARATOR+ lvName;
    int pid=foundLVMVolumeInfo.getVbladePid();
    if (pid > 0) {
      String returnValue=getAoEStatus(String.valueOf(pid));
      if (returnValue.contains("vblade")) {
        exportManager.unexportVolume(pid);
      }
    }
    String returnValue=removeLogicalVolume(absoluteLVName);
    if (returnValue.length() == 0) {
      throw new EucalyptusCloudException("Unable to remove logical volume " + absoluteLVName);
    }
    returnValue=removeVolumeGroup(vgName);
    if (returnValue.length() == 0) {
      throw new EucalyptusCloudException("Unable to remove volume group " + vgName);
    }
    returnValue=removePhysicalVolume(loDevName);
    if (returnValue.length() == 0) {
      throw new EucalyptusCloudException("Unable to remove physical volume " + loDevName);
    }
    returnValue=removeLoopback(loDevName);
    db.delete(foundLVMVolumeInfo);
    db.commit();
  }
 else {
    db.rollback();
    throw new EucalyptusCloudException();
  }
}
