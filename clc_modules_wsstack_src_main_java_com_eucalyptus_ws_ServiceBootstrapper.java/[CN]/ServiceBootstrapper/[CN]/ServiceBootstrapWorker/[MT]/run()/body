{
  while (!this.msgQueue.isEmpty() || this.running.get()) {
    Runnable event;
    try {
      if ((event=this.msgQueue.poll(50,TimeUnit.MILLISECONDS)) != null) {
        event.run();
      }
    }
 catch (    final Throwable e) {
      Exceptions.maybeInterrupted(e);
      Exceptions.trace(e);
    }
    LOG.debug("Shutting down component registration request queue: " + Thread.currentThread().getName());
  }
}
