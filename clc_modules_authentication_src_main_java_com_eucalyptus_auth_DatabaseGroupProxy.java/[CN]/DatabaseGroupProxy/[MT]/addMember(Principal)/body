{
  EntityWrapper<GroupEntity> db=EntityWrapper.get(GroupEntity.class);
  EntityManager em=db.getEntityManager();
  try {
    GroupEntity group=em.find(GroupEntity.class,this.delegate.getId());
    UserEntity userEntity=DatabaseAuthProvider.getUniqueUser(db.getSession(),user.getName(),this.delegate.getAccount().getName());
    group.addMember(userEntity);
    db.commit();
    return true;
  }
 catch (  Throwable e) {
    Debugging.logError(LOG,e,"Failed to add user to group " + this.delegate);
    db.rollback();
  }
  return false;
}
