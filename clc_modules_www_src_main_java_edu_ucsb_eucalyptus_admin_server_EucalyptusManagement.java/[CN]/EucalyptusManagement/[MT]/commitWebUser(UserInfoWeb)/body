{
  String userName=webUser.getUserName();
  try {
    Users.updateUser(userName,new Tx<User>(){
      public void fire(      User user) throws Throwable {
        Composites.project(webUser,user);
      }
    }
);
    UserInfoStore.updateUserInfo(userName,new Tx<UserInfo>(){
      public void fire(      UserInfo info) throws Throwable {
        Composites.project(webUser,info);
      }
    }
);
  }
 catch (  NoSuchUserException e1) {
    LOG.error(e1,e1);
    throw EucalyptusManagement.makeFault("Unable to update user");
  }
catch (  UnsupportedOperationException e1) {
    LOG.error(e1,e1);
    throw EucalyptusManagement.makeFault("Error while updating user: " + e1.getMessage());
  }
}
