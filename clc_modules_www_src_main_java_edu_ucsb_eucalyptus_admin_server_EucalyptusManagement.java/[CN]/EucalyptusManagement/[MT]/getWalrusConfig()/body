{
  EntityWrapper<WalrusInfo> db=new EntityWrapper<WalrusInfo>();
  WalrusInfo walrusInfo;
  try {
    walrusInfo=db.getUnique(new WalrusInfo());
    validateWalrusConfiguration(walrusInfo);
  }
 catch (  EucalyptusCloudException e) {
    walrusInfo=validateWalrusConfiguration(null);
  }
 finally {
    db.commit();
  }
  return new WalrusInfoWeb(walrusInfo.getName(),walrusInfo.getStorageDir(),walrusInfo.getStorageMaxBucketsPerUser(),new Long(walrusInfo.getStorageMaxBucketSizeInMB()),new Long(walrusInfo.getStorageMaxCacheSizeInMB()),walrusInfo.getStorageMaxTotalSnapshotSizeInGb());
}
