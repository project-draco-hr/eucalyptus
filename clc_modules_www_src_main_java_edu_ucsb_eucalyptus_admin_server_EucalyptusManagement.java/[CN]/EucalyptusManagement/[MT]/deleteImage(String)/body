{
  ImageInfo searchImg=new ImageInfo();
  searchImg.setImageId(imageId);
  EntityWrapper<ImageInfo> db=new EntityWrapper<ImageInfo>();
  List<ImageInfo> imgList=db.query(searchImg);
  if (imgList.size() > 0 && !imgList.isEmpty()) {
    ImageInfo foundimgSearch=imgList.get(0);
    foundimgSearch.setImageState("deregistered");
    db.commit();
  }
 else {
    db.rollback();
    throw EucalyptusManagement.makeFault("Specified image was not found, sorry.");
  }
}
