{
  EntityWrapper<SystemConfiguration> db=new EntityWrapper<SystemConfiguration>();
  SystemConfiguration sysConf;
  try {
    sysConf=db.getUnique(new SystemConfiguration());
    validateSystemConfiguration(sysConf);
  }
 catch (  EucalyptusCloudException e) {
    sysConf=validateSystemConfiguration(null);
  }
 finally {
    db.commit();
  }
  return new SystemConfigWeb(sysConf.getDefaultKernel(),sysConf.getDefaultRamdisk(),sysConf.getMaxUserPublicAddresses(),sysConf.isDoDynamicPublicAddresses(),sysConf.getSystemReservedPublicAddresses(),sysConf.getZeroFillVolumes(),sysConf.getDnsDomain(),sysConf.getNameserver(),sysConf.getNameserverAddress(),sysConf.getCloudHost());
}
