{
  EntityWrapper<UserInfo> dbWrapper=new EntityWrapper<UserInfo>();
  try {
    UserInfo userInfo=dbWrapper.getUnique(ex);
    User user=Users.lookupUser(userInfo.getUserName());
    UserInfoWeb webUser=Composites.composeNew(UserInfoWeb.class,userInfo,user.getDelegate());
    dbWrapper.commit();
    return webUser;
  }
 catch (  EucalyptusCloudException e) {
    dbWrapper.rollback();
    throw EucalyptusManagement.makeFault("Error looking up user information: " + e.getMessage());
  }
catch (  NoSuchUserException e) {
    dbWrapper.rollback();
    throw EucalyptusManagement.makeFault("User does not exist");
  }
}
