{
  if (GROUP_ALL.equals(groupName) || GROUP_DEFAULT.equals(groupName)) {
    throw new Exception("Group 'all' or 'default' cannot be removed from");
  }
  User user=null;
  try {
    user=Users.lookupUser(userName);
  }
 catch (  NoSuchUserException nsue) {
    throw new Exception("Can't find user " + userName);
  }
  Group group=null;
  try {
    group=Groups.lookupGroup(groupName);
  }
 catch (  NoSuchGroupException nsge) {
    throw new Exception("Can't find group " + groupName);
  }
  if (!group.removeMember(user)) {
    throw new Exception("Failed to remove user " + userName + " from "+ groupName);
  }
}
