{
  GetWalrusConfigurationResponseType reply=(GetWalrusConfigurationResponseType)request.getReply();
  if (Component.eucalyptus.name().equals(request.getEffectiveUserId()))   throw new AccessDeniedException("Only admin can change walrus properties.");
  String name=request.getName();
  if (WalrusProperties.NAME.equals(name)) {
    reply.setBucketRootDirectory(WalrusProperties.bucketRootDirectory);
    reply.setMaxBucketsPerUser(WalrusProperties.MAX_BUCKETS_PER_USER);
    reply.setMaxBucketSize(WalrusProperties.MAX_BUCKET_SIZE / WalrusProperties.M);
    reply.setImageCacheSize(WalrusProperties.IMAGE_CACHE_SIZE / WalrusProperties.M);
    reply.setTotalSnapshotSize(WalrusProperties.MAX_TOTAL_SNAPSHOT_SIZE);
  }
  return reply;
}
