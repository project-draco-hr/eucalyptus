{
  RemoveCNAMERecordResponseType reply=(RemoveCNAMERecordResponseType)request.getReply();
  String zone=request.getZone();
  String name=request.getName();
  EntityWrapper<CNAMERecordInfo> db=new EntityWrapper<CNAMERecordInfo>();
  CNAMERecordInfo cnameRecordInfo=new CNAMERecordInfo();
  cnameRecordInfo.setName(name);
  cnameRecordInfo.setZone(zone);
  try {
    CNAMERecordInfo foundCNAMERecordInfo=db.getUnique(cnameRecordInfo);
    CNAMERecord cnameRecord=new CNAMERecord(Name.fromString(name),DClass.IN,foundCNAMERecordInfo.getTtl(),Name.fromString(foundCNAMERecordInfo.getAlias()));
    ZoneManager.deleteRecord(zone,cnameRecord);
    db.delete(foundCNAMERecordInfo);
    db.commit();
  }
 catch (  Exception ex) {
    LOG.error(ex);
  }
  return reply;
}
