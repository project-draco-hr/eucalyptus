{
  super();
  this.context=Contexts.lookup();
  this.minCount=1;
  this.maxCount=1;
  this.ownerFullName=this.context.getUserFullName();
  this.reservationId=reservationId;
  this.reservationIndex=UniqueIds.nextIndex(VmInstance.class,(long)this.maxCount);
  this.instanceIds=Maps.newHashMap();
  this.instanceIds.put(launchIndex,instanceId);
  this.userData=userData;
  this.partition=partition;
  this.sshKeyPair=sshKeyPair;
  this.bootSet=bootSet;
  this.expiration=expiration;
  this.vmType=vmType;
  this.networkGroups=new HashMap<String,NetworkGroup>(){
{
      for (      NetworkGroup g : networkGroups) {
        put(g.getDisplayName(),g);
      }
    }
  }
;
  this.request=new RunInstancesType(){
{
      this.setMinCount(1);
      this.setMaxCount(1);
      this.setImageId(bootSet.getMachine().getDisplayName());
      this.setAvailabilityZone(partition.getName());
      this.getGroupSet().addAll(Allocation.this.networkGroups.keySet());
      this.setInstanceType(vmType.getName());
    }
  }
;
}
