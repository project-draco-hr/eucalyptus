{
  for (  ResourceToken rscToken : this.allocationTokens) {
    try {
      ExtantNetwork extantNetwork=rscToken.getExtantNetwork();
      assertThat(extantNetwork,notNullValue());
      SetReference<PrivateNetworkIndex,VmInstance> addrIndex=extantNetwork.allocateNetworkIndex();
      rscToken.setNetworkIndex(addrIndex);
    }
 catch (    Exception ex) {
      throw new NotEnoughResourcesException("Not enough addresses left in the network subnet assigned to requested group: " + rscToken,ex);
    }
  }
}
