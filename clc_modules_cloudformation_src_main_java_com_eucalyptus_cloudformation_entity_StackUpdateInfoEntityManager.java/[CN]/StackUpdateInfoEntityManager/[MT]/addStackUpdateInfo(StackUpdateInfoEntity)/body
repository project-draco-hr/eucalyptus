{
  try (TransactionResource db=Entities.transactionFor(StackUpdateInfoEntity.class)){
    Criteria criteria=Entities.createCriteria(StackUpdateInfoEntity.class).add(Restrictions.eq("stackName",stackUpdateInfoEntity.getStackName())).add(Restrictions.eq("accountId",stackUpdateInfoEntity.getAccountId())).add(Restrictions.eq("recordDeleted",Boolean.FALSE));
    List<StackUpdateInfoEntity> EntityList=criteria.list();
    if (!EntityList.isEmpty()) {
      throw new AlreadyExistsException("Stack update info already exists");
    }
    Entities.persist(stackUpdateInfoEntity);
    db.commit();
  }
   return stackUpdateInfoEntity;
}
