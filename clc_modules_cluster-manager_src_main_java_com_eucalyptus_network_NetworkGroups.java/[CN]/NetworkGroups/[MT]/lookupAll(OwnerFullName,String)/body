{
  if (defaultNetworkName().equals(groupNamePattern)) {
    createDefault(ownerFullName);
  }
 else {
    EntityTransaction db=Entities.get(NetworkGroups.class);
    try {
      List<NetworkGroup> results=Entities.query(new NetworkGroup(ownerFullName,groupNamePattern));
      List<NetworkGroup> ret=Lists.newArrayList(results);
      db.commit();
      return ret;
    }
 catch (    Exception ex) {
      Logs.exhaust().error(ex,ex);
      db.rollback();
      throw ex;
    }
  }
  try {
    return Transactions.findAll(new NetworkGroup(ownerFullName,groupNamePattern));
  }
 catch (  Exception ex) {
    throw new NoSuchMetadataException("Failed to find security group: " + groupNamePattern + " for "+ ownerFullName,ex);
  }
}
