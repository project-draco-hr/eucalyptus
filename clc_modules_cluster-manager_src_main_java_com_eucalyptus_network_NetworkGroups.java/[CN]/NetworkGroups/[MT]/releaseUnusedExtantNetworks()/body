{
  try {
    final List<NetworkGroup> groups=NetworkGroups.lookupUnusedExtant();
    for (    NetworkGroup net : groups) {
      try (final TransactionResource tx=Entities.distinctTransactionFor(NetworkGroup.class)){
        net=Entities.merge(net);
        if (net.hasExtantNetwork() && !net.getExtantNetwork().inUse()) {
          final ExtantNetwork exNet=net.getExtantNetwork();
          if (exNet.teardown()) {
            Entities.delete(exNet);
            net.clearExtantNetwork();
          }
        }
        tx.commit();
      }
 catch (      final Exception ex) {
        LOG.debug(ex);
        Logs.extreme().error(ex,ex);
      }
    }
  }
 catch (  MetadataException ex) {
    LOG.error(ex);
  }
}
