{
  final AtomicBoolean netTagging=new AtomicBoolean(true);
  try {
    Transactions.each(new ClusterConfiguration(),new Callback<ClusterConfiguration>(){
      @Override public void fire(      final ClusterConfiguration input){
        netConfig.setUseNetworkTags(netTagging.compareAndSet(true,input.getUseNetworkTags()));
        netConfig.setMinNetworkTag(Ints.max(netConfig.getMinNetworkTag(),input.getMinNetworkTag()));
        netConfig.setMaxNetworkTag(Ints.min(netConfig.getMaxNetworkTag(),input.getMaxNetworkTag()));
        netConfig.setMinNetworkIndex(Longs.max(netConfig.getMinNetworkIndex(),input.getMinNetworkIndex()));
        netConfig.setMaxNetworkIndex(Longs.min(netConfig.getMaxNetworkIndex(),input.getMaxNetworkIndex()));
      }
    }
);
  }
 catch (  final TransactionException ex) {
    Logs.extreme().error(ex,ex);
  }
}
