{
  if (Ats.from(candidate).has(Entity.class)) {
    if (!Ats.from(candidate).has(PersistenceContext.class)) {
      throw BootstrapException.throwFatal("Database entity does not have required @PersistenceContext annotation: " + candidate.getCanonicalName());
    }
 else {
      LOG.debug("Trying to register class: " + candidate.getCanonicalName());
      PersistenceContexts.addEntity(candidate);
      return true;
    }
  }
 else   if (Ats.from(candidate).has(MappedSuperclass.class) || Ats.from(candidate).has(Embeddable.class)) {
    PersistenceContexts.addSharedEntity(candidate);
    return true;
  }
 else {
    return false;
  }
}
