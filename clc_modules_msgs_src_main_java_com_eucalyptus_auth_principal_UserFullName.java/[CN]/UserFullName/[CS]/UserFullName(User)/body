{
  Assertions.assertArgumentNotNull(user);
  String aId=FullName.NOBODY_ID;
  if (user == FakePrincipals.SYSTEM_USER) {
    aId=FakePrincipals.SYSTEM_ID;
  }
 else   if (user == FakePrincipals.NOBODY_USER) {
    aId=FakePrincipals.NOBODY_ID;
  }
 else {
    try {
      aId=user.getAccount().getId();
    }
 catch (    AuthException ex) {
      LOG.error(ex,ex);
    }
  }
  this.accountId=aId;
  this.userId=user.getId();
  this.name=user.getName();
  this.pathParts=ImmutableList.of("user",this.name);
  this.universalId=new StringBuilder().append(FullName.PREFIX).append(FullName.SEP).append(VENDOR).append(FullName.SEP).append(FullName.SEP).append(this.accountId).append(FullName.SEP).toString();
  this.relativeId=new StringBuilder().append("user").append(SEP_PATH).append(this.name).toString();
  this.qName=this.universalId + this.relativeId;
}
