{
  try {
    RandomAccessFile raf=new RandomAccessFile(new File(storageManager.getObjectPath(bucketName,objectName)),"r");
    MappingHttpResponse httpResponse=new MappingHttpResponse(HttpVersion.HTTP_1_1);
    httpResponse.addHeader(HttpHeaders.Names.CONTENT_LENGTH,String.valueOf(size));
    httpResponse.addHeader(HttpHeaders.Names.CONTENT_TYPE,contentType != null ? contentType : "binary/octet-stream");
    httpResponse.addHeader(HttpHeaders.Names.ETAG,etag);
    httpResponse.addHeader(HttpHeaders.Names.LAST_MODIFIED,lastModified);
    if (contentDisposition != null)     httpResponse.addHeader("Content-Disposition",contentDisposition);
    channel.write(httpResponse);
    ChannelFuture writeFuture=channel.write(new ChunkedFile(raf,0,size,8192));
    writeFuture.addListener(ChannelFutureListener.CLOSE);
  }
 catch (  Exception ex) {
    LOG.error(ex,ex);
  }
}
