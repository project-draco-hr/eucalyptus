{
  SessionInfo session=verifySession(sessionId);
  UserInfoWeb reqUser=verifyUser(session,session.getUserId(),true);
  if (!reqUser.isAdministrator()) {
    throw new Exception("Only admin can view reports.");
  }
  List<ReportInfo> reports=new ArrayList<ReportInfo>();
  for (  Component c : Components.list()) {
    for (    Service s : c.getServices()) {
      reports.addAll(EucalyptusWebBackendImpl.getServiceLogInfo(s));
    }
  }
  for (  File report : Lists.sort(Arrays.asList(SubDirectory.REPORTS.getFile().listFiles(new FilenameFilter(){
    @Override public boolean accept(    File arg0,    String arg1){
      return arg1.endsWith(".jrxml");
    }
  }
)),new Comparator<File>(){
    @Override public int compare(    File arg0,    File arg1){
      return arg0.getName().replaceAll("\\w*_","").compareTo(arg1.getName().replaceAll("\\w*_",""));
    }
  }
)) {
    String reportName=report.getName().replaceAll(".jrxml","");
    try {
      ReportCache reportCache=Reports.getReportManager(reportName,false);
      reports.add(new ReportInfo(reportCache.getReportGroup(),reportCache.getReportName(),reportName,1));
    }
 catch (    Throwable e) {
      LOG.error(e,e);
      LOG.error("Failed to read report file: " + report.getCanonicalPath() + " because of: "+ e.getMessage());
    }
  }
  return reports;
}
