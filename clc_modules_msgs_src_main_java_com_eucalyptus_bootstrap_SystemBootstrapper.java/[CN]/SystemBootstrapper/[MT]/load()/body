{
  LOG.info("Looking for Eucalyptus components in: " + BaseDirectory.LIB.toString());
  List<ConfigResource> confs=Lists.newArrayList();
  File libDir=new File(BaseDirectory.LIB.toString());
  for (  File f : libDir.listFiles()) {
    if (f.getName().startsWith(EucalyptusProperties.NAME)) {
      try {
        JarFile jar=new JarFile(f);
        JarEntry entry=jar.getJarEntry(Bootstrapper.PROPERTIES);
        InputStream in=jar.getInputStream(entry);
        LOG.info("Found eucalyptus jar: " + f.getName());
        Properties props=new Properties();
        props.load(in);
        LOG.info("-> Loaded properties...");
        props.list(System.out);
        String servicesEntryPath=props.getProperty(Bootstrapper.SERVICES_PROPERTY);
        JarEntry servicesEntry=jar.getJarEntry(Bootstrapper.BASEDIR + servicesEntryPath);
        ConfigResource rsc=new ConfigResource(servicesEntryPath,jar.getInputStream(servicesEntry));
        confs.add(rsc);
      }
 catch (      Exception e) {
        LOG.info(e,e);
      }
    }
  }
  try {
    LOG.info("-> Configuring...");
    confs.add(new ConfigResource("eucalyptus-bootstrap.xml"));
    context=new DefaultMuleContextFactory().createMuleContext(new SpringXmlConfigurationBuilder(confs.toArray(new ConfigResource[]{})));
    context.start();
  }
 catch (  Exception e) {
    LOG.info(e,e);
  }
  return true;
}
