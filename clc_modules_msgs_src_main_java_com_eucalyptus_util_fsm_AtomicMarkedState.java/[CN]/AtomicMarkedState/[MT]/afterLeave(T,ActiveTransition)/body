{
  try {
    CheckedListenableFuture<P> result=tid.leave();
    this.fireOutListeners(tid.getTransitionRule().getFromState());
    return result;
  }
 catch (  Throwable t) {
    this.error(t);
    throw Exceptions.debug(new IllegalStateException(String.format("Failed to apply transition %s because leave() threw an exception: %s",transitionName.toString(),t.getMessage()),t));
  }
}
