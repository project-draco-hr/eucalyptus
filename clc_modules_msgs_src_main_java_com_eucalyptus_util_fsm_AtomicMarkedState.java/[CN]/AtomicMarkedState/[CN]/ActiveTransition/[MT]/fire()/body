{
  try {
    this.transition.enter(AtomicMarkedState.this.parent);
    try {
      this.teardown();
      AtomicMarkedState.this.commit();
    }
 catch (    IllegalStateException t) {
      LOG.trace(t,t);
    }
  }
 catch (  Throwable t) {
    LOG.error(t,t);
    this.teardown();
    AtomicMarkedState.this.rollback();
    this.transitionFuture.setException(t);
  }
  try {
    this.transition.after(AtomicMarkedState.this.parent);
    this.transitionFuture.set(AtomicMarkedState.this.parent);
  }
 catch (  Throwable t) {
    this.transitionFuture.setException(t);
    LOG.error(t,t);
  }
}
