{
  StatusCounts statusCounts=new StatusCounts();
  for (  ImageData imageData : imageDataMap.values()) {
    if (imageData.info != null && imageData.state != null) {
switch (imageData.state.getStatus()) {
case INSTALLING:
        statusCounts.installing++;
      break;
case DOWNLOADING:
    statusCounts.downloading++;
  break;
}
if (imageData.state.getErrorMessage() != null) {
statusCounts.errorMessages++;
}
}
}
return statusCounts;
}
