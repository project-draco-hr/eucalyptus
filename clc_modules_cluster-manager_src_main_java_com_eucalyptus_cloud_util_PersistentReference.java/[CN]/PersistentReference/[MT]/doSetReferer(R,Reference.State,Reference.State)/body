{
  this.checkPreconditions(referer,preconditionState,finalState);
  if ((referer != null) && !Reference.State.PENDING.equals(finalState)) {
    final R refererEntity=referer;
    this.setReference(refererEntity);
    this.setState(finalState);
  }
 else {
    this.setReference(null);
    this.setState(finalState);
  }
  return (T)this;
}
