{
  Long size=0L;
  if ((size=new File(fileName).length()) <= 0) {
    try {
      CommandOutput result=SystemUtil.runWithRawOutput(new String[]{StorageProperties.EUCA_ROOT_WRAPPER,"blockdev","--getsize64",fileName});
      size=Long.parseLong(StringUtils.trimToEmpty(result.output));
    }
 catch (    Exception ex) {
      throw new UnknownFileSizeException(fileName,ex);
    }
  }
  return size;
}
