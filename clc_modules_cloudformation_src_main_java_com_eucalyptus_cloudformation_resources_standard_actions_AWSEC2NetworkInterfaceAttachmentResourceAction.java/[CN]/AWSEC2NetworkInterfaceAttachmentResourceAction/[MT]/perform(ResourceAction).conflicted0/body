{
  final AWSEC2NetworkInterfaceAttachmentResourceAction action=(AWSEC2NetworkInterfaceAttachmentResourceAction)resourceAction;
  if (action.properties.getDeleteOnTermination() != null) {
    final ServiceConfiguration configuration=Topology.lookup(Compute.class);
    final ModifyNetworkInterfaceAttachmentType attachment=new ModifyNetworkInterfaceAttachmentType();
    attachment.setAttachmentId(action.info.getPhysicalResourceId());
    attachment.setDeleteOnTermination(action.properties.getDeleteOnTermination());
    final ModifyNetworkInterfaceAttributeType modifyNetworkInterfaceAttributeType=MessageHelper.createMessage(ModifyNetworkInterfaceAttributeType.class,action.info.getEffectiveUserId());
    modifyNetworkInterfaceAttributeType.setNetworkInterfaceId(action.properties.getNetworkInterfaceId());
    modifyNetworkInterfaceAttributeType.setAttachment(attachment);
    AsyncRequests.<ModifyNetworkInterfaceAttributeType,ModifyNetworkInterfaceAttributeResponseType>sendSync(configuration,modifyNetworkInterfaceAttributeType);
  }
  return action;
}
