def main(self, **args):
    self.args.update(args)
    self.process_args()
    euca_home = self.request_params.get('euca_home', None)
    cfg_file = self.request_params.get('configfile', None)
    edit_flg = self.request_params.get('edit', False)
    if (not euca_home):
        euca_home = os.environ.get('EUCALYPTUS', None)
        if (not euca_home):
            print 'EUCALYPTUS not defined'
            sys.exit(1)
    if cfg_file:
        self.validate_file(euca_home, cfg_file)
        self.save_new_value(cfg_file)
    elif edit_flg:
        value = self.get_current_value()
        path = self.save_to_file(value)
        self.edit_file(path)
        self.validate_file(euca_home, path)
        self.save_new_value(path)
    else:
        path = self.save_to_file('')
        self.create_file(euca_home, path)
        self.save_new_value(path)
