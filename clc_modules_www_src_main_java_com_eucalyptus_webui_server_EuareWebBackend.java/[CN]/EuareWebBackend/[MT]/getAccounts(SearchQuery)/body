{
  List<Account> accounts=Lists.newArrayList();
  for (  final Account account : Accounts.listAllAccounts()) {
    if (query.match(ACCOUNT,new Matcher(){
      @Override public boolean match(      QueryValue value){
        return account.getName() != null && account.getName().contains(value.getValue());
      }
    }
) && query.match(ACCOUNTID,new Matcher(){
      @Override public boolean match(      QueryValue value){
        return account.getAccountNumber() != null && account.getAccountNumber().equals(value.getValue());
      }
    }
)) {
      accounts.add(account);
    }
  }
  return accounts;
}
