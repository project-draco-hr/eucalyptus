{
  try {
    Account account=Accounts.lookupAccountByName(accountName);
    String adminEmail=EuareWebBackend.getAccountAdminEmail(account);
    if (adminEmail == null) {
      throw new IllegalArgumentException("Can not find signup notification email address");
    }
    String subject=WebProperties.getProperty(WebProperties.USER_SIGNUP_SUBJECT,WebProperties.USER_SIGNUP_SUBJECT_DEFAULT);
    String approveUrl=QueryBuilder.get().start(QueryType.approve).add(USERID,user.getUserId()).url(backendUrl);
    String rejectUrl=QueryBuilder.get().start(QueryType.reject).add(USERID,user.getUserId()).url(backendUrl);
    String emailMessage=user.getName() + " has requested a user account in " + accountName+ " on the Eucalyptus system\n"+ "\n   User name:  "+ user.getName()+ "\n   Email address: "+ email+ "\n\n"+ "To APPROVE this request, click on the following link:\n\n   "+ approveUrl+ "\n\n"+ "To REJECT this request, click on the following link:\n\n   "+ rejectUrl+ "\n\n";
    ServletUtils.sendMail(adminEmail,adminEmail,subject + " (" + user.getName()+ ", "+ email+ ")",emailMessage);
  }
 catch (  Exception e) {
    LOG.error("Failed to send user signup email",e);
    LOG.debug(e,e);
  }
}
