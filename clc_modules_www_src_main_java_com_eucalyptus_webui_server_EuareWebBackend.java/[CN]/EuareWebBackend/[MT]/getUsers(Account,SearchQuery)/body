{
  List<User> users=Lists.newArrayList();
  for (  final User user : account.getUsers()) {
    if (query.match(USER,new Matcher(){
      @Override public boolean match(      QueryValue value){
        return user.getName() != null && user.getName().contains(value.getValue());
      }
    }
) && query.match(USERID,new Matcher(){
      @Override public boolean match(      QueryValue value){
        return user.getUserId() != null && user.getUserId().equals(value.getValue());
      }
    }
)) {
      users.add(user);
    }
  }
  return users;
}
