{
  if (volumeInfo instanceof ISCSIVolumeInfo) {
    if (((ISCSIVolumeInfo)volumeInfo).getTid() > -1) {
      ISCSIVolumeInfo iscsiVolumeInfo=(ISCSIVolumeInfo)volumeInfo;
      unexportTarget(iscsiVolumeInfo.getTid(),iscsiVolumeInfo.getLun());
      Long timeout=DirectStorageInfo.getStorageInfo().getTimeoutInMillis();
      CommandOutput output=execute(new String[]{ROOT_WRAP,"tgtadm","--lld","iscsi","--op","show","--mode","target","--tid",String.valueOf(iscsiVolumeInfo.getTid())},timeout);
      if (output.returnValue != 0) {
        iscsiVolumeInfo.setTid(-1);
      }
 else {
        throw new EucalyptusCloudException("Unable to remove tid: " + iscsiVolumeInfo.getTid());
      }
    }
  }
}
