{
  if (volumeInfo instanceof ISCSIVolumeInfo) {
    ISCSIVolumeInfo iscsiVolumeInfo=(ISCSIVolumeInfo)volumeInfo;
    ISCSIMetaInfo metaInfo=new ISCSIMetaInfo();
    EntityWrapper<ISCSIMetaInfo> db=StorageProperties.getEntityWrapper();
    List<ISCSIMetaInfo> metaInfoList=db.query(metaInfo);
    if (metaInfoList.size() > 0) {
      ISCSIMetaInfo foundMetaInfo=metaInfoList.get(0);
      int storeNumber=foundMetaInfo.getStoreNumber();
      int tid=foundMetaInfo.getTid();
      iscsiVolumeInfo.setStoreName(foundMetaInfo.getStorePrefix() + StorageProperties.NAME + ":store"+ storeNumber);
      iscsiVolumeInfo.setStoreUser(foundMetaInfo.getStoreUser());
      iscsiVolumeInfo.setTid(tid);
      iscsiVolumeInfo.setLun(1);
      foundMetaInfo.setStoreNumber(++storeNumber);
      foundMetaInfo.setTid(++tid);
    }
    db.commit();
  }
}
