{
  EntityWrapper<CHAPUserInfo> db=StorageProperties.getEntityWrapper();
  try {
    CHAPUserInfo userInfo=db.getUnique(new CHAPUserInfo("eucalyptus"));
    String encryptedPassword=userInfo.getEncryptedPassword();
    return BlockStorageUtil.encryptNodeTargetPassword(BlockStorageUtil.decryptSCTargetPassword(encryptedPassword));
  }
 catch (  EucalyptusCloudException ex) {
    throw new EucalyptusCloudException("Unable to get CHAP password for: " + "eucalyptus");
  }
 finally {
    db.commit();
  }
}
