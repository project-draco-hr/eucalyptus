{
  EntityWrapper<ObjectEntity> dbSnap=null;
  try {
    dbSnap=EntityWrapper.get(ObjectEntity.class);
    ObjectEntity objInfo=new ObjectEntity();
    objInfo.setBucketName(bucketName);
    objInfo.setIsSnapshot(true);
    Criteria snapCount=dbSnap.createCriteria(ObjectEntity.class).add(Example.create(objInfo)).setProjection(Projections.rowCount());
    snapCount.setReadOnly(true);
    Long rowCount=(Long)snapCount.uniqueResult();
    dbSnap.rollback();
    if (rowCount != null && rowCount.longValue() > 0) {
      return true;
    }
    return false;
  }
 catch (  Exception e) {
    if (dbSnap != null) {
      dbSnap.rollback();
    }
    throw e;
  }
}
