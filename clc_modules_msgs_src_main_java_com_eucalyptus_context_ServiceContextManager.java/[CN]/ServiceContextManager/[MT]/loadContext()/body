{
  LOG.info("The following components have been identified as active: ");
  List<Component> components=Components.whichAreEnabledLocally();
  for (  Component c : components) {
    LOG.info("-> " + c.getComponentId());
  }
  Set<ConfigResource> configs;
  try {
    configs=renderServiceConfigurations(components);
    for (    ConfigResource cfg : configs) {
      LOG.info("-> Rendered cfg: " + cfg.getResourceName());
    }
    try {
      if (builder != null) {
        oldBuilder=builder;
      }
 else {
        builder=new SpringXmlConfigurationBuilder(configs.toArray(new ConfigResource[]{}));
      }
    }
 catch (    Exception e) {
      if (oldBuilder != null) {
        builder=oldBuilder;
      }
      LOG.fatal("Failed to bootstrap services.",e);
      return false;
    }
  }
 catch (  Throwable ex) {
    LOG.error(ex,ex);
  }
  return true;
}
