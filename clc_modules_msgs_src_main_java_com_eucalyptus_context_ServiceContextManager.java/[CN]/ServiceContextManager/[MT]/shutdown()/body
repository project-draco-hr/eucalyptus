{
  MuleContext muleCtx=context.getReference();
  if (muleCtx != null) {
    context.compareAndSet(muleCtx,null,false,true);
    try {
      muleCtx.stop();
      muleCtx.dispose();
    }
 catch (    MuleException ex) {
      LOG.error(ex,ex);
    }
 finally {
      context.compareAndSet(null,null,true,false);
    }
  }
 else {
    context.compareAndSet(null,null,false,false);
  }
}
