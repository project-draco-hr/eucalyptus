{
  try {
    LOG.info("Loading system bus.");
    loadContext();
  }
 catch (  Exception e) {
    LOG.fatal("Failed to configure services.",e);
    return false;
  }
  MuleContext muleCtx=context.getReference();
  if (context.compareAndSet(null,null,false,true)) {
    MuleContext newCtx=createContext();
    context.compareAndSet(null,newCtx,true,false);
  }
 else   if (context.compareAndSet(muleCtx,null,false,true)) {
  }
  context.compareAndSet(null,null,false,false);
  MuleContext newCtx=createContext();
  if (!context.compareAndSet(null,newCtx,false,false)) {
    throw new ServiceInitializationException("Service context initialized twice.");
  }
  try {
    startContext();
  }
 catch (  Exception e) {
    LOG.fatal("Failed to start services.",e);
    return false;
  }
  return true;
}
