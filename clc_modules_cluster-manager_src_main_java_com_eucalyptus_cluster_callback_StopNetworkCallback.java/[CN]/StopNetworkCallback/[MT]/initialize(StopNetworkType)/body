{
  try {
    Network net=Networks.getInstance().lookup(token.getName());
    Cluster cluster=Clusters.getInstance().lookup(token.getCluster());
    LOG.debug("Releasing network token back to cluster: " + token);
    if (net.hasTokens())     throw new EucalyptusClusterException("Returning stop network event since it still exists.");
    cluster.getState().releaseNetworkAllocation(token);
  }
 catch (  EucalyptusClusterException e) {
    LOG.debug("Aborting stop network for network with live instances: " + e.getMessage(),e);
    throw e;
  }
catch (  Exception e) {
    LOG.debug(e);
  }
}
