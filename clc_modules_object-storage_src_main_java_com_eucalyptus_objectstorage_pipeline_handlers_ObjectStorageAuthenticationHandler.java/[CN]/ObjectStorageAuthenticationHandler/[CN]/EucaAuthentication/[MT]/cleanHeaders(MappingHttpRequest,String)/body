{
  if (Strings.isNullOrEmpty(signedHeaders)) {
    signedHeaders="";
  }
  Set<String> signedNames=new TreeSet<String>();
  String[] names=signedHeaders.split(";");
  for (  String n : names) {
    signedNames.add(n.toLowerCase());
  }
  signedNames.addAll(SAFE_HEADER_SET);
  Set<String> removeSet=new TreeSet<String>();
  for (  String headerName : httpRequest.getHeaderNames()) {
    if (!signedNames.contains(headerName.toLowerCase())) {
      removeSet.add(headerName);
    }
  }
  for (  String headerName : removeSet) {
    httpRequest.removeHeader(headerName);
  }
}
