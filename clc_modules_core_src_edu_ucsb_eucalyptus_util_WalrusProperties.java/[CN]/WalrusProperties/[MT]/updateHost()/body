{
  InetAddress ipAddr=null;
  String localAddr="127.0.0.1";
  List<NetworkInterface> ifaces=null;
  try {
    ifaces=Collections.list(NetworkInterface.getNetworkInterfaces());
  }
 catch (  SocketException e1) {
  }
  for (  NetworkInterface iface : ifaces)   try {
    if (!iface.isLoopback() && !iface.isVirtual() && iface.isUp()) {
      for (      InetAddress iaddr : Collections.list(iface.getInetAddresses())) {
        if (!iaddr.isSiteLocalAddress() && !(iaddr instanceof Inet6Address)) {
          ipAddr=iaddr;
        }
 else         if (iaddr.isSiteLocalAddress() && !(iaddr instanceof Inet6Address)) {
          ipAddr=iaddr;
        }
      }
    }
  }
 catch (  SocketException e1) {
  }
  if (ipAddr != null) {
    WALRUS_IP=ipAddr.getHostAddress();
    WALRUS_HOST=ipAddr.getCanonicalHostName();
  }
}
