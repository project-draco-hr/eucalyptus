{
  final String launchConfigName=String.format("lc-euca-internal-imaging-%s",this.getGroupId());
  try {
    final LaunchConfigurationType lcFound=EucalyptusActivityTasks.getInstance().describeLaunchConfiguration(launchConfigName);
    this.createdLaunchConfig=launchConfigName;
  }
 catch (  final Exception ex) {
    ;
  }
  if (this.createdLaunchConfig == null) {
    String instanceProfileName=null;
    try {
      instanceProfileName=this.getResult(IamInstanceProfileSetup.class);
    }
 catch (    Exception ex) {
      throw new ImagingServiceActionException("failed to get the instance profile name",ex);
    }
    String sgName=null;
    try {
      sgName=this.getResult(SecurityGroupSetup.class);
    }
 catch (    Exception ex) {
      throw new ImagingServiceActionException("failed to get the security group name",ex);
    }
    String userData=null;
    try {
      userData=this.getResult(UserDataSetup.class);
    }
 catch (    Exception ex) {
      throw new ImagingServiceActionException("failed to get the user-data field",ex);
    }
    try {
      EucalyptusActivityTasks.getInstance().createLaunchConfiguration(this.emi,this.instanceType,instanceProfileName,launchConfigName,sgName,this.keyName,userData);
      this.createdLaunchConfig=launchConfigName;
    }
 catch (    Exception ex) {
      throw new ImagingServiceActionException("Failed to create launch configuration",ex);
    }
  }
  return true;
}
