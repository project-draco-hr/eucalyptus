{
  List<SecurityGroupItemType> groupInfoList=Lists.newArrayList();
  if (groupNames.isEmpty()) {
    for (    User u : CredentialProvider.getEnabledUsers()) {
      groupInfoList.addAll(NetworkGroupUtil.getUserNetworks(u.getUserName(),groupNames));
    }
  }
 else {
    for (    String groupName : groupNames) {
      if (!NetworkGroupUtil.isUserGroupRef(groupName)) {
        groupInfoList.addAll(NetworkGroupUtil.getUserNetworks(userId,Lists.newArrayList(groupName)));
      }
 else {
        groupInfoList.addAll(NetworkGroupUtil.getUserNetworksAdmin(groupName));
      }
    }
  }
  return groupInfoList;
}
