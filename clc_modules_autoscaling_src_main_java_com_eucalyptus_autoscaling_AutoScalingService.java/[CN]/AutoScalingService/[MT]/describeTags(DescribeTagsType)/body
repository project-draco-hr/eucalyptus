{
  final DescribeTagsResponseType reply=request.getReply();
  final Context context=Contexts.lookup();
  final Ordering<Tag> ordering=Ordering.natural().onResultOf(Tags.resourceId()).compound(Ordering.natural().onResultOf(Tags.key())).compound(Ordering.natural().onResultOf(Tags.value()));
  try {
    final TagDescriptionList tagDescriptions=new TagDescriptionList();
    for (    final Tag tag : ordering.sortedCopy(Tags.list(context.getUserFullName().asAccountFullName(),Predicates.alwaysTrue(),Restrictions.conjunction(),Collections.<String,String>emptyMap()))) {
      if (Permissions.isAuthorized(PolicySpec.VENDOR_AUTOSCALING,tag.getResourceType(),tag.getKey(),context.getAccount(),PolicySpec.describeAction(PolicySpec.VENDOR_AUTOSCALING,tag.getResourceType()),context.getUser())) {
        tagDescriptions.getMember().add(TypeMappers.transform(tag,TagDescription.class));
      }
    }
    if (!tagDescriptions.getMember().isEmpty()) {
      reply.getDescribeTagsResult().setTags(tagDescriptions);
    }
  }
 catch (  NoSuchMetadataException e) {
    handleException(e);
  }
  return reply;
}
