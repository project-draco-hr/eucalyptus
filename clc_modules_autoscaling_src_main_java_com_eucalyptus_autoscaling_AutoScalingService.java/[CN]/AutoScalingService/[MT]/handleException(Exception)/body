{
  final AutoScalingException cause=Exceptions.findCause(e,AutoScalingException.class);
  if (cause != null) {
    throw cause;
  }
  final AuthQuotaException quotaCause=Exceptions.findCause(e,AuthQuotaException.class);
  if (quotaCause != null) {
    throw new LimitExceededException("Request would exceed quota for type: " + quotaCause.getType());
  }
  final ConstraintViolationException constraintViolationException=Exceptions.findCause(e,ConstraintViolationException.class);
  if (constraintViolationException != null) {
    throw new AlreadyExistsException("Resource already exists");
  }
  logger.error(e,e);
  final InternalFailureException exception=new InternalFailureException(String.valueOf(e.getMessage()));
  if (Contexts.lookup().hasAdministrativePrivileges()) {
    exception.initCause(e);
  }
  throw exception;
}
