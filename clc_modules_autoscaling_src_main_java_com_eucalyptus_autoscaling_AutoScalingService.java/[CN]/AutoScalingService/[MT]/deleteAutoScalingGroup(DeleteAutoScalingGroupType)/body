{
  final DeleteAutoScalingGroupResponseType reply=request.getReply();
  final Context ctx=Contexts.lookup();
  try {
    final AutoScalingGroup autoScalingGroup=autoScalingGroups.lookup(ctx.getUserFullName().asAccountFullName(),request.getAutoScalingGroupName());
    if (RestrictedTypes.filterPrivileged().apply(autoScalingGroup)) {
      if (Objects.firstNonNull(request.getForceDelete(),Boolean.FALSE)) {
        final List<AutoScalingInstance> instances=autoScalingInstances.listByGroup(autoScalingGroup);
        if (activityManager.terminateInstances(autoScalingGroup,instances) == null) {
          throw new ScalingActivityInProgressException("Scaling activity in progress");
        }
        autoScalingInstances.deleteByGroup(autoScalingGroup);
      }
 else {
        failIfScaling(activityManager,autoScalingGroup);
      }
      autoScalingGroups.delete(autoScalingGroup);
    }
  }
 catch (  AutoScalingMetadataNotFoundException e) {
  }
catch (  Exception e) {
    handleException(e);
  }
  return reply;
}
