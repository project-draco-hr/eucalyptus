{
  final DescribePoliciesResponseType reply=request.getReply();
  final Context ctx=Contexts.lookup();
  final boolean showAll=request.policyNames().remove("verbose");
  final OwnerFullName ownerFullName=ctx.hasAdministrativePrivileges() && showAll ? null : ctx.getUserFullName().asAccountFullName();
  final Predicate<ScalingPolicy> requestedAndAccessible=Predicates.and(AutoScalingMetadatas.filterPrivilegesById(request.policyNames()),AutoScalingMetadatas.filterByProperty(CollectionUtils.<String>listUnit().apply(request.getAutoScalingGroupName()),ScalingPolicies.toGroupName()));
  try {
    final List<ScalingPolicyType> results=reply.getDescribePoliciesResult().getScalingPolicies().getMember();
    for (    final ScalingPolicy scalingPolicy : scalingPolicies.list(ownerFullName,requestedAndAccessible)) {
      results.add(TypeMappers.transform(scalingPolicy,ScalingPolicyType.class));
    }
  }
 catch (  Exception e) {
    handleException(e);
  }
  return reply;
}
