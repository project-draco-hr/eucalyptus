{
  executor=Executors.newFixedThreadPool(1);
  Runtime.getRuntime().addShutdownHook(new Thread(){
    @Override public void run(){
      LOG.warn("Executing Shutdown Hooks...");
      ShutdownHook h;
      while ((h=hooks.poll()) != null) {
        executor.execute(h.getRunnable());
      }
    }
  }
);
}
