{
  if (objectKeys != null && objectKeys.size() > 0) {
    for (    String objectKey : objectKeys) {
      EntityTransaction tran=Entities.get(ObjectInfo.class);
      try {
        ObjectInfo objectInfo=new ObjectInfo(bucketName,objectKey);
        List<ObjectInfo> results=Entities.query(objectInfo);
        if (results != null && results.size() > 0) {
          ObjectInfo retrieved=results.get(0);
          handle(retrieved);
        }
 else {
          LOG.debug("failed to process object " + objectKey + " in bucket "+ bucketName+ " because it was not found in the database");
        }
        tran.commit();
      }
 catch (      Exception ex) {
        LOG.error("failed to process object " + objectKey + " in bucket "+ bucketName+ " because an exception occurred with message "+ ex.getMessage());
      }
 finally {
        if (tran.isActive()) {
          tran.rollback();
        }
      }
    }
  }
}
