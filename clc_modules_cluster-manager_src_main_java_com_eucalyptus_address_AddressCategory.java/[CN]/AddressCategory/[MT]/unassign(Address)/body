{
  final String instanceId=addr.getInstanceId();
  if (!VmInstance.DEFAULT_IP.equals(addr.getInstanceAddress())) {
    return addr.unassign().getCallback().then(new SuccessCallback(){
      public void apply(      BaseMessage response){
        try {
          VmInstance vm=VmInstances.getInstance().lookup(instanceId);
          Addresses.system(vm);
        }
 catch (        NoSuchElementException e) {
        }
      }
    }
);
  }
 else {
    return new QueuedEventCallback.NOOP();
  }
}
