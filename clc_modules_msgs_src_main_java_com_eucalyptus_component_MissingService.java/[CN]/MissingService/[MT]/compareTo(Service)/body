{
  if (this.getServiceConfiguration().getPartition().equals(that.getServiceConfiguration().getPartition())) {
    if (that.getState().ordinal() == this.getState().ordinal()) {
      return this.getName().compareTo(that.getName());
    }
 else {
      return that.getState().ordinal() - this.getState().ordinal();
    }
  }
 else {
    return this.getServiceConfiguration().getPartition().compareTo(that.getServiceConfiguration().getPartition());
  }
}
