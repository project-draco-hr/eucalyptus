{
  if (this.listeners.isEmpty()) {
    throw new IllegalStateException("Attempt to apply delegated transition before it is defined.");
  }
 else {
    for (    Entry<Integer,TransitionListener<P>> entry : this.listeners.entrySet()) {
      final TransitionListener<P> tl=entry.getValue();
      EventRecord.here(Transition.class,EventType.TRANSITION_LISTENER,this.toString(),phase.toString(),entry.getKey().toString(),tl.getClass().getSimpleName()).trace();
      try {
        if (!pred.apply(entry.getValue())) {
          throw new TransitionListenerException(entry.getValue().getClass().getSimpleName() + "." + phase+ "( ) returned false.");
        }
      }
 catch (      Throwable t) {
        LOG.error(t,t);
        return false;
      }
    }
    return true;
  }
}
