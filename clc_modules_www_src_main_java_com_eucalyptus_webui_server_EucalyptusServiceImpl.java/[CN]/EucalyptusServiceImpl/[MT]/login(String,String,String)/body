{
  randomDelay();
  if (Strings.isNullOrEmpty(accountName) || Strings.isNullOrEmpty(userName) || Strings.isNullOrEmpty(password)) {
    throw new EucalyptusServiceException("Empty login or password");
  }
  User user=EuareWebBackend.getUser(userName,accountName);
  try {
    EuareWebBackend.checkPassword(user,password);
  }
 catch (  EucalyptusServiceException e) {
    if (!EucalyptusServiceException.EXPIRED_PASSWORD.equals(e.getMessage()))     throw e;
  }
  return new Session(WebSessionManager.getInstance().newSession(user.getUserId()));
}
