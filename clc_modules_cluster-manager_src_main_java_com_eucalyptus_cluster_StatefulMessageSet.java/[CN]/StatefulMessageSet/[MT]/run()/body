{
  do {
    if (this.state.equals(failState)) {
      this.pendingEvents.addAll(this.rollbackMessages);
    }
 else {
      this.queueEvents(this.state);
      this.transition();
    }
  }
 while (!this.state.equals(endState) || !this.state.equals(failState));
  LOG.info(EventRecord.here(StatefulMessageSet.class,EventType.VM_STARTED,(System.currentTimeMillis() - this.startTime) / 1000.0d + "s"));
}
