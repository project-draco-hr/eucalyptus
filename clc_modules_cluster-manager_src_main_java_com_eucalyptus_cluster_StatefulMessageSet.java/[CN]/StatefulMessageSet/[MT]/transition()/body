{
  QueuedEventCallback event=null;
  while ((event=this.pendingEvents.poll()) != null) {
    Object o=null;
    try {
      o=event.getResponse();
      LOG.info(this.state.name() + ": received response for cluster " + this.cluster.getName()+ " of type: "+ o);
    }
 catch (    Throwable t) {
      LOG.info(this.state.name() + ": received response for cluster " + this.cluster.getName()+ " of type: "+ t);
      LOG.debug(t,t);
      this.rollback.lazySet(true);
      this.state=failState;
      return;
    }
  }
  LOG.info("Allocator tranitioned from " + this.state.name() + " to "+ this.states[this.state.ordinal() + 1].name());
  this.state=this.states[this.state.ordinal() + 1];
}
