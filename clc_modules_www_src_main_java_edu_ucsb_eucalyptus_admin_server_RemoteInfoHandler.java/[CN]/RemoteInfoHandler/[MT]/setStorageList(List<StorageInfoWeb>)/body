{
  List<StorageControllerConfiguration> storageControllerConfig=Lists.newArrayList();
  List<Runnable> dispatchParameters=Lists.newArrayList();
  for (  StorageInfoWeb storageControllerWeb : newStorageList) {
    final StorageControllerConfiguration scConfig=new StorageControllerConfiguration(null,storageControllerWeb.getName(),storageControllerWeb.getHost(),storageControllerWeb.getPort());
    final UpdateStorageConfigurationType updateStorageConfiguration=new UpdateStorageConfigurationType();
    updateStorageConfiguration.setName(scConfig.getName());
    updateStorageConfiguration.setStorageParams(convertProps(storageControllerWeb.getStorageParams()));
    dispatchParameters.add(new Runnable(){
      @Override public void run(){
        Dispatcher scDispatch=ServiceDispatcher.lookup(scConfig);
        try {
          scDispatch.send(updateStorageConfiguration);
        }
 catch (        Exception e) {
          LOG.error("Error sending update configuration message to storage controller: " + updateStorageConfiguration);
          LOG.error("The storage controller's configuration may be out of sync!");
          LOG.debug(e,e);
        }
      }
    }
);
    storageControllerConfig.add(scConfig);
  }
  updateStorageControllerConfigurations(storageControllerConfig);
  for (  Runnable dispatch : dispatchParameters) {
    dispatch.run();
  }
}
