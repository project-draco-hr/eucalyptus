def netmaskToPrefix(mask):
    'Convert a dotted-quad netmask to an integer "prefix"\n\n    :param mask: A dotted-quad netmask\n    :type mask: str\n    :returns: The number of prefix bits in the netmask\n    :rtype: int\n    :raises: ValueError\n\n    '
    all_ones = ((1 << 32) - 1)
    nm = dottedQuadToNum(mask)
    prefix = 32
    suffix = 0
    while ((suffix | nm) < all_ones):
        suffix = ((suffix << 1) + 1)
        prefix -= 1
    if ((suffix ^ nm) == all_ones):
        return prefix
    else:
        raise ValueError, ('netmask %s is not contiguous' % mask)
