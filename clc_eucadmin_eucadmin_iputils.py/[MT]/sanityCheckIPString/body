def sanityCheckIPString(ip_string):
    'Sanity check an IP string. Taken from anaconda.network\n\n    :param ip_string: The IP address\n    :type ip_string: str.\n    :returns: None\n    :raises: IPMissing, IPError\n\n    '
    if (ip_string.strip() == ''):
        raise IPMissing, 'IP address is missing.'
    if ((ip_string.find(':') == (-1)) and (ip_string.find('.') > 0)):
        family = socket.AF_INET
        errstr = 'IPv4 addresses must contain four numbers between 0 and 255, separated by periods.'
    elif ((ip_string.find(':') > 0) and (ip_string.find('.') == (-1))):
        family = socket.AF_INET6
        errstr = ("'%s' is not a valid IPv6 address." % ip_string)
    else:
        raise IPError, ("'%s' is an invalid IP address." % ip_string)
    try:
        socket.inet_pton(family, ip_string)
    except socket.error:
        raise IPError, errstr
