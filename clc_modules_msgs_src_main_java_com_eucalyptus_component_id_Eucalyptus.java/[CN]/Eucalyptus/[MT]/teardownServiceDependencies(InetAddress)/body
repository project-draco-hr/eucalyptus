{
  if (!Internets.testLocal(addr)) {
    LOG.warn("Failed to reach host for cloud controller: " + addr);
    return false;
  }
 else {
    try {
      for (      ComponentId compId : ComponentIds.list()) {
        try {
          if (compId.isCloudLocal() && !compId.isRegisterable()) {
            ServiceConfiguration dependsConfig=ServiceConfigurations.lookupByName(compId.getClass(),addr.getHostAddress());
            Topology.stop(dependsConfig);
          }
        }
 catch (        Exception ex) {
          LOG.error(ex,ex);
        }
      }
      return true;
    }
 catch (    Exception ex) {
      LOG.error(ex,ex);
      return false;
    }
  }
}
