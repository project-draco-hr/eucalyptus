{
  final Collection<Integer> ports=evt.getPorts();
  LoadBalancer lb=null;
  String groupName=null;
  try {
    lb=LoadBalancers.getLoadbalancer(evt.getContext().getUserFullName(),evt.getLoadBalancer());
    Collection<LoadBalancerSecurityGroup> groups=lb.getGroups();
    if (groups.size() > 0)     groupName=groups.toArray(new LoadBalancerSecurityGroup[groups.size()])[0].getName();
  }
 catch (  Exception ex) {
    throw new EventHandlerException("could not find the loadbalancer",ex);
  }
  if (groupName == null)   throw new EventHandlerException("Group name is not found");
  String[] protocols=new String[]{"tcp"};
  for (  String protocol : protocols) {
    for (    Integer port : ports) {
      try {
        EucalyptusActivityTasks.getInstance().revokeSecurityGroup(groupName,protocol,port);
      }
 catch (      Exception ex) {
        ;
      }
    }
  }
}
