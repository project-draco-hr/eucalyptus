{
  AccessControlPolicy acPolicy=null;
  if (policy != null) {
    acPolicy=policy;
  }
 else {
    acPolicy=new AccessControlPolicy();
  }
  if (acPolicy.getOwner() == null) {
    acPolicy.setOwner(buildCanonicalUser(requestUser.getAccount()));
  }
  if (acPolicy.getAccessControlList() == null) {
    acPolicy.setAccessControlList(new AccessControlList());
  }
  if (acPolicy.getAccessControlList().getGrants() == null || acPolicy.getAccessControlList().getGrants().size() == 0) {
    acPolicy.getAccessControlList().getGrants().add(new Grant(new Grantee(buildCanonicalUser(requestUser.getAccount())),ObjectStorageProperties.Permission.FULL_CONTROL.toString()));
  }
  if (bucketOwnerCanonicalId != null) {
    acPolicy.setAccessControlList(AclUtils.expandCannedAcl(acPolicy.getAccessControlList(),bucketOwnerCanonicalId,requestUser.getAccount().getCanonicalId()));
  }
 else {
    acPolicy.setAccessControlList(AclUtils.expandCannedAcl(acPolicy.getAccessControlList(),requestUser.getAccount().getCanonicalId(),null));
  }
  return acPolicy;
}
