{
  if (EucalyptusProperties.disableNetworking) {
    return;
  }
 else   if (addresses.size() < runningVms.size()) {
    LOG.error("Number of running VMs is greater than number of assigned addresses!");
  }
 else {
    for (    VmInfo vm : runningVms) {
      String addr=addresses.remove(0);
      try {
        new AddressManager().AssociateAddress(Admin.makeMsg(AssociateAddressType.class,addr,vm.getInstanceId()));
      }
 catch (      AxisFault axisFault) {
        LOG.error(axisFault);
      }
    }
  }
  for (  String addr : addresses) {
    try {
      new AddressManager().ReleaseAddress(Admin.makeMsg(ReleaseAddressType.class,addr));
      LOG.warn("Released unused public address: " + addr);
    }
 catch (    EucalyptusCloudException e) {
    }
  }
}
