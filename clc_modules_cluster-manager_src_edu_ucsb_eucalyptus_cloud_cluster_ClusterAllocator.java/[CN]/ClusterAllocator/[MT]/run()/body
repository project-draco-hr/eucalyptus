{
  this.state=State.CREATE_NETWORK;
  while (!this.state.equals(State.FINISHED)) {
switch (this.state) {
case CREATE_NETWORK:
      this.queueEvents();
    this.setState(State.CREATE_NETWORK_RULES);
  break;
case CREATE_NETWORK_RULES:
this.queueEvents();
this.setState(State.CREATE_VMS);
break;
case CREATE_VMS:
this.queueEvents();
this.setState(State.FINISHED);
break;
case ROLLBACK:
this.queueEvents();
this.setState(State.FINISHED);
break;
case FINISHED:
break;
}
this.clearQueue();
}
}
