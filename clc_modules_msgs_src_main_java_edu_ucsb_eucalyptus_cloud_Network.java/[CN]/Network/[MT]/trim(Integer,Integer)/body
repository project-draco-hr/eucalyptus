{
  AddressRange addrRange=new AddressRange(){
{
      this.min=min;
      this.max=max;
    }
  }
;
  AddressRange oldRange=this.addrsPerNet.getAndSet(addrRange);
  if (oldRange.max > addrRange.max) {
    for (int i=addrRange.max; i < oldRange.max; i++) {
      if (this.networkIndexes.remove(i,NetworkIndexState.ILLEGAL) || this.networkIndexes.remove(i,NetworkIndexState.FREE)) {
        EventRecord.caller(this.getClass(),EventType.TOKEN_RETURNED,this.fullName.toString(),"networkIndex",i,"state",this.networkIndexes.get(i)).debug();
      }
    }
  }
  this.networkIndexes.keySet().tailSet(this.addrsPerNet.get().max - 1,true).clear();
  this.networkIndexes.keySet().headSet(this.addrsPerNet.get().min).clear();
}
