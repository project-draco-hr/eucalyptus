{
  final EntityTransaction db=Entities.get(LoadBalancer.class);
  try {
    final LoadBalancer lb=Entities.uniqueResult(LoadBalancer.named(user,lbName));
    Entities.delete(lb);
    db.commit();
  }
 catch (  NoSuchElementException e) {
    db.rollback();
    throw new LoadBalancingException("No loadbalancer is found with name = " + lbName,e);
  }
catch (  Exception e) {
    db.rollback();
    LOG.error("failed to delete a loadbalancer",e);
    throw new LoadBalancingException("Failed to delete the loadbalancer " + lbName,e);
  }
}
