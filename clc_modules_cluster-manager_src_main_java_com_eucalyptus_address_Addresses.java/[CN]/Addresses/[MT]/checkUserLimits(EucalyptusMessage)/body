{
  int addrCount=0;
  for (  Address a : Addresses.getInstance().listValues()) {
    if (request.getUserId().equals(a.getUserId()))     addrCount++;
  }
  if (addrCount >= Addresses.getUserMaxAddresses() && !request.isAdministrator())   throw new EucalyptusCloudException(ExceptionList.ERR_SYS_INSUFFICIENT_ADDRESS_CAPACITY);
}
