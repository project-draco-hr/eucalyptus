{
  int addrCount=0;
  for (  Address a : Addresses.getInstance().listValues()) {
    if (userId.equals(a.getUserId()))     addrCount++;
  }
  if (addrCount >= Addresses.getUserMaxAddresses() && !isAdministrator) {
    throw new EucalyptusCloudException(ExceptionList.ERR_SYS_INSUFFICIENT_ADDRESS_CAPACITY);
  }
}
