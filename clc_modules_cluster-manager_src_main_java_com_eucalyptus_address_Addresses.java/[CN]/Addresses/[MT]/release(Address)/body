{
  try {
    addr.clearPending();
  }
 catch (  IllegalStateException e1) {
    LOG.debug(e1,e1);
  }
  if (addr.isAssigned()) {
    final String instanceId=addr.getInstanceId();
    try {
      addr.unassign().getCallback().onSuccess(new SuccessCallback(){
        public void apply(        Object response){
          addr.release();
          Addresses.system(VmInstances.getInstance().lookup(instanceId));
        }
      }
).dispatch(addr.getCluster());
    }
 catch (    Exception e) {
      LOG.debug(e,e);
    }
  }
 else {
    addr.release();
  }
}
