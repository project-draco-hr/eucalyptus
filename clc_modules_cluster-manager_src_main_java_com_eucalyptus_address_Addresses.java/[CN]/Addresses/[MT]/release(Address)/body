{
  try {
    final String instanceId=addr.getInstanceId();
    if (addr.isAssigned()) {
      try {
        final VmInstance vm=VmInstances.lookup(instanceId);
        AsyncRequests.newRequest(addr.unassign().getCallback()).then(new UnconditionalCallback(){
          @Override public void fire(){
            try {
              Addresses.system(vm);
            }
 catch (            final NoSuchElementException ex) {
            }
          }
        }
).dispatch(vm.getPartition());
      }
 catch (      TerminatedInstanceException ex) {
      }
catch (      NoSuchElementException ex) {
      }
    }
 else {
      addr.release();
    }
  }
 catch (  final IllegalStateException e) {
    LOG.debug(e,e);
  }
}
