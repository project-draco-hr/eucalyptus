{
  ReleaseAddressResponseType reply=(ReleaseAddressResponseType)request.getReply();
  reply.set_return(false);
  Addresses.updateAddressingMode();
  Address address=Addresses.restrictedLookup(request.getUserId(),request.isAdministrator(),request.getPublicIp());
  EventRecord.here(AddressManager.class,EventClass.ADDRESS,EventType.ADDRESS_RELEASE,request.getUserId(),address.getName()).info();
  Addresses.release(address);
  reply.set_return(true);
  return reply;
}
