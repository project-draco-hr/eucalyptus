{
  AllocateAddressResponseType reply=(AllocateAddressResponseType)request.getReply();
  Address address;
  try {
    Supplier<Address> allocator=new Supplier<Address>(){
      @Override public Address get(){
        try {
          return Addresses.allocate(request);
        }
 catch (        Exception ex) {
          throw new RuntimeException(ex);
        }
      }
    }
;
    address=RestrictedTypes.allocate(allocator);
  }
 catch (  Exception e) {
    LOG.debug(e,e);
    throw new EucalyptusCloudException(e);
  }
  reply.setPublicIp(address.getName());
  return reply;
}
