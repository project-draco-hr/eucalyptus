{
  AllocateAddressResponseType reply=(AllocateAddressResponseType)request.getReply();
  Address address;
  try {
    address=Addresses.allocate(request);
  }
 catch (  NotEnoughResourcesException e) {
    LOG.debug(e,e);
    throw new EucalyptusCloudException(e);
  }
  reply.setPublicIp(address.getName());
  return reply;
}
