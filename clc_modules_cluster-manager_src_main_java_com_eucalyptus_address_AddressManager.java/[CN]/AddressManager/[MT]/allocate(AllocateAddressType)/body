{
  AllocateAddressResponseType reply=(AllocateAddressResponseType)request.getReply();
  try {
    Address address=RestrictedTypes.allocateNamedUnitlessResources(1,Addresses.Allocator.INSTANCE,Addresses.Allocator.INSTANCE).get(0);
    reply.setPublicIp(address.getName());
  }
 catch (  RuntimeException e) {
    if (e.getCause() != null)     throw new EucalyptusCloudException(e.getCause());
 else     throw new EucalyptusCloudException("couldn't allocate addresses");
  }
catch (  Exception e) {
    throw e;
  }
  return reply;
}
