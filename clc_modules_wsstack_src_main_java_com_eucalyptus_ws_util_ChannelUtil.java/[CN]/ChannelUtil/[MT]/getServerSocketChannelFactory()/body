{
  canHas.lock();
  try {
    if (serverSocketFactory == null) {
      serverSocketFactory=new NioServerSocketChannelFactory(ChannelUtil.getServerBossThreadPool(),ChannelUtil.getServerWorkerThreadPool(),SERVER_POOL_MAX_THREADS);
    }
  }
  finally {
    canHas.unlock();
  }
  return serverSocketFactory;
}
