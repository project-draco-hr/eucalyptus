{
  if (Ats.from(candidate).has(TypeMapper.class) && Function.class.isAssignableFrom(candidate)) {
    TypeMapper mapper=Ats.from(candidate).get(TypeMapper.class);
    Class[] types=mapper.value();
    if (!types[0].equals(Object.class) && !types[1].equals(Object.class)) {
      try {
        registerMapper(types[0],types[1],(Function)Classes.newInstance(candidate));
        return true;
      }
 catch (      Exception ex1) {
        LOG.error(ex1,ex1);
      }
    }
    if (!mapper.from().equals(Object.class) && !mapper.to().equals(Object.class)) {
      try {
        registerMapper(mapper.from(),mapper.to(),(Function)Classes.newInstance(candidate));
        return true;
      }
 catch (      Exception ex1) {
        LOG.error(ex1,ex1);
      }
    }
    List<Class> generics=Lists.newArrayList();
    try {
      generics.addAll(Classes.genericsToClasses(Classes.newInstance(candidate)));
    }
 catch (    Exception ex) {
      LOG.error(ex,ex);
    }
    if (generics.size() != 2) {
      return false;
    }
 else {
      try {
        registerMapper(generics.get(0),generics.get(1),(Function)Classes.newInstance(candidate));
        return true;
      }
 catch (      Exception ex1) {
        LOG.error(ex1,ex1);
      }
    }
  }
  return false;
}
