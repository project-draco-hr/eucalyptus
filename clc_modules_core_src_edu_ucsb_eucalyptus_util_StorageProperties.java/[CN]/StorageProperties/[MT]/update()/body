{
  try {
    SystemConfiguration systemConfiguration=EucalyptusProperties.getSystemConfiguration();
    UpdateStorageConfigurationType updateConfig=new UpdateStorageConfigurationType();
    Integer maxTotalVolumeSize=systemConfiguration.getStorageMaxTotalVolumeSizeInGb();
    if (maxTotalVolumeSize != null) {
      if (maxTotalVolumeSize > 0) {
        MAX_TOTAL_VOLUME_SIZE=maxTotalVolumeSize;
      }
    }
    Integer maxTotalSnapSize=systemConfiguration.getStorageMaxSnapshotSizeInGb();
    if (maxTotalSnapSize != null) {
      if (maxTotalSnapSize > 0) {
        MAX_TOTAL_SNAPSHOT_SIZE=maxTotalSnapSize;
      }
    }
    updateConfig.setMaxTotalVolumeSize(MAX_TOTAL_VOLUME_SIZE);
    updateConfig.setMaxTotalSnapshotSize(MAX_TOTAL_SNAPSHOT_SIZE);
    updateConfig.setMaxVolumeSize(MAX_VOLUME_SIZE);
    updateConfig.setMaxSnapshotSize(MAX_SNAPSHOT_SIZE);
    updateConfig.setStorageRootDirectory(storageRootDirectory);
    updateConfig.setStorageInterface(storageInterface);
    Messaging.send(STORAGE_REF,updateConfig);
  }
 catch (  Exception ex) {
    LOG.warn(ex.getMessage());
  }
}
