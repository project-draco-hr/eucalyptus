{
  LOG.debug("Found channel open: writing message " + msg.getClass().getCanonicalName());
  String servicePath="/axis2/services/EucalyptusCC";
  InetSocketAddress addr=(InetSocketAddress)channel.getRemoteAddress();
  this.setRequest(msg);
  HttpRequest request=new MappingHttpRequest(HttpVersion.HTTP_1_1,HttpMethod.POST,addr.getHostName(),addr.getPort(),servicePath,msg);
  try {
    this.prepare(msg);
  }
 catch (  Exception e) {
    LOG.debug(e,e);
    this.responseQueue.offer(e);
    channel.close();
    throw e;
  }
  channel.write(request);
}
