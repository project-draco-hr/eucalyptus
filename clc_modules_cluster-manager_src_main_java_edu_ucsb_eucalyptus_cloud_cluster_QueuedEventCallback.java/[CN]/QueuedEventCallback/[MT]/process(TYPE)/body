{
  if (this.channelConnected != null && this.channelConnected.isDone() && this.inFlightMessage.compareAndSet(false,true)) {
    this.channelConnected=null;
    this.fireMessage(msg,this.channelConnected.getChannel());
  }
 else {
    LOG.debug("Found channel pending: defering message " + msg.getClass().getCanonicalName());
    super.getRequestQueue().add((EucalyptusMessage)msg);
  }
}
