{
  EntityWrapper<ReportingInstanceAttributeEvent> entityWrapper=EntityWrapper.get(ReportingInstanceAttributeEvent.class);
  try {
    if (!alreadyHaveAttrUuids.contains(uuid)) {
      ReportingInstanceAttributeEvent event=new ReportingInstanceAttributeEvent(uuid,timestampMs,instanceId,instanceType,userId,clusterName,availabilityZone);
      entityWrapper.add(event);
      entityWrapper.commit();
      alreadyHaveAttrUuids.add(uuid);
      LOG.debug("Added event to db:" + event);
    }
  }
 catch (  Exception ex) {
    LOG.error(ex);
    entityWrapper.rollback();
    throw new RuntimeException(ex);
  }
}
