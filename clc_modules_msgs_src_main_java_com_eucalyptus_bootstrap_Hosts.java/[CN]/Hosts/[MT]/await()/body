{
  if (get() != null) {
    return get();
  }
 else   if (findCoordinator(Hosts.listDatabases()) == null && BootstrapArgs.isCloudController()) {
    return Hosts.localHost();
  }
 else {
    for (Host h=findCoordinator(Hosts.listDatabases()); h != null && (!h.hasBootstrapped() || !h.hasSynced()); h=findCoordinator(Hosts.listDatabases())) {
      try {
        LOG.info("Waiting for cloud coordinator to become ready: " + h);
        TimeUnit.MILLISECONDS.sleep(1000);
      }
 catch (      InterruptedException ex) {
        Exceptions.maybeInterrupted(ex);
      }
    }
    Host initCoordinator=findCoordinator(Hosts.listDatabases());
    if (initCoordinator == null) {
      return Hosts.localHost();
    }
 else {
      return initCoordinator;
    }
  }
}
