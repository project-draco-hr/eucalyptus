{
  try {
    ServiceConfiguration conf=null;
    if (!input.isVmLocal() && !Hosts.Coordinator.INSTANCE.isLocalhost()) {
      conf=ServiceTransitions.pathTo(input,State.ENABLED).get();
    }
 else     if (input.isVmLocal() && Hosts.Coordinator.INSTANCE.isLocalhost()) {
      conf=ServiceTransitions.pathTo(input,State.ENABLED).get();
    }
 else {
      conf=ServiceTransitions.pathTo(input,State.DISABLED).get();
    }
    LOG.info("Initialized service: " + conf.getFullName());
    return conf;
  }
 catch (  final ExecutionException ex) {
    Exceptions.trace(ex.getCause());
  }
catch (  final InterruptedException ex) {
    Thread.currentThread().interrupt();
    Exceptions.trace(ex.getCause());
  }
  return input;
}
