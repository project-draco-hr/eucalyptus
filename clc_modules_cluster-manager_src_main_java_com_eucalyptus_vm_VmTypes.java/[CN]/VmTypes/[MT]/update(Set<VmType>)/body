{
  NavigableSet<VmType> newList=VmTypes.list();
  if (newVmTypes.size() != newList.size())   throw new EucalyptusCloudException("Proposed VmTypes fail to satisfy well-ordering requirement.");
  for (  VmType newVm : newVmTypes) {
    if (!getSingleton().vmTypeMap.containsValue(newVm)) {
      EntityWrapper<VmType> db=EntityWrapper.get(VmType.class);
      try {
        VmType oldVm=db.getUnique(new VmType(newVm.getName()));
        oldVm.setCpu(newVm.getCpu());
        oldVm.setDisk(newVm.getDisk());
        oldVm.setMemory(newVm.getMemory());
        db.commit();
      }
 catch (      EucalyptusCloudException e) {
        db.rollback();
        throw e;
      }
catch (      Exception t) {
        db.rollback();
        throw new EucalyptusCloudException(t);
      }
    }
  }
}
