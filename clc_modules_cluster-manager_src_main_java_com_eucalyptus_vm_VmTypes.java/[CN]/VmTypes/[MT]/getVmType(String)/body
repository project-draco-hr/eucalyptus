{
  getSingleton().update();
  if (name == null) {
    return getSingleton().vmTypeMap.get(VmTypes.DEFAULT_TYPE_NAME);
  }
 else {
    if (getSingleton().vmTypeMap.containsKey(name)) {
      return getSingleton().vmTypeMap.get(name);
    }
 else {
      throw new NoSuchMetadataException("instance type does not exist: " + name);
    }
  }
}
