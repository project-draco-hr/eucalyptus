{
  PrintWriter out=res.getWriter();
  res.setContentType("text/html");
  JRExporter exporter=new JRHtmlExporter();
  exporter.setParameter(new JRExporterParameter("EUCA_WWW_DIR"){
  }
,"/");
  String pageStr=Param.page.get(request);
  if (pageStr != null) {
    try {
      Integer currentPage=new Integer(pageStr);
      exporter.setParameter(JRExporterParameter.PAGE_INDEX,currentPage);
    }
 catch (    NumberFormatException e) {
    }
  }
  exporter.setParameter(JRExporterParameter.OUTPUT_WRITER,res.getWriter());
  exporter.setParameter(JRHtmlExporterParameter.IS_REMOVE_EMPTY_SPACE_BETWEEN_ROWS,Boolean.TRUE);
  exporter.setParameter(JRHtmlExporterParameter.IS_USING_IMAGES_TO_ALIGN,Boolean.FALSE);
  return exporter;
}
