{
  try {
    if (!flush && reportCache.containsKey(name) && !reportCache.get(name).isExpired()) {
      return reportCache.get(name);
    }
 else     if (reportCache.containsKey(name) && (reportCache.get(name).isExpired() || flush)) {
      ReportCache r=reportCache.get(name);
      r.rerun();
      return r;
    }
 else {
      ReportCache r=reportCache.get(name);
      final JasperDesign jasperDesign=JRXmlLoader.load(SubDirectory.REPORTS.toString() + File.separator + name+ ".jrxml");
      reportCache.put(name,new ReportCache(name,jasperDesign));
    }
    return reportCache.get(name);
  }
 catch (  Throwable t) {
    LOG.error(t,t);
    throw new JRException(t);
  }
}
