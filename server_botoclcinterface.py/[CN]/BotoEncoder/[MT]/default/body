def default(self, obj):
    if isinstance(obj, RegionInfo):
        return obj.__dict__
    if isinstance(obj, EC2Connection):
        return []
    elif issubclass(obj.__class__, EC2Object):
        return obj.__dict__
    elif issubclass(obj.__class__, Group):
        return obj.__dict__
    elif issubclass(obj.__class__, AttachmentSet):
        return obj.__dict__
    return super(BotoEncoder, self).default(obj)
