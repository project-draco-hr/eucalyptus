{
  try {
    E msg=null;
    if (args.length != 0) {
      for (      Constructor c : clazz.getConstructors()) {
        if (accepts(c.getParameterTypes(),args)) {
          msg=(E)c.newInstance(args);
        }
      }
    }
    if (msg == null) {
      if (args.length > 0)       LOG.error("Failed to find a constructor for requested message: " + clazz + " with args "+ Lists.newArrayList(args),new Throwable());
      msg=clazz.newInstance();
    }
    if (msg.getUserId() == null)     msg.setUserId(Component.eucalyptus.name());
    msg.setEffectiveUserId(Component.eucalyptus.name());
    StackTraceElement elem=new Throwable().fillInStackTrace().getStackTrace()[1];
    EucalyptusMessage reMsg=msg;
    msg.setCorrelationId(reMsg.getCorrelationId());
    return msg;
  }
 catch (  Exception e) {
    LOG.error(e,e);
    return null;
  }
}
