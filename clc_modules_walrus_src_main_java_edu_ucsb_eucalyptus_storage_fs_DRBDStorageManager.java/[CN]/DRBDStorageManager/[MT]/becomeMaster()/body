{
  checkLocalDisk();
  if (!isPrimary()) {
    if (!isPeerSecondary()) {
      throw new EucalyptusCloudException("Peer is not secondary and I am master!");
    }
    makePrimary();
  }
  if (!isConnected()) {
    connectResource();
    if (!isConnected()) {
      throw new EucalyptusCloudException("Resource could not be connected to peer.");
    }
  }
  if (!isMounted()) {
    mountPrimary();
  }
  if (!isPrimary()) {
    throw new EucalyptusCloudException("Unable to make resource primary.");
  }
}
