{
  if (this.attachedRole != null && this.instanceProfile != null) {
    try {
      EucalyptusActivityTasks.getInstance().removeRoleFromInstanceProfile(this.instanceProfile.getInstanceProfileName(),this.attachedRole);
    }
 catch (    final Exception ex) {
      ;
    }
  }
  if (this.instanceProfile != null) {
    try {
      EucalyptusActivityTasks.getInstance().deleteInstanceProfile(this.instanceProfile.getInstanceProfileName());
    }
 catch (    final Exception ex) {
      throw new ImagingServiceActionException("Failed to delete instance profile",ex);
    }
  }
}
