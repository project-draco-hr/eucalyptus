{
  if (null != getRequestHeader("expect") && getStatusCode() != HttpStatus.SC_CONTINUE) {
    return false;
  }
  OutputStream out=conn.getRequestOutputStream();
  InputStream inputStream=null;
  if (outFile != null) {
    inputStream=new FileInputStream(outFile);
  }
  byte[] buffer=new byte[StorageProperties.TRANSFER_CHUNK_SIZE];
  int nb=0;
  while (true) {
    nb=inputStream.read(buffer);
    if (nb == -1) {
      break;
    }
    out.write(buffer,0,nb);
    callback.run();
  }
  inputStream.close();
  out.close();
  return true;
}
