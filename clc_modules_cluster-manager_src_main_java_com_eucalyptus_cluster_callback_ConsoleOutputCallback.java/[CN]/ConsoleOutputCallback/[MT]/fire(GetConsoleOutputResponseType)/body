{
  LOG.debug(reply.toSimpleString());
  VmInstance vm=VmInstances.getInstance().lookup(this.getRequest().getInstanceId());
  String output=null;
  try {
    output=new String(Base64.decode(reply.getOutput().getBytes()));
    if (!"EMPTY".equals(output))     vm.setConsoleOutput(new StringBuffer().append(output));
  }
 catch (  ArrayIndexOutOfBoundsException e1) {
  }
  reply.setInstanceId(this.getRequest().getInstanceId());
  reply.setTimestamp(new Date());
  reply.setOutput(vm.getConsoleOutputString());
  ServiceContext.response(reply);
}
