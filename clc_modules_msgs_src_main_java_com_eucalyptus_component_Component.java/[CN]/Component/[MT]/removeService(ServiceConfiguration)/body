{
  this.enabled=false;
  final boolean configLocal=NetworkUtil.testLocal(config.getHostName());
  Service remove=Iterables.find(this.services.values(),new Predicate<Service>(){
    @Override public boolean apply(    Service arg0){
      return arg0.getHost().equals(config.getHostName()) || (arg0.isLocal() && configLocal);
    }
  }
);
  Service service=this.services.remove(remove.getName());
  Components.deregister(service);
  EventRecord.caller(Component.class,config.isLocal() ? EventType.COMPONENT_SERVICE_STOP : EventType.COMPONENT_SERVICE_STOP_REMOTE,this.getName(),service.getName(),service.getUri().toString()).info();
}
