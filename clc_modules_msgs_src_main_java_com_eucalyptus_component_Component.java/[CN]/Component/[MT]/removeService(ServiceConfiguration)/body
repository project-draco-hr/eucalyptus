{
  Service service=this.lookupServiceByHost(config.getHostName());
  if (service == null) {
    throw new ServiceRegistrationException("Failed to find service corresponding to: " + config);
  }
 else {
    this.builder.fireStop(config);
    DispatcherFactory.remove(service);
    Components.deregister(service);
    EventRecord.caller(Component.class,EventType.COMPONENT_SERVICE_STOP,this.getName(),service.getName(),service.getUri().toString()).info();
    this.services.remove(service.getName());
  }
}
