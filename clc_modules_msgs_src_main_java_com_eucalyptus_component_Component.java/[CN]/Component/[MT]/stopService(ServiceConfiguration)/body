{
  EventRecord.caller(Component.class,EventType.COMPONENT_SERVICE_STOP,this.getName(),service.getName(),service.getUri().toString()).info();
  if (service.isLocal()) {
    if (State.ENABLED.equals(this.stateMachine.getState())) {
      this.stateMachine.transitionNow(State.DISABLED);
    }
    DispatcherFactory.remove(this.services.get(service));
    this.stateMachine.transitionNow(State.STOPPED);
  }
 else {
    this.builder.fireStop(service);
  }
}
