{
  Service ret=this.services.remove(config);
  if (ret == null) {
    throw new NoSuchElementException("Failed to lookup service corresponding to full-name: " + config);
  }
 else   if (ret.getServiceConfiguration().isVmLocal()) {
    this.localService.compareAndSet(ret,null);
  }
  try {
    ListenerRegistry.getInstance().deregister(ClockTick.class,ret);
  }
 catch (  Exception ex) {
    LOG.error(ex,ex);
  }
  try {
    ListenerRegistry.getInstance().deregister(Hertz.class,ret);
  }
 catch (  Exception ex) {
    LOG.error(ex,ex);
  }
  return ret;
}
