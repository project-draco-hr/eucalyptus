{
  Exceptions.ifNullArgument(hostName);
  for (  Service s : this.services.values()) {
    if (hostName.equals(s.getServiceConfiguration().getHostName())) {
      return s;
    }
  }
  for (  Service s : this.services.values()) {
    if (hostName.equals(s.getEndpoint().getHost())) {
      return s;
    }
  }
  if (NetworkUtil.testLocal(hostName)) {
    for (    Service s : this.services.values()) {
      if (hostName.equals(s.getEndpoint().getHost())) {
        return s;
      }
    }
  }
  if (NetworkUtil.testLocal(hostName)) {
    for (    Service s : this.services.values()) {
      if (s.isLocal()) {
        return s;
      }
    }
  }
  LOG.error(this.services.values());
  throw new NoSuchElementException("No service found matching hostname: " + hostName + " for component: "+ this.getName());
}
