{
  final CheckedListenableFuture<ServiceConfiguration> transitionFuture=Futures.newGenericFuture();
  Callable<ServiceConfiguration> transition=null;
switch (this.getState()) {
case NOTREADY:
case DISABLED:
    transition=makeEnableCallable(configuration,transitionFuture);
  break;
case LOADED:
case STOPPED:
transition=makeStartCallable(configuration,null,makeEnableCallable(configuration,transitionFuture));
break;
case INITIALIZED:
transition=makeLoadCallable(configuration,null,makeStartCallable(configuration,null,makeEnableCallable(configuration,transitionFuture)));
break;
case ENABLED:
transition=noTransition;
transitionFuture.set(this.getLocalService().getServiceConfiguration());
break;
default :
throw new IllegalStateException("Failed to find transition for current component state: " + this.toString());
}
Threads.lookup(Empyrean.class).submit(transition);
return transitionFuture;
}
