{
  BasicService ret=this.services.remove(config);
  if (ret == null) {
    throw new NoSuchElementException("Failed to lookup service corresponding to full-name: " + config);
  }
 else   if (config.isVmLocal()) {
    this.localService.compareAndSet(ret,null);
  }
  return ret;
}
