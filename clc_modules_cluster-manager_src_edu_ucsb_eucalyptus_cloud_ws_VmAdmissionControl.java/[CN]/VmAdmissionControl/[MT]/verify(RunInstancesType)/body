{
  VmAllocationInfo vmAllocInfo=new VmAllocationInfo(request);
  vmAllocInfo.setReservationIndex(Counters.getIdBlock(request.getMaxCount()));
  String userData=vmAllocInfo.getRequest().getUserData();
  if (userData != null)   userData=new String(Base64.decode(vmAllocInfo.getRequest().getUserData()));
 else {
    userData="";
  }
  vmAllocInfo.setUserData(userData);
  vmAllocInfo.getRequest().setUserData(new String(Base64.encode(userData.getBytes())));
  return vmAllocInfo;
}
