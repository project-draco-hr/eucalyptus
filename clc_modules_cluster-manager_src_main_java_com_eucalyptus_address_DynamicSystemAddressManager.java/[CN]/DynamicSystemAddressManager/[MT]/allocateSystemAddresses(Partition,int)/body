{
  if (Addresses.getInstance().listDisabledValues().size() < count) {
    throw new NotEnoughResourcesAvailable("Not enough resources available: addresses (try --addressing private)");
  }
 else {
    final List<Address> addressList=Lists.newArrayList();
    for (    final Address addr : Addresses.getInstance().listDisabledValues()) {
      try {
        if (partition.getName().equals(addr.getPartition()) && addressList.add(addr.pendingAssignment()) && (--count == 0)) {
          break;
        }
      }
 catch (      final IllegalStateException e) {
        LOG.trace(e,e);
      }
    }
    if (count != 0) {
      for (      final Address addr : addressList) {
        try {
          addr.release();
        }
 catch (        final IllegalStateException e) {
          LOG.error(e,e);
        }
      }
      throw new NotEnoughResourcesAvailable("Not enough resources available: addresses (try --addressing private)");
    }
    return addressList;
  }
}
