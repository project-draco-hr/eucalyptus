{
  if (payload instanceof BaseMessage) {
    return (BaseMessage)payload;
  }
 else   if (payload instanceof VmAllocationInfo) {
    return ((VmAllocationInfo)payload).getRequest();
  }
 else   if (!(payload instanceof String)) {
    return new EucalyptusErrorMessageType("ReplyQueue",LogUtil.dumpObject(payload));
  }
 else {
    return (BaseMessage)BindingManager.getBinding("msgs_eucalyptus_com").fromOM((String)payload);
  }
}
