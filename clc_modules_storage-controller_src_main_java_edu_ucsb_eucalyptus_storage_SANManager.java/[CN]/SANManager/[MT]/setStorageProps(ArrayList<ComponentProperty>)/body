{
  ConfigurableManagement.getInstance().setProperties(this.getClass(),storageParams);
  EntityWrapper<StorageInfo> db=StorageController.getEntityWrapper();
  StorageInfo storageInfo;
  try {
    storageInfo=db.getUnique(new StorageInfo(StorageProperties.NAME));
    storageInfo.setMaxTotalVolumeSizeInGb(StorageProperties.MAX_TOTAL_VOLUME_SIZE);
    storageInfo.setMaxVolumeSizeInGB(StorageProperties.MAX_VOLUME_SIZE);
    storageInfo.setSanHost(SANManager.SAN_HOST);
    storageInfo.setSanUser(SANManager.SAN_USERNAME);
    try {
      storageInfo.setSanPassword(BlockStorageUtil.encryptSCTargetPassword(SANManager.SAN_PASSWORD));
    }
 catch (    EucalyptusCloudException e) {
      LOG.fatal("Unable to update password. " + e.getMessage());
    }
    db.commit();
  }
 catch (  EucalyptusCloudException ex) {
    try {
      storageInfo=new StorageInfo(StorageProperties.NAME,StorageProperties.MAX_TOTAL_VOLUME_SIZE,null,StorageProperties.MAX_VOLUME_SIZE,null,null,SANManager.SAN_HOST,SANManager.SAN_USERNAME,BlockStorageUtil.encryptSCTargetPassword(SANManager.SAN_PASSWORD),null);
      db.add(storageInfo);
    }
 catch (    EucalyptusCloudException e) {
      LOG.fatal("Unable to update password. " + e.getMessage());
    }
    db.commit();
  }
  connectionManager.configure();
}
