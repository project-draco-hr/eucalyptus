{
  final Date from=fromDate.getValue();
  final Date to=toDate.getValue();
  String errorMessage=null;
  if (from == null || to == null) {
    errorMessage="Invalid report period.";
  }
 else   if (System.currentTimeMillis() < from.getTime()) {
    errorMessage="Invalid report period requested, 'From' must be in the past.";
  }
 else   if (from.getTime() > to.getTime()) {
    errorMessage="Invalid report period requested, 'From' must not be later than 'Through'";
  }
  if (errorMessage != null) {
    clientFactory.getShellView().getFooterView().showStatus(FooterView.StatusType.ERROR,errorMessage,FooterView.DEFAULT_STATUS_CLEAR_DELAY);
    return;
  }
  this.contentPanel.clear();
  this.contentPanel.add(loadingAnimation);
  this.presenter.generateReport(fromDate.getValue(),toDate.getValue(),type.getValue(type.getSelectedIndex()));
}
