{
  EntityWrapper<StorageInfo> storageDb=new EntityWrapper<StorageInfo>(StorageProperties.DB_NAME);
  StorageInfo conf=null;
  try {
    conf=storageDb.getUnique(new StorageInfo(StorageProperties.NAME));
    storageDb.commit();
  }
 catch (  EucalyptusCloudException e) {
    LOG.warn("Failed to get storage info for: " + StorageProperties.NAME + ". Loading defaults.");
    conf=new StorageInfo(StorageProperties.NAME,StorageProperties.MAX_TOTAL_VOLUME_SIZE,StorageProperties.iface,StorageProperties.MAX_VOLUME_SIZE,StorageProperties.storageRootDirectory,StorageProperties.zeroFillVolumes);
    storageDb.add(conf);
    storageDb.commit();
  }
catch (  Throwable t) {
    LOG.error("Unable to get storage info for: " + StorageProperties.NAME);
    storageDb.rollback();
    return new StorageInfo(StorageProperties.NAME,StorageProperties.MAX_TOTAL_VOLUME_SIZE,StorageProperties.iface,StorageProperties.MAX_VOLUME_SIZE,StorageProperties.storageRootDirectory,StorageProperties.zeroFillVolumes);
  }
  return conf;
}
