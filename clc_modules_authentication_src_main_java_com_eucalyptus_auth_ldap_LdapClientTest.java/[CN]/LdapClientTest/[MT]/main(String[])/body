{
  LdapIntegrationConfiguration lic=new LdapIntegrationConfiguration();
  lic.setServerUrl("ldap://eucahost-4-21.eucalyptus");
  lic.setAuthMethod("simple");
  lic.setAuthPrincipal("cn=admin,dc=test-eucalyptus,dc=com");
  lic.setAuthCredentials("pwd*4admin");
  lic.setUseSsl(true);
  lic.setGroupBaseDn("ou=Groups,dc=test-eucalyptus,dc=com");
  lic.setUserBaseDn("ou=People,dc=test-eucalyptus,dc=com");
  LdapClient client=new LdapClient(lic);
  NamingEnumeration<SearchResult> results=client.search("dc=test-eucalyptus,dc=com","objectClass=inetOrgPerson",new String[]{"displayName"});
  while (results.hasMore()) {
    SearchResult r=results.next();
    System.out.println(r.getNameInNamespace() + " -- " + r.getAttributes());
  }
}
