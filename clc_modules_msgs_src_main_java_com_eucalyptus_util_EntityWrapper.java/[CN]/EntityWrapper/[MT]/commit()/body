{
  if (doDebug) {
    Exception e=new Exception();
    e.fillInStackTrace();
    for (    StackTraceElement ste : e.getStackTrace()) {
      if (ste.getClassName().equals(EntityWrapper.class.getCanonicalName())) {
        continue;
      }
 else {
        LOG.debug("CLOSE CONNECTION " + ste.toString());
        break;
      }
    }
  }
  try {
    this.em.flush();
    this.tx.commit();
    this.em.close();
  }
 catch (  Throwable e1) {
    LOG.trace(e1,e1);
  }
}
