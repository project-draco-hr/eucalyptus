{
  int i=0;
  for (  StackTraceElement ste : Thread.currentThread().getStackTrace()) {
    if (i++ < 2 || ste.getClassName().matches(".*EntityWrapper.*") || ste.getClassName().matches(".*TxHandle.*") || ste.getMethodName().equals("getEntityWrapper")) {
      continue;
    }
 else {
      return ste;
    }
  }
  throw new RuntimeException("BUG: Reached bottom of stack trace without finding any relevent frames.");
}
