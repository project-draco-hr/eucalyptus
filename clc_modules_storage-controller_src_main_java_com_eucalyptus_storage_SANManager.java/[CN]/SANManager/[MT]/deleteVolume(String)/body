{
  EntityWrapper<EquallogicVolumeInfo> db=StorageController.getEntityWrapper();
  try {
    EquallogicVolumeInfo volumeInfo=db.getUnique(new EquallogicVolumeInfo(volumeId));
  }
 catch (  EucalyptusCloudException ex) {
    LOG.error(ex);
    throw new NoSuchEntityException(volumeId);
  }
 finally {
    db.commit();
  }
  if (connectionManager.deleteVolume(volumeId)) {
    db=StorageController.getEntityWrapper();
    EquallogicVolumeInfo volumeInfo=db.getUnique(new EquallogicVolumeInfo(volumeId));
    db.delete(volumeInfo);
    db.commit();
  }
}
